(self.webpackJsonp=self.webpackJsonp||[]).push([[58],{236:function(e,t,n){"use strict";var o,r,i,l,c;r=n(1),n(2),n(203),c=n(98),r.Radio.channel("global"),o=r.Radio.channel("msleg"),l=function(e,n){return new c.Parser({explicitArray:!1,normalizeTags:!0,async:!1}).parseString(e.responseText,function(e,t){return n(t)})},i=function(e,t){var n;return(n=r.ajax({type:"GET",dataType:"text",url:e})).done(function(){return l(n,t)})},o.reply("get-xml-url",function(e,t){return i(e,t)}),e.exports={get_xml:i,parse_xhr_xml:l}},498:function(e,t,n){"use strict";var a,u,s,o,r,p,i,f,l,c=function(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e};function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function g(){return h(this,g),y(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}u=n(1),r=n(2),l=n(3),n(98),n(5).default,s=n(499),n(236).get_xml,f=n(500),i=n(501),u.Radio.channel("messages"),a=u.Radio.channel("msleg"),m(g,i),c(g,[{key:"url",value:function(){return a.request("get-msleg-config").hr_membs}}]),p=g,o=function(){var e=(m(t,r.View),c(t,[{key:"onRender",value:function(){var e,t,n,o,r,i,l,c=this;return r=new p,l=r.url(),t=a.request("get-local-xmlobject-model"),console.log("LocalObject",t,l),o=new t({url:l}),e=a.request("get-local-xmlobject-collection"),n=new e,i=n.fetch({data:{url:l}}),console.log("localObject",o),console.log("response",i,o),i.fail(function(){return i=r.fetch({dataType:"text"}),console.log("RESPONSE",i),i.done(function(){var e;return console.log("members",r),console.log("object",r.toJSON()),e={url:l,content:r.toJSON()},a.request("save-local-xmlObject",e).done(function(){var e;return r=f(r.toJSON()),n=new u.Collection(r),e=new s({collection:n}),c.showChildView("houseMembers",e)})}),i.fail(function(){return console.warn("members",r)})})}}]),t);function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.template=l.renderable(function(e){return l.h1("MS Legislature Demo"),l.div(".house-members")}),e.prototype.ui={houseMembers:".house-members"},e.prototype.regions={houseMembers:"@ui.houseMembers"},e.prototype.templateContext={appName:"msleg"},e}.call(void 0),e.exports=o},499:function(e,t,n){"use strict";var o,r,i,l,c,a,u=function(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e};function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(0),o=n(1),c=n(2),a=n(3),n(88),n(89),o.Radio.channel("global"),o.Radio.channel("ebcsv"),i=function(){var e=(b(t,c.View),u(t,[{key:"linkClicked",value:function(e){return e.preventDefault(),console.log("MODEL",this.model.get("link"))}}]),t);function t(){return p(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.tagName="div",e.prototype.className="col-md-3",e.prototype.template=a.renderable(function(e){var t;return t="#FFF5EE"===e.bgc?".bg-body-d10.text-light":"#FFEFD5"===e.bgc?".bg-body-d5":".bg-warning",a.a(t,{href:"#msleg/house/members/view/"+e.id},function(){return a.text(e.name)})}),e.prototype.ui={link:"a"},e.prototype.events={"click @ui.link":"linkClicked"},e}.call(void 0),r=function(){var e=(b(t,c.CollectionView),t);function t(){return p(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.childView=i,e.prototype.className="row",e}.call(void 0),l=function(){var e=(b(t,c.View),u(t,[{key:"onRender",value:function(){var e;return e=new r({collection:this.collection}),this.showChildView("members",e)}}]),t);function t(){return p(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.template=a.renderable(function(){return a.div(".members.col-md-10.offset-md-1")}),e.prototype.ui={members:".members"},e.prototype.regions={members:"@ui.members"},e}.call(void 0),e.exports=l},500:function(e,t,n){"use strict";var h,y,c,o;y=["bgc","link","name"],h=function(e,t){return"m"+e+"_"+t},c=function(e){var t,n,o,r,i,l,c,a,u,s,p,f,b;for(a=[],Object.keys(e).length,t=0,i=(p=[1,2,3,4,5]).length;t<i;t++){for(u=p[t],c={},o=0,l=y.length;o<l;o++)b=e[n=h(u,f=y[o])],c[f]=e[n],"link"===f&&b&&(r=(s=b.split("/"))[s.length-1],c.id=r.split(".")[0]);a.push(c)}return a},o=function(e){var t,n,o,r,i,l;for({},i=[],t=0,n=(o=e.legislature.member).length;t<n;t++)l=o[t],r=c(l),i=i.concat(r);return i},e.exports=o},501:function(e,t,n){"use strict";var o,r,i,l=function(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e};function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}o=n(1),n(2),n(41),n(236).parse_xhr_xml,i=n(98),o.Radio.channel("global"),o.Radio.channel("msleg"),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,o.Model),l(a,[{key:"parse",value:function(e){var n=this;return new i.Parser({explicitArray:!1,normalizeTags:!0,async:!1}).parseString(e,function(e,t){return n.unset("content"),n.set(t)}),{content:e}}}]),r=a,e.exports=r}}]);
//# sourceMappingURL=msleg-view-index-64a8d105898beabd64a9.js.map