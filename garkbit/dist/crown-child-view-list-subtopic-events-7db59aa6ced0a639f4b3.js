(self.webpackJsonp=self.webpackJsonp||[]).push([[37],{1184:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),o=(m(n(7)),n(1)),r=n(3),a=(m(n(6)),m(n(224))),u=m(n(1185)),l=m(n(1186));n(1187);var i,c,f,j,p,d,h,b=m(n(1189));function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}f=o.Radio.channel("global"),i=o.Radio.channel("crown"),d=i.request("get-event-manager","topics"),h=f.request("get-topic-colors"),console.log("topicColors",h),j=function(e){return new Date((0,a.default)(e).utc().format("YYYY-MM-DDTHH:mm:ss"))},p=function(e){var t;return t=(0,u.default)(h.get("content")[e.maintopic].value),e.startDate=j(e.start),e.endDate=e.startDate,(null!=e?e.end:void 0)&&(e.endDate=j(e.end)),e.color="#"+t.toHex(),e.name=e.title,e},c=function(e){function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"template",value:function(){}},{key:"onClickDay",value:function(e){var t;if(null!=e?e.events.length:void 0)return t=new b.default({model:new o.Model(e)}),f.request("main:app:show-modal",t,!0)}},{key:"onRender",value:function(){return this.calendar=new l.default(this.$el.get(0),{clickDay:this.onClickDay}),this.resetTopics()}},{key:"resetTopics",value:function(){var e,t,n;for(t in d.setCurrentTopicEvents(),e=[],n=d.setCurrentTopicEvents())n[t].each((function(n){var s;return(n=n.toJSON()).maintopic=t,s=p(n),e.push(s)}));return this.calendar.setDataSource(e)}}]),t}(r.View),t.default=c},1189:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),r=n(1),a=n(3),u=c(n(6)),l=c(n(381)),i=c(n(652));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}s=function(){var e=function(e){function t(){return f(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"onRender",value:function(){var e;return e=new a.CollectionView({collection:new r.Collection(this.model.get("events")),viewComparator:"start",childView:i.default}),this.showChildView("eventsRegion",e)}}]),t}(l.default);return e.prototype.template=u.default.renderable((function(){return u.default.div(".modal-dialog.modal-md",(function(){return u.default.div(".modal-content",(function(){return u.default.div(".events"),u.default.div(".modal-footer",(function(){return u.default.button(".close-btn.btn.btn-warning.fa.fa-close.ml-auto",{data:{dismiss:"modal"}},"Close")}))}))}))})),e.prototype.ui={closeBtn:".close-btn",eventsRegion:".events"},e.prototype.regions={eventsRegion:"@ui.eventsRegion"},e.prototype.events={"click @ui.closeBtn":"emptyModal"},e}.call(void 0),t.default=s},403:function(e,t,n){var s={"./af":240,"./af.js":240,"./ar":241,"./ar-dz":242,"./ar-dz.js":242,"./ar-kw":243,"./ar-kw.js":243,"./ar-ly":244,"./ar-ly.js":244,"./ar-ma":245,"./ar-ma.js":245,"./ar-sa":246,"./ar-sa.js":246,"./ar-tn":247,"./ar-tn.js":247,"./ar.js":241,"./az":248,"./az.js":248,"./be":249,"./be.js":249,"./bg":250,"./bg.js":250,"./bm":251,"./bm.js":251,"./bn":252,"./bn-bd":253,"./bn-bd.js":253,"./bn.js":252,"./bo":254,"./bo.js":254,"./br":255,"./br.js":255,"./bs":256,"./bs.js":256,"./ca":257,"./ca.js":257,"./cs":258,"./cs.js":258,"./cv":259,"./cv.js":259,"./cy":260,"./cy.js":260,"./da":261,"./da.js":261,"./de":262,"./de-at":263,"./de-at.js":263,"./de-ch":264,"./de-ch.js":264,"./de.js":262,"./dv":265,"./dv.js":265,"./el":266,"./el.js":266,"./en-au":267,"./en-au.js":267,"./en-ca":268,"./en-ca.js":268,"./en-gb":269,"./en-gb.js":269,"./en-ie":270,"./en-ie.js":270,"./en-il":271,"./en-il.js":271,"./en-in":272,"./en-in.js":272,"./en-nz":273,"./en-nz.js":273,"./en-sg":274,"./en-sg.js":274,"./eo":275,"./eo.js":275,"./es":276,"./es-do":277,"./es-do.js":277,"./es-mx":278,"./es-mx.js":278,"./es-us":279,"./es-us.js":279,"./es.js":276,"./et":280,"./et.js":280,"./eu":281,"./eu.js":281,"./fa":282,"./fa.js":282,"./fi":283,"./fi.js":283,"./fil":284,"./fil.js":284,"./fo":285,"./fo.js":285,"./fr":286,"./fr-ca":287,"./fr-ca.js":287,"./fr-ch":288,"./fr-ch.js":288,"./fr.js":286,"./fy":289,"./fy.js":289,"./ga":290,"./ga.js":290,"./gd":291,"./gd.js":291,"./gl":292,"./gl.js":292,"./gom-deva":293,"./gom-deva.js":293,"./gom-latn":294,"./gom-latn.js":294,"./gu":295,"./gu.js":295,"./he":296,"./he.js":296,"./hi":297,"./hi.js":297,"./hr":298,"./hr.js":298,"./hu":299,"./hu.js":299,"./hy-am":300,"./hy-am.js":300,"./id":301,"./id.js":301,"./is":302,"./is.js":302,"./it":303,"./it-ch":304,"./it-ch.js":304,"./it.js":303,"./ja":305,"./ja.js":305,"./jv":306,"./jv.js":306,"./ka":307,"./ka.js":307,"./kk":308,"./kk.js":308,"./km":309,"./km.js":309,"./kn":310,"./kn.js":310,"./ko":311,"./ko.js":311,"./ku":312,"./ku.js":312,"./ky":313,"./ky.js":313,"./lb":314,"./lb.js":314,"./lo":315,"./lo.js":315,"./lt":316,"./lt.js":316,"./lv":317,"./lv.js":317,"./me":318,"./me.js":318,"./mi":319,"./mi.js":319,"./mk":320,"./mk.js":320,"./ml":321,"./ml.js":321,"./mn":322,"./mn.js":322,"./mr":323,"./mr.js":323,"./ms":324,"./ms-my":325,"./ms-my.js":325,"./ms.js":324,"./mt":326,"./mt.js":326,"./my":327,"./my.js":327,"./nb":328,"./nb.js":328,"./ne":329,"./ne.js":329,"./nl":330,"./nl-be":331,"./nl-be.js":331,"./nl.js":330,"./nn":332,"./nn.js":332,"./oc-lnc":333,"./oc-lnc.js":333,"./pa-in":334,"./pa-in.js":334,"./pl":335,"./pl.js":335,"./pt":336,"./pt-br":337,"./pt-br.js":337,"./pt.js":336,"./ro":338,"./ro.js":338,"./ru":339,"./ru.js":339,"./sd":340,"./sd.js":340,"./se":341,"./se.js":341,"./si":342,"./si.js":342,"./sk":343,"./sk.js":343,"./sl":344,"./sl.js":344,"./sq":345,"./sq.js":345,"./sr":346,"./sr-cyrl":347,"./sr-cyrl.js":347,"./sr.js":346,"./ss":348,"./ss.js":348,"./sv":349,"./sv.js":349,"./sw":350,"./sw.js":350,"./ta":351,"./ta.js":351,"./te":352,"./te.js":352,"./tet":353,"./tet.js":353,"./tg":354,"./tg.js":354,"./th":355,"./th.js":355,"./tk":356,"./tk.js":356,"./tl-ph":357,"./tl-ph.js":357,"./tlh":358,"./tlh.js":358,"./tr":359,"./tr.js":359,"./tzl":360,"./tzl.js":360,"./tzm":361,"./tzm-latn":362,"./tzm-latn.js":362,"./tzm.js":361,"./ug-cn":363,"./ug-cn.js":363,"./uk":364,"./uk.js":364,"./ur":365,"./ur.js":365,"./uz":366,"./uz-latn":367,"./uz-latn.js":367,"./uz.js":366,"./vi":368,"./vi.js":368,"./x-pseudo":369,"./x-pseudo.js":369,"./yo":370,"./yo.js":370,"./zh-cn":371,"./zh-cn.js":371,"./zh-hk":372,"./zh-hk.js":372,"./zh-mo":373,"./zh-mo.js":373,"./zh-tw":374,"./zh-tw.js":374};function o(e){var t=r(e);return n(t)}function r(e){if(!n.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}o.keys=function(){return Object.keys(s)},o.resolve=r,e.exports=o,o.id=403},652:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s,o=n(3),r=u(n(6)),a=u(n(224));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}s=function(){var e=function(e){function t(){return l(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(o.View);return e.prototype.tagName="p",e.prototype.template=r.default.renderable((function(e){var t,n,s,o,u,l;if(r.default.text(a.default.utc(e.start).format("MMMM D, YYYY")),r.default.text(", "),(null!=e?e.pretext:void 0)&&r.default.small((function(){return r.default.text(e.pretext),r.default.text(" ")})),(null!=e?e.journal:void 0)&&(r.default.text(e.journal),r.default.text(", ")),(null!=e?e.authors:void 0)&&(r.default.text(e.authors),r.default.text(", ")),r.default.a({href:e.link},e.title),null!=e&&null!=(o=e.extra)?o.length:void 0){for(l=[],t=0,s=(u=e.extra).length;t<s;t++)n=u[t],r.default.text(", "),l.push(r.default.a({href:n.link},n.name));return l}})),e}.call(void 0),t.default=s}}]);
//# sourceMappingURL=crown-child-view-list-subtopic-events-7db59aa6ced0a639f4b3.js.map