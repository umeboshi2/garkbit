(self.webpackJsonp=self.webpackJsonp||[]).push([[3],{102:function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function e(t,n,o){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,o)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(o):void 0};var r,s,a,l,u,c,p,f,d,h,m,v,b,_,g;d=n(0),r=n(4),s=n(1),p=n(2),n(81),g=n(3),n(129),n(118),_=n(5);var y=n(30);y.make_field_input,y.make_field_select,n(17).modal_close_button,a=n(140),u=n(126),c=s.Radio.channel("global"),f=s.Radio.channel("messages"),s.Radio.channel("sofi"),c.request("main:app:BaseModalView"),g.renderable(function(e,t){return g.dl(".dl-horizontal",function(){return g.dt(e),g.dd(t)})}),b=g.renderable(function(e){var t;if(t=".btn.btn-default",g.span(".info-button"+t,function(){return g.i(".fa.fa-info"," Info")}),g.span(".photos-button"+t,function(){var t,n;return n=" Photos",(null!=e&&null!=(t=e.photos)?t.length:void 0)&&(n=" "+e.photos.length+" Photos"),g.i(".fa.fa-photo",n)}),null!=e?e.workspaceView:void 0)return"add"===e.workspaceView?g.span(".workspace-button"+t,function(){return" Add",g.i(".fa.fa-plus-square",{style:"text-overflow:ellipsis;"}," Add")}):g.span(".workspace-button"+t,function(){return" Remove",g.i(".fa.fa-minus-square",{style:"text-overflow:ellipsis;"}," Remove")})}),m=["issue","currentprice","ReleaseDate","publisher","seriesgroup","series","quantity"],h=["table","table-striped","table-bordered","table-hover"],v=g.renderable(function(e){return g.div(".col-sm-8",function(){return g.table("."+h.join("."),function(){var t,n,o,i,r,s;for((null!=e&&null!=(i=e.workspace)?i.name:void 0)&&(s="#sofi/comics/workspace/view/"+e.workspace.name,g.tr(function(){return g.td(function(){return g.strong("Workspace")}),g.td(function(){return g.a({href:s},e.workspace.name)})})),r=[],n=0,o=m.length;n<o;n++)t=m[n],r.push(g.tr(function(){return g.td(function(){return g.strong(t)}),g.td(e[t])}));return r})})}),l=function(){var e=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._scrapeAndSetImageSrc=e._scrapeAndSetImageSrc.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),o(t,[{key:"ui",value:function(){return d.extend(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ui",this).call(this),{photos_btn:".photos-button",workspace_btn:".workspace-button"})}},{key:"events",value:function(){return d.extend(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"events",this).call(this),{"click @ui.photos_btn":"managePhotos","click @ui.workspace_btn":"addToWorkspace"})}},{key:"templateContext",value:function(){var e,n,o,r,s;return(n=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"templateContext",this).call(this)).workspaceView=this.getOption("workspaceView"),n.columnClass="col-sm-5",e=this.model.toJSON(),null==(null!=n?n.series:void 0)&&null==(null!=e?e.series:void 0)&&(n.series=e.mainsection.series.displayname),null!=(null!=n?n.issue:void 0)&&null==(null!=e?e.issue:void 0)||(n.issue=e.issue),null!=n&&n.url||null!=(null!=e?e.url:void 0)||(s=null!=e&&null!=(o=e.links)&&null!=(r=o.link)?r.url:void 0,n.url=s||"UNAVAILABLE"),n}},{key:"mouse_leave_item",value:function(e){return this.ui.info_btn.show()}},{key:"managePhotos",value:function(){var e;return e=this.model.get("comic_id"),_("#sofi/comics/photos/"+e)}},{key:"addToWorkspace",value:function(){return this.trigger("workspace:add:comic",this.model)}},{key:"showJsonView",value:function(){var e=this;return this.model.fetch().done(function(){var n,o;return e.model.has("comic")?(n=JSON.parse(e.model.get("comic").content),o=new u({model:new s.Model(n)}),c.request("show-modal",o)):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"showJsonView",e).call(e)})}},{key:"getComicRow",value:function(){return this.model.has("comic")?this.model.get("comic"):this.model.toJSON()}},{key:"onDomRefresh",value:function(){var e,t,n,o;return this.$el.draggable(),this.$el.droppable(),"UNAVAILABLE"!==(o=(e=this.getComicRow()).url)?"UNSET"===(t=e.image_src)||void 0===t?this._get_comic_data(o,this._scrapeAndSetImageSrc):(n=new s.Model({image_src:t,url:o}),this.showComicImage(n,!1)):(console.warn("NO IMAGE"),this._show_unavailable_image())}},{key:"_get_comic_data",value:function(e,t){var n,o;return console.warn("_get_comic_data",e),n=new URL(e),(o=s.ajax({type:"GET",dataType:"html",url:"/clzcore"+n.pathname})).done(function(){return t(e,o.responseText)}),o.fail(function(){return f.request("warning","Couldn't get the info")})}},{key:"_scrapeAndSetImageSrc",value:function(e,n){var o,i,s,a,l,u,c=this;for(function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")}(this,t),u=[],s=0,a=(o=r.parseHTML(n)).length;s<a;s++)"LINK"===(i=o[s]).tagName&&"image_src"===i.rel&&u.push(i);return u.length>1&&f.request("warning","Too many links for this comic."),l=u[0],this.model.set("image_src",l.href),this.model.save().done(function(){return c.showComicImage(c.model)})}},{key:"_show_unavailable_image",value:function(){var e;return e=new p.View({template:g.renderable(function(){return g.i(".fa.fa-exclamation-triangle.fa-4x",{style:"width:74px;height:115px;"})})}),this.showChildView("image",e)}},{key:"show_comic",value:function(){var e;return e=this.model.get("image_src"),console.log("show_comic image_src",e)}}]),t}();return e.prototype.childViewTriggers={"show:image":"show:image"},e.prototype.template=g.renderable(function(e){var t;return t=e.issue,(null!=e?e.issueext:void 0)&&(t=""+e.issue+e.issueext),g.div(e.entryClasses+"."+e.columnClass,function(){return g.p(".text-center",function(){return g.strong(e.series+" #"+t)}),g.div(".row",function(){return g.div(".col-sm-2",function(){return g.div(".comic-image.thumb"),b(e)}),g.div(".col-sm-3.col-sm-offset-1",function(){return v(e)})})})}),e}.call(void 0),e.exports=l},108:function(e,t,n){"use strict";var o,i,r,s,a,l,u,c,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}o=n(1),l=n(2),c=n(3);var m=n(30);m.make_field_input,m.make_field_select;var v=n(17);u=v.modal_close_button,a=o.Radio.channel("global"),o.Radio.channel("messages"),o.Radio.channel("sofi"),i=a.request("main:app:BaseModalView"),s=function(){var e=function(e){function t(){return f(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,i),t}();return e.prototype.template=c.renderable(function(e){return e.mainsection,c.div(".modal-dialog",function(){return c.div(".modal-content",function(){return c.div(".modal-body",function(){return c.img({src:e.image_src})}),c.div(".modal-footer",function(){return c.ul(".list-inline",function(){return"btn.btn-default.btn-sm",c.li("#close-modal",function(){return u("Close","check")})})})})})}),e}.call(void 0),r=function(e){function t(){return f(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,l.Behavior),p(t,[{key:"onShowImageModal",value:function(){var e;return e=new s({model:this.view.model}),a.request("show-modal",e)}}]),t}(),e.exports=r},118:function(e,t,n){var o,i,r;
/*!
 * jQuery UI Droppable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */i=[n(4),n(129),n(199),n(93),n(153)],void 0===(r="function"==typeof(o=function(e){e.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,n=this.options,o=n.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(o)?o:function(e){return e.is(o)},this.proportions=function(){if(!arguments.length)return t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});t=arguments[0]},this._addToManager(n.scope),n.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,n){if("accept"===t)this.accept=e.isFunction(n)?n:function(e){return e.is(n)};else if("scope"===t){var o=e.ui.ddmanager.droppables[this.options.scope];this._splice(o),this._addToManager(n)}this._super(t,n)},_activate:function(t){var n=e.ui.ddmanager.current;this._addActiveClass(),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this._removeActiveClass(),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._addHoverClass(),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeHoverClass(),this._trigger("out",t,this.ui(n)))},_drop:function(n,o){var i=o||e.ui.ddmanager.current,r=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var o=e(this).droppable("instance");if(o.options.greedy&&!o.options.disabled&&o.options.scope===i.options.scope&&o.accept.call(o.element[0],i.currentItem||i.element)&&t(i,e.extend(o,{offset:o.element.offset()}),o.options.tolerance,n))return r=!0,!1}),!r&&!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",n,this.ui(i)),this.element))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var t=e.ui.intersect=function(){function e(e,t,n){return e>=t&&e<t+n}return function(t,n,o,i){if(!n.offset)return!1;var r=(t.positionAbs||t.position.absolute).left+t.margins.left,s=(t.positionAbs||t.position.absolute).top+t.margins.top,a=r+t.helperProportions.width,l=s+t.helperProportions.height,u=n.offset.left,c=n.offset.top,p=u+n.proportions().width,f=c+n.proportions().height;switch(o){case"fit":return u<=r&&a<=p&&c<=s&&l<=f;case"intersect":return u<r+t.helperProportions.width/2&&a-t.helperProportions.width/2<p&&c<s+t.helperProportions.height/2&&l-t.helperProportions.height/2<f;case"pointer":return e(i.pageY,c,n.proportions().height)&&e(i.pageX,u,n.proportions().width);case"touch":return(s>=c&&s<=f||l>=c&&l<=f||s<c&&l>f)&&(r>=u&&r<=p||a>=u&&a<=p||r<u&&a>p);default:return!1}}}();return e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,n){var o,i,r=e.ui.ddmanager.droppables[t.options.scope]||[],s=n?n.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(o=0;o<r.length;o++)if(!(r[o].options.disabled||t&&!r[o].accept.call(r[o].element[0],t.currentItem||t.element))){for(i=0;i<a.length;i++)if(a[i]===r[o].element[0]){r[o].proportions().height=0;continue e}r[o].visible="none"!==r[o].element.css("display"),r[o].visible&&("mousedown"===s&&r[o]._activate.call(r[o],n),r[o].offset=r[o].element.offset(),r[o].proportions({width:r[o].element[0].offsetWidth,height:r[o].element[0].offsetHeight}))}},drop:function(n,o){var i=!1;return e.each((e.ui.ddmanager.droppables[n.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t(n,this,this.options.tolerance,o)&&(i=this._drop.call(this,o)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,o)))}),i},dragStart:function(t,n){t.element.parentsUntil("body").on("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)})},drag:function(n,o){n.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(n,o),e.each(e.ui.ddmanager.droppables[n.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,r,s,a=t(n,this,this.options.tolerance,o),l=!a&&this.isover?"isout":a&&!this.isover?"isover":null;l&&(this.options.greedy&&(r=this.options.scope,(s=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===r})).length&&((i=e(s[0]).droppable("instance")).greedyChild="isover"===l)),i&&"isover"===l&&(i.isover=!1,i.isout=!0,i._out.call(i,o)),this[l]=!0,this["isout"===l?"isover":"isout"]=!1,this["isover"===l?"_over":"_out"].call(this,o),i&&"isout"===l&&(i.isout=!1,i.isover=!0,i._over.call(i,o)))}})},dragStop:function(t,n){t.element.parentsUntil("body").off("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}},!1!==e.uiBackCompat&&e.widget("ui.droppable",e.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),e.ui.droppable})?o.apply(t,i):o)||(e.exports=r)},119:function(e,t,n){"use strict";var o,i,r,s,a,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(4),i=n(1),n(2),n(81),a=n(3),n(5);var u=n(30);u.make_field_input,u.make_field_select,n(17).modal_close_button,s=n(108),i.Radio.channel("global"),i.Radio.channel("messages"),o=i.Radio.channel("sofi"),r=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Marionette.View),l(t,[{key:"onDomRefresh",value:function(){return this.trigger("show:image")}}]),t}();return e.prototype.template=a.renderable(function(e){var t;return t=o.request("fix-image-url",e.image_src),a.img(".thumb.media-object",{src:t})}),e.prototype.ui={image:"img"},e.prototype.triggers={"click @ui.image":"show:image:modal"},e.prototype.behaviors=[s],e}.call(void 0),e.exports=r},126:function(e,t,n){"use strict";var o,i,r,s,a,l,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(0),o=n(1),n(2),l=n(3),r=n(100),n(99),n(31),i=n(41);var c=n(17);a=c.modal_close_button,o.Radio.channel("global"),o.Radio.channel("sofi"),s=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Marionette.View),u(t,[{key:"expand_view",value:function(){return this.expanded_view?(this.json_view.collapse(!0),this.expanded_view=!1,this.ui.expand_btn.text("Expand")):(this.json_view.expand(!0),this.expanded_view=!0,this.ui.expand_btn.text("Collapse"))}},{key:"onDomRefresh",value:function(){var e;return this.expanded_view=!1,e=this.model.has("content")?this.model.get("content"):this.model.toJSON(),this.json_view=new r(e),this.ui.body.prepend(this.json_view.dom)}}]),t}();return e.prototype.behaviors=[i],e.prototype.template=l.renderable(function(e){var t;return e=(null!=e?e.content:void 0)||e,t=e.mainsection,l.div(".modal-dialog",function(){return l.div(".modal-content",function(){return l.h3(t.series.displayname+" #"+t.issue),l.div(".modal-body",function(){return l.div(".expand-button.btn.btn-default","Expand"),l.div(".panel")}),l.div(".modal-footer",function(){return l.ul(".list-inline",function(){return"btn.btn-default.btn-sm",l.li("#close-modal",function(){return a("Close","check")})})})})})}),e.prototype.ui={body:".panel",expand_btn:".expand-button",close_btn:"#close-modal div"},e.prototype.events={"click @ui.expand_btn":"expand_view"},e}.call(void 0),e.exports=s},138:function(e,t,n){"use strict";var o,i,r,s,a,l;n(4),o=n(1),n(2),n(81),l=n(3),n(5);var u=n(30);u.make_field_input,u.make_field_select;var c=n(17);a=c.modal_close_button,n(108),s=o.Radio.channel("global"),o.Radio.channel("messages"),o.Radio.channel("sofi"),i=s.request("main:app:BaseModalView"),r=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),t}();return e.prototype.template=l.renderable(function(e){return e.mainsection,l.div(".modal-dialog.modal-lg",function(){return l.div(".modal-content",function(){return l.div(".modal-body",function(){var t;return t=e.src.replace("http://","//"),l.iframe({style:"width:97%;height:75vh;",src:t})}),l.div(".modal-footer",function(){return l.ul(".list-inline",function(){return"btn.btn-default.btn-sm",l.li("#close-modal",function(){return a("Close","check")})})})})})}),e}.call(void 0),e.exports=r},139:function(e,t,n){"use strict";var o,i,r,s,a,l,u,c,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(4),o=n(1),u=n(2),n(81),c=n(3),n(5);var f=n(30);f.make_field_input,f.make_field_select,n(17).modal_close_button,s=n(138),r=n(119),a=n(126),l=o.Radio.channel("global"),o.Radio.channel("messages"),o.Radio.channel("sofi"),i=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.View),p(t,[{key:"ui",value:function(){return{info_btn:".info-button",clz_link:".clz-link",item:".item",image:".comic-image"}}},{key:"regions",value:function(){return{image:"@ui.image"}}},{key:"events",value:function(){return{"click @ui.info_btn":"showJsonView","click @ui.clz_link":"showIframeView"}}},{key:"showIframeView",value:function(e){var t,n;if(e.preventDefault(),"A"===(t=e.target).tagName)return n=new s({model:new o.Model({src:t.href})}),l.request("show-modal",n)}},{key:"showJsonView",value:function(e){var t;return t=new a({model:this.model}),l.request("show-modal",t)}},{key:"showComicImage",value:function(e){var t;return t=new r({model:e}),this.showChildView("image",t)}}]),t}();return e.prototype.template=c.renderable(function(e){var t;return t=e.issue,(null!=e?e.issueext:void 0)&&(t=""+e.issue+e.issueext),c.div(e.entryClasses+"."+e.columnClass,function(){return c.div(".comic-image",function(){return c.i(".fa.fa-spinner.fa-spin"),c.text(" loading...")}),c.div(".caption",function(){return c.span(function(){return c.i(".info-button"+e.infoButtonClasses),c.h5({style:"text-overflow: ellipsis;"},e.series+" #"+t)}),"UNAVAILABLE"!==e.url?c.a(".clz-link",{href:""+e.url,target:"_blank"},"cloud link"):(console.log("MODEL.URL",e.url),c.span(".alert.alert-danger","URL UNAVAILABLE"))})})}),e}.call(void 0),e.exports=i},140:function(e,t,n){"use strict";var o,i,r,s,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(4),o=n(1),n(2),n(81),s=n(3),n(5);var l=n(30);l.make_field_input,l.make_field_select,n(17).modal_close_button,n(119),r=n(139),o.Radio.channel("global"),o.Radio.channel("messages"),o.Radio.channel("sofi"),i=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r),a(t,[{key:"templateContext",value:function(){var e,t,n,o,i;return t={entryClasses:".item.listview-list-entry.thumbnail",columnClass:"col-sm-2",infoButtonClasses:".fa.fa-info.fa-pull-left.btn.btn-default.btn-sm"},this.model.has("inDatabase")&&(this.model.get("inDatabase")?(console.log("MODEL IN DATABASE"),t.entryClasses=".item.alert.alert-success"):t.entryClasses=".item.alert.alert-danger"),this.getOption("workspace")?this.workspaceContext(t):((null!=(e=this.model.toJSON())?e.series:void 0)||(t.series=e.mainsection.series.displayname),(null!=e?e.issue:void 0)||(t.issue=e.issue),(null!=e?e.issueext:void 0)||(null!=e?e.issueext:void 0)&&(t.issueext=e.issueext),(null!=e?e.url:void 0)||(i=null!=e&&null!=(n=e.links)&&null!=(o=n.link)?o.url:void 0,t.url=i||"UNAVAILABLE"),t)}},{key:"workspaceContext",value:function(e){var t;return t=this.model.get("comic"),e.series=t.series,e.issue=t.issue,e.issueext=t.issueext,e.url=t.url,e}}]),t}();return e.prototype.template=s.renderable(function(e){var t;return t=e.issue,(null!=e?e.issueext:void 0)&&(t=""+e.issue+e.issueext),s.div(e.entryClasses+"."+e.columnClass,function(){return s.div(".comic-image",function(){return s.i(".fa.fa-spinner.fa-spin"),s.text(" loading...")}),s.div(".caption",function(){return s.span(function(){return s.i(".info-button"+e.infoButtonClasses),s.h5({style:"text-overflow: ellipsis;"},e.series+" #"+t)}),"UNAVAILABLE"!==e.url?s.a(".clz-link",{href:""+e.url,target:"_blank"},"cloud link"):(console.log("MODEL.URL",e.url),s.span(".alert.alert-danger","URL UNAVAILABLE"))})})}),e}.call(void 0),e.exports=i},90:function(e,t,n){"use strict";var o,i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(1),i=n(2),n(3),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Behavior),r(t,[{key:"onSetHeader",value:function(e){return this.ui.header.text(e)}}]),t}(),e.exports=o}}]);
//# sourceMappingURL=sofi:views:createWorkspaceView~sofi:views:mainview~sofi:views:showWorkspaceMainView~sofi:views:showW~5c0629b8-5f712c55e0388463cf06.js.map