(self.webpackJsonp=self.webpackJsonp||[]).push([[83,12],{1208:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o,i,u,a,l,f,c,s,p,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=n(1),h=n(3),b=m(n(6)),v=n(594),w=m(n(1209)),_=m(n(646)),g=m(n(645));function m(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a=b.default.renderable((function(e){return b.default.div(".row.listview-list-entry",(function(){return b.default.a({href:"#sunny/yards/view/"+e.id},e.name)}))})),i=function(){var e=function(e){function t(){return O(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,e),t}(h.View);return e.prototype.template=a,e}.call(void 0),u=function(){var e=function(e){function t(){return O(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,e),d(t,[{key:"events",value:function(){return{"click @ui.addyard":"addYard"}}},{key:"addYard",value:function(){return console.log("addYard clicked")}}]),t}(h.CollectionView);return e.prototype.childView=i,e.prototype.childViewContainer=".client-yards",e.prototype.template=b.default.renderable((function(){return b.default.div(".listview-header",(function(){return b.default.span("Yards"),b.default.button(".add-yard-btn.btn.btn-primary.btn-sm.pull-right","Add Yard")})),b.default.div(".row",(function(){return b.default.div(".client-yards")}))})),e.prototype.ui={addyard:".add-yard-btn"},e}.call(void 0),r=function(){var e=function(e){function t(){return O(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,e),t}(_.default);return e.prototype.infoView=w.default,e.prototype.editView=v.EditClientView,e}.call(void 0),s={info:r,yards:u},c=function(e){return e+"Toggle"},f=function(e){return e+"Container"},p=function(e){return"."+e+"-toggle"},l=function(e){return"."+e+"-container"},o=function(){var e=function(e){function t(){return O(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,e),d(t,[{key:"templateContext",value:function(){return{collection:this.collection}}},{key:"ui",value:function(){var e,t;for(e in t={header:".listview-header"},s)t[c(e)]=p(e),t[f(e)]=l(e);return t}},{key:"regions",value:function(){var e,t;for(e in t={header:"@ui.header"},s)t[c(e)]="@ui."+c(e),t[f(e)]="@ui."+f(e);return t}},{key:"onRender",value:function(){var e,t,n,r,o;for(t in r=[],s)e=new y.Model({label:t}),o=new g.default({className:"btn btn-primary btn-sm",model:e,name:t}),n=c(t),r.push(this.showChildView(n,o));return r}},{key:"childToggled",value:function(e){var t,n;return t=(n=e.getOption("name"))+"Container",!e.getOption("state")?this.getRegion(t).empty():(e=new s[n]({model:this.model,collection:this.collection}),this.showChildView(t,e))}}]),t}(h.View);return e.prototype.template=b.default.renderable((function(){var e,t;for(e in b.default.div(".listview-header"),t=[],s)b.default.div(p(e)),t.push(b.default.div(l(e)));return t})),e.prototype.childViewEvents={toggle:"childToggled"},e}.call(void 0),t.default=o},1209:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o,i,u=n(3),a=n(6),l=(r=a)&&r.__esModule?r:{default:r};function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}i=l.default.renderable((function(e){return l.default.table(".table",(function(){return l.default.thead(".table-info",(function(){return l.default.tr((function(){return l.default.th({scope:"col"},"Option"),l.default.th({scope:"col"},"Value")}))})),l.default.tr((function(){return l.default.td("Name:"),l.default.td(""+e.name)})),l.default.tr((function(){return l.default.td("Full Name:"),l.default.td(""+e.fullname)})),l.default.tr((function(){return l.default.td("Email:"),l.default.td(""+e.email)})),l.default.tr((function(){return l.default.td("Description"),l.default.td(e.description)}))}))})),o=function(){var e=function(e){function t(){return f(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(u.View);return e.prototype.template=i,e}.call(void 0),t.default=o},594:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditClientView=t.NewClientView=void 0;var r,o,i=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;return void 0!==u?u.call(r):void 0},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),l=n(1),f=y(n(6)),c=y(n(58)),s=y(n(60)),p=y(n(404)),d=n(59);function y(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r=l.Radio.channel("sunny"),o=function(){var e=function(e){function t(){return h(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,e),u(t,[{key:"templateContext",value:function(){return{fieldList:this.fieldList}}},{key:"ui",value:function(){var e;return e=(0,s.default)(this.fieldList),(0,a.extend)(e,{description:'textarea[name="description"]'}),e}},{key:"updateModel",value:function(){var e,t,n,r,o,i;for(o=[],t=0,n=(r=this.fieldList.concat(["description"])).length;t<n;t++)e=r[t],i=this.ui[e].val(),"fullname"!==e||i||(console.warn("no fullname here....."),i=(0,p.default)(this.model.get("name"))),o.push(this.model.set(e,i));return o}}]),t}(c.default);return e.prototype.fieldList=["name","fullname","email"],e.prototype.template=f.default.renderable((function(e){var t,n,r,o;for(f.default.div(".listview-header","Client"),n=0,r=(o=e.fieldList).length;n<r;n++)t=o[n],(0,d.make_field_input)(t)(e);return(0,d.make_field_textarea)("description")(e),f.default.input(".btn.btn-primary",{type:"submit",value:"Submit"}),f.default.div(".spinner.fa.fa-spinner.fa-spin")})),e}.call(void 0);t.NewClientView=function(e){function t(){return h(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,e),u(t,[{key:"createModel",value:function(){return r.request("db:client:new")}},{key:"saveModel",value:function(){return r.request("db:client:collection").add(this.model),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"saveModel",this).call(this,arguments)}}]),t}(o),t.EditClientView=function(e){function t(){return h(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,e),u(t,[{key:"createModel",value:function(){return this.model}}]),t}(o)},645:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o,i,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(3),l=n(6),f=(r=l)&&r.__esModule?r:{default:r};function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}i=function(e){return e?"on":"off"},o=function(){var e=function(e){function t(){return c(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),u(t,[{key:"templateContext",value:function(){return{toggleState:this.state,toggleText:i(this.state)}}},{key:"toggleState",value:function(){return this.state?this.state=!1:this.state=!0,this.render(),this.trigger("toggle",this)}}]),t}(a.View);return e.prototype.state=!1,e.prototype.template=f.default.renderable((function(e){return f.default.span(".mr-1",e.label),f.default.i(".ml-1.pl-1.fa.fa-toggle-"+e.toggleText)})),e.prototype.events={click:"toggleState"},e}.call(void 0),t.default=o},646:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(3),a=n(6),l=(r=a)&&r.__esModule?r:{default:r};function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}o=function(){var e=function(e){function t(){return f(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"onRender",value:function(){return this.showInfo()}},{key:"showInfo",value:function(){var e;return this.getRegion("infoContainer").empty(),e=new(this.getOption("infoView"))({model:this.model}),this.showChildView("infoContainer",e),this.ui.editBtn.show()}},{key:"showEditor",value:function(){var e;return this.getRegion("infoContainer").empty(),e=new(this.getOption("editView"))({model:this.model}),this.showChildView("infoContainer",e),this.ui.editBtn.hide()}},{key:"editBtnClicked",value:function(){return this.showEditor()}},{key:"editSuccess",value:function(){return this.showInfo()}}]),t}(u.View);return e.prototype.state="info",e.prototype.template=l.default.renderable((function(){return l.default.div(".badge.badge-primary.edit-btn","edit"),l.default.div(".info-container")})),e.prototype.ui={editBtn:".edit-btn",infoContainer:".info-container"},e.prototype.regions={infoContainer:"@ui.infoContainer"},e.prototype.events={"click @ui.editBtn":"editBtnClicked"},e.prototype.childViewEvents={"save:form:success":"editSuccess"},e}.call(void 0),t.default=o}}]);
//# sourceMappingURL=sunny-view-client-view-4736ba494e1ae78f72bc.js.map