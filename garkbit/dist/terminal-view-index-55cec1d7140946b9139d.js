(self.webpackJsonp=self.webpackJsonp||[]).push([[85],{1212:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=(n(1),n(3)),a=c(n(6)),l=c(n(1213)),u=c(n(1216));function c(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}r=function(){var t=function(t){function e(){return s(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"onRender",value:function(){var t;return t=new u.default,this.showChildView("toolbar",t)}},{key:"toolbarClicked",value:function(t){var e;return"create"===(e=t.model.id)?this.createTerminal():"destroy"===e?this.destroyTerminal():MessageChannel.request("warning","Bad action "+e)}},{key:"createTerminal",value:function(){var t;return t=new l.default,this.showChildView("terminal",t),this.getChildView("terminal").startTerminal()}},{key:"destroyTerminal",value:function(){var t;if(t=this.getChildView("terminal"))return t.terminal.dispose(),t.destroy()}}]),e}(i.View);return t.prototype.template=a.default.renderable((function(){return a.default.div(".row.listview-header.justify-content-center","Terminal"),a.default.div(".row.intro"),a.default.div(".row.justify-content-center",(function(){return a.default.div(".terminal-container.col-md-10")})),a.default.div(".row.toolbar")})),t.prototype.templateContext={appName:"eliza"},t.prototype.ui={toolbar:".toolbar",terminal:".terminal-container",intro:".intro"},t.prototype.regions={toolbar:"@ui.toolbar",terminal:"@ui.terminal",intro:"@ui.intro"},t.prototype.childViewEvents={"toolbar:entry:clicked":"toolbarClicked"},t}.call(void 0),e.default=r},1213:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(3),i=n(754),a=n(755);n(1214);var l,u,c,s,f,p=n(1215),y=(l=p)&&l.__esModule?l:{default:l};function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}f=new y.default,u=function(t){function e(){return d(this,e),b(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,t),r(e,[{key:"prompt",value:function(){this.write("\r\n->")}}]),e}(i.Terminal),s=function(){var t,e;return e=new u,t="",e.onKey((function(n){var r,o,i;if(r=n.domEvent,o=n.key,i=!(r.altKey||r.altGraphKey||r.ctrlKey||r.metaKey),13===r.keyCode)return e.write("\r\n"),f.postMessage({content:t}),t="";if(8===r.keyCode){if(t.length)return e.write("\b \b"),t=t.slice(0,-1)}else if(i)return e.write(o),t+=o})),e},c=function(){var t=function(t){function e(){return d(this,e),b(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,t),r(e,[{key:"startTerminal",value:function(){var t=this;return this.terminal=s(),this.fitAddon=new a.FitAddon,this.terminal.loadAddon(this.fitAddon),this.terminal.open(this.el),this.terminal.setOption("fontSize",14),this.terminal.setOption("fontFamily","Mono"),this.terminal.resize(80,15),this.fitAddon.fit(),console.log("@terminal",this.terminal),f.onmessage=function(e){return t.terminal.write(e.data.content),t.terminal.prompt()},f.postMessage({content:"getInitial"})}},{key:"onBeforeDestroy",value:function(){if(this.terminal)return this.terminal.dispose(),console.log("Terminal disposed.")}}]),e}(o.View);return t.prototype.template=!1,t.prototype.className="my-xterm",t.prototype.ui={terminal:".my-xterm"},t}.call(void 0),e.default=c},1214:function(t,e,n){},1215:function(t,e,n){t.exports=function(){return new Worker(n.p+"f54ca58524167470a782.worker.js")}},1216:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o,i,a,l,u,c,s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(1),p=n(3),y=n(6),d=(r=y)&&r.__esModule?r:{default:r};function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}c=[{id:"destroy",label:"close",icon:".fa.fa-close",buttonClassName:"btn btn-danger text-light"},{id:"create",label:"Talk to Eliza",icon:".fa.fa-terminal.text-light.bg-dark"}],u=d.default.renderable((function(t){return d.default.i(t.icon),d.default.text(" "),d.default.text(t.label)})),i=function(){var t=function(t){function e(){return b(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return m(e,t),s(e,[{key:"className",value:function(){var t;return(t=this.model.get("buttonClassName"))||(t=this.getOption("buttonClassName")||"btn btn-outline-primary"),t}}]),e}(p.View);return t.prototype.tagName="button",t.prototype.triggers={click:"button:clicked"},t.prototype.modelEvents={change:"render"},t}.call(void 0),a=function(){var t=function(t){function e(){return b(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return m(e,t),s(e,[{key:"childViewOptions",value:function(){return{template:this.getOption("entryTemplate"),buttonClassName:this.getOption("buttonClassName")}}}]),e}(p.CollectionView);return t.prototype.childView=i,t.prototype.className="btn-group btn-group-justified",t.prototype.childViewTriggers={"button:clicked":"toolbar:entry:clicked"},t}.call(void 0),l=function(){var t=function(t){function e(){return b(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return m(e,t),s(e,[{key:"onRender",value:function(){var t,e,n;return e=this.getOption("entryTemplate")||u,t=this.getOption("buttonClassName")||"btn btn-outline-primary",n=new a({collection:this.collection,entryTemplate:e,buttonClassName:t}),this.showChildView("entries",n)}},{key:"onChildviewToolbarEntryClicked",value:function(t){return f.history.navigate(t.model.get("url"),{trigger:!0})}}]),e}(p.View);return t.prototype.template=d.default.renderable((function(){return d.default.div(".toolbar-entries")})),t.prototype.regions={entries:{el:".toolbar-entries"}},t}.call(void 0),o=function(){var t=function(t){function e(){return b(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return m(e,t),e}(l);return t.prototype.collection=new f.Collection(c),t.prototype.childViewTriggers={"toolbar:entry:clicked":"toolbar:entry:clicked"},t.prototype.buttonClassName="btn btn-outline-success",t}.call(void 0),e.default=o}}]);
//# sourceMappingURL=terminal-view-index-55cec1d7140946b9139d.js.map