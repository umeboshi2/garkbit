(self.webpackJsonp=self.webpackJsonp||[]).push([[67,8],{167:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditClientView=t.NewClientView=void 0;var o,r,i=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=y(n(0)),l=y(n(1)),f=y(n(3)),c=y(n(17)),d=(y(n(5)),y(n(19))),s=y(n(18)),p=n(16);function y(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}l.default.Radio.channel("global"),l.default.Radio.channel("messages"),o=l.default.Radio.channel("sunny"),r=function(){var e=function(e){function t(){return h(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,c.default),a(t,[{key:"templateContext",value:function(){return{fieldList:this.fieldList}}},{key:"ui",value:function(){var e;return e=(0,d.default)(this.fieldList),u.default.extend(e,{description:'textarea[name="description"]'}),e}},{key:"updateModel",value:function(){var e,t,n,o,r,i;for(r=[],t=0,n=(o=this.fieldList.concat(["description"])).length;t<n;t++)e=o[t],i=this.ui[e].val(),"fullname"!==e||i||(console.warn("no fullname here....."),i=(0,s.default)(this.model.get("name"))),r.push(this.model.set(e,i));return r}}]),t}();return e.prototype.fieldList=["name","fullname","email"],e.prototype.template=f.default.renderable(function(e){var t,n,o,r;for(f.default.div(".listview-header","Client"),n=0,o=(r=e.fieldList).length;n<o;n++)t=r[n],(0,p.make_field_input)(t)(e);return(0,p.make_field_textarea)("description")(e),f.default.input(".btn.btn-primary",{type:"submit",value:"Submit"}),f.default.div(".spinner.fa.fa-spinner.fa-spin")}),e}.call(void 0);t.NewClientView=function(e){function t(){return h(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,r),a(t,[{key:"createModel",value:function(){return o.request("db:client:new")}},{key:"saveModel",value:function(){return o.request("db:client:collection").add(this.model),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"saveModel",this).call(this,arguments)}}]),t}(),t.EditClientView=function(e){function t(){return h(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,r),a(t,[{key:"createModel",value:function(){return this.model}}]),t}()},211:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=(u(n(1)),n(2)),a=u(n(3));u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}o=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.View),r(t,[{key:"onRender",value:function(){return this.showInfo()}},{key:"showInfo",value:function(){var e;return this.getRegion("infoContainer").empty(),e=new(this.getOption("infoView"))({model:this.model}),this.showChildView("infoContainer",e),this.ui.editBtn.show()}},{key:"showEditor",value:function(){var e;return this.getRegion("infoContainer").empty(),e=new(this.getOption("editView"))({model:this.model}),this.showChildView("infoContainer",e),this.ui.editBtn.hide()}},{key:"editBtnClicked",value:function(){return this.showEditor()}},{key:"editSuccess",value:function(){return this.showInfo()}}]),t}();return e.prototype.state="info",e.prototype.template=a.default.renderable(function(e){return a.default.div(".badge.badge-primary.edit-btn","edit"),a.default.div(".info-container")}),e.prototype.ui={editBtn:".edit-btn",infoContainer:".info-container"},e.prototype.regions={infoContainer:"@ui.infoContainer"},e.prototype.events={"click @ui.editBtn":"editBtnClicked"},e.prototype.childViewEvents={"save:form:success":"editSuccess"},e}.call(void 0),t.default=o},629:function(e,t,n){"use strict";var o,r,i,a,u,l,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=(g(n(1)),n(2)),d=g(n(3)),s=g(n(5)),p=n(167),y=g(n(630)),h=g(n(211));function g(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}l=function(e){if(e.hasClass("fa-toggle-off"))return!1;if(e.hasClass("fa-toggle-on"))return!0;throw Error("bad el",e)},u=d.default.renderable(function(e){return d.default.div(".row.listview-list-entry",function(){return d.default.a({href:"#sunny/yards/view/"+e.id},e.name)})}),a=d.default.renderable(function(e){return d.default.div(".badge.info-toggle",function(){return d.default.span(".mr-1","info"),d.default.i(".ml-1.pl-1.fa.fa-toggle-off")}),d.default.div(".client-info-container"),d.default.div(".badge.yards-toggle",function(){return d.default.span(".mr-1","("+e.collection.length+") yards"),d.default.i(".ml-1.pl-1.fa.fa-toggle-off")}),d.default.div(".yards-container",function(){})}),r=function(){var e=function(e){function t(){return b(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return w(t,c.View),t}();return e.prototype.template=u,e}.call(void 0),i=function(){var e=function(e){function t(){return b(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return w(t,c.CollectionView),t}();return e.prototype.childView=r,e.prototype.childViewContainer="#client-yards",e.prototype.template=d.default.renderable(function(){return d.default.div(".listview-header",function(){return d.default.span("Yards"),d.default.button("#add-yard-btn.btn.btn-primary.btn-xs.pull-right","Add Yard")}),d.default.div(".row",function(){return d.default.div("#client-yards")})}),e}.call(void 0),o=function(){var e=function(e){function t(){return b(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return w(t,c.View),f(t,[{key:"templateContext",value:function(){return{collection:this.collection}}},{key:"events",value:function(){return{"click @ui.addyard":"add_yard","click @ui.infoToggle":"infoToggleClicked","click @ui.yardsToggle":"yardsToggleClicked"}}},{key:"infoToggleClicked",value:function(e){var t,n;return t=this.ui.infoToggle.children("i"),n=l(t),this.toggleInfo(n)}},{key:"toggleInfo",value:function(e){var t,n;return t=this.ui.infoToggle.children("i"),e?(t.removeClass("fa-toggle-on"),t.addClass("fa-toggle-off"),this.getRegion("infoContainer").empty()):(t.removeClass("fa-toggle-off"),t.addClass("fa-toggle-on"),n=new h.default({model:this.model,infoView:y.default,editView:p.EditClientView}),this.showChildView("infoContainer",n))}},{key:"yardsToggleClicked",value:function(e){var t,n;return t=this.ui.yardsToggle.children("i"),n=l(t),this.toggleYards(n)}},{key:"toggleYards",value:function(e){var t,n;return t=this.ui.yardsToggle.children("i"),e?(t.removeClass("fa-toggle-on"),t.addClass("fa-toggle-off"),this.getRegion("yardsContainer").empty()):(t.removeClass("fa-toggle-off"),t.addClass("fa-toggle-on"),n=new i({model:this.model,collection:this.collection}),this.showChildView("yardsContainer",n))}},{key:"add_yard",value:function(){return(0,s.default)("#sunny/yards/add/"+this.model.id)}}]),t}();return e.prototype.template=a,e.prototype.ui={addyard:"#add-yard-btn",yards:"#client-yards",infoToggle:".info-toggle",yardsToggle:".yards-toggle",infoContainer:".client-info-container",yardsContainer:".yards-container"},e.prototype.regions={infoContainer:"@ui.infoContainer",yardsContainer:"@ui.yardsContainer"},e}.call(void 0),e.exports=o},630:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});u(n(1));var o,r,i=n(2),a=u(n(3));u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}r=a.default.renderable(function(e){return a.default.table(".table",function(){return a.default.thead(".table-info",function(){return a.default.tr(function(){return a.default.th({scope:"col"},"Option"),a.default.th({scope:"col"},"Value")})}),a.default.tr(function(){return a.default.td("Name:"),a.default.td(""+e.name)}),a.default.tr(function(){return a.default.td("Full Name:"),a.default.td(""+e.fullname)}),a.default.tr(function(){return a.default.td("Email:"),a.default.td(""+e.email)}),a.default.tr(function(){return a.default.td("Description"),a.default.td(e.description)})})}),o=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.View),t}();return e.prototype.template=r,e}.call(void 0),t.default=o}}]);
//# sourceMappingURL=sunny-view-client-view-9b5fa278fd34d19ed391.js.map