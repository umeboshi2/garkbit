(self.webpackJsonp=self.webpackJsonp||[]).push([[25],Array(45).concat([function(e,t,n){var o={"./adminpanel/main":317,"./bumblr/main":323,"./company/main":329,"./dbadmin/main":331,"./dbdocs/main":333,"./ebcsv/main":335,"./eliza/main":364,"./freelaw/main":366,"./frontdoor/main":371,"./hourly/main":379,"./hubby/main":382,"./moviedb/main":386,"./msleg/main":394,"./muppy/main":398,"./netark/main":401,"./sofi/main":404,"./sunny/main":424,"./taxes/main":427,"./todos/main":429,"./tvmaze/main":432,"./useradmin/main":438,"./userprofile/main":441,"./usgov/main":445,"./wikipages/main":448};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=45},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=(a(n(1)),a(n(2)));function a(e){return e&&e.__esModule?e:{default:e}}r=n(94),n(95),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Behavior),i(t,[{key:"options",value:function(){return{jviewSelector:".jsonview"}}},{key:"ui",value:function(){return{jsonView:this.getOption("jviewSelector")}}},{key:"onDomRefresh",value:function(){var e;return e=this.view.model.toJSON(),this.view.jsonView=new r(e),this.ui.jsonView.prepend(this.view.jsonView.dom)}}]),t}(),t.default=o},,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=(a(n(2)),a(n(18))),i=a(n(5)),u=a(n(19));function a(e){return e&&e.__esModule?e:{default:e}}var l,c,s,f,p=[].indexOf;c=Backbone.Radio.channel("global"),s=Backbone.Radio.channel("messages"),f=Backbone.Radio.channel("site-nav"),l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"before",value:function(e,t){var n,o,r,a,l,f,d;if(d=c.request("main:app:decode-auth-token"),o=!1,l=this.getOption("permittedGroups")||["admin"],!(0,u.default)(d))for(r=0,a=(f=d.groups).length;r<a;r++)n=f[r],p.call(l,n)>=0&&(o=!0);if(!o)return s.request("warning","Restricted access only!"),(0,i.default)("/#frontdoor/login")}},{key:"onRoute",value:function(){var e;return e=this.getOption("navbarEntries")||"admin",f.request("set-"+e+"-entries")}}]),t}(),t.default=l},function(e,t,n){"use strict";var o,r,i,u,a,l,c,s,f,p,d,h,y,v,b=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r=n(1),v=n(236),o=r.Radio.channel("hubby"),d="/rest/v0/main",function(e){function t(){return _(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}m(t,r.Model)}(),i=function(e){function t(){return _(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,r.Collection),b(t,[{key:"parse",value:function(e){return function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"parse",this).call(this,e.data)}}]),t}(),p=function(){var e=function(e){function t(){return _(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,r.Model),t}();return e.prototype.urlRoot="/rest/v0/main/meeting",e}.call(void 0),a=function(){var e=function(e){function t(){return _(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,r.Model),b(t,[{key:"parse",value:function(e){return e.data}}]),t}();return e.prototype.urlRoot="/rest/v0/main/meeting",e}.call(void 0),l=function(){var e=function(e){function t(){return _(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,i),t}();return e.prototype.model=p,e.prototype.url="/rest/v0/main/meeting",e}.call(void 0),f=function(){var e=function(e){function t(){return _(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,r.Model),t}();return e.prototype.urlRoot="/rest/v0/main/item",e}.call(void 0),u=function(){var e=function(e){function t(){return _(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,i),b(t,[{key:"url",value:function(){return d+"/item/search?"+v.stringify(this.searchParams)}}]),t}();return e.prototype.model=f,e}.call(void 0),s=function(){var e=function(e){function t(){return _(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,r.Model),t}();return e.prototype.urlRoot="/rest/v0/main/person",e}.call(void 0),c=function(){var e=function(e){function t(){return _(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,i),t}();return e.prototype.model=s,e.prototype.url="/rest/v0/main/person",e}.call(void 0),y=new c,o.reply("personlist",function(){return y}),h=new l,o.reply("meetinglist",function(){return h}),e.exports={apiroot:d,MeetingCollection:l,MainMeetingModel:a,ItemCollection:u}},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatsView=t.ThemeSwitchView=t.FrontDoorMainView=void 0;var o,r,i,u,a,l,c,s,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),p=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0},d=m(n(172)),h=m(n(4)),y=m(n(1)),v=m(n(2)),b=m(n(3)),_=m(n(32)),w=m(n(119));function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=y.default.Radio.channel("global"),u=function(e){function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,_.default.Renderer),f(t,[{key:"link",value:function(e,n,o){var r;return e.startsWith("#")?p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"link",this).call(this,e,n,o):("."===(r=d.default.dirname(location.hash))&&(r="#frontdoor/view"),e.startsWith("http")||(e=d.default.join(r,e)),p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"link",this).call(this,e,n,o))}}]),t}(),s=new u,o=b.default.renderable(function(e){return b.default.article(".document-view.content",function(){return b.default.div(".body",function(){return b.default.raw((0,_.default)(e.content,{renderer:s}))})})}),l=["vanilla","cornsilk","BlanchedAlmond","DarkSeaGreen","LavenderBlush"],t.ThemeSwitchView=c=function(){var e=function(e){function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,v.default.View),f(t,[{key:"events",value:function(){return{"click @ui.theme":"switch_theme"}}},{key:"templateContext",value:function(){return{ui:this.ui}}},{key:"switch_theme",value:function(e){var t;return t=(0,h.default)(e.target).html(),this.performSwitch(t)}},{key:"performSwitch",value:function(e){return console.log("performSwitch",e),i.request("main:app:set-theme",e),i.request("main:app:switch-theme",e)}}]),t}();return e.prototype.ui={stylesheet:"#main-stylesheet",theme:".theme"},e.prototype.template=b.default.renderable(function(e){return b.default.div(function(){return l.forEach(function(e){return b.default.div(".theme.btn.btn-default",e)})})}),e}.call(void 0),t.FrontDoorMainView=r=function(){var e=function(e){function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,v.default.View),t}();return e.prototype.template=o,e}.call(void 0),t.StatsView=a=function(){var e=function(e){function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,v.default.View),t}();return e.prototype.template=b.default.renderable(function(e){return b.default.div(".jsonview.listview-list-entry",{style:"overflow:auto"})}),e.prototype.behaviors={HasJsonView:{behaviorClass:w.default}},e}.call(void 0),t.FrontDoorMainView=r,t.ThemeSwitchView=c,t.StatsView=a},,,,,,,,,,,,,,,function(e,t,n){"use strict";var o,r,i,u,a,l,c,s=d(n(0)),f=d(n(1)),p=(d(n(2)),d(n(112)));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a=f.default.Radio.channel("global"),f.default.Radio.channel("messages"),l="/api/dev/sitedocuments",r=a.request("main:app:AuthModel"),o=a.request("main:app:AuthCollection"),c={channelName:"resources"},i=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,r),t}();return e.prototype.urlRoot=l,e}.call(void 0),u=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,o),t}();return e.prototype.url=l,e.prototype.model=i,e}.call(void 0),new p.default(s.default.extend(c,{modelName:"document",modelClass:i,collectionClass:u}))},,function(e,t,n){"use strict";var o,r,i,u,a,l,c,s,f,p,d,h,y,v,b,w,m,g,O,j,P,k,C=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),R=M(n(4)),E=M(n(1)),x=n(123);function M(e){return e&&e.__esModule?e:{default:e}}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}v=E.default.Radio.channel("global"),o=E.default.Radio.channel("ebcsv"),O=v.request("main:app:dbConn","ebcsv"),s=new x.LoveStore(O,"Config"),f=new x.LoveStore(O,"Description"),c=new x.LoveStore(O,"ComicUrl"),p=function(){var e=function(e){function t(){return N(this,t),q(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return S(t,E.default.Model),t}();return e.prototype.loveStore=s,e}.call(void 0),d=function(){var e=function(e){function t(){return N(this,t),q(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return S(t,E.default.Collection),t}();return e.prototype.loveStore=s,e.prototype.model=p,e}.call(void 0),y=function(){var e=function(e){function t(){return N(this,t),q(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return S(t,E.default.Model),t}();return e.prototype.loveStore=f,e}.call(void 0),h=function(){var e=function(e){function t(){return N(this,t),q(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return S(t,E.default.Collection),t}();return e.prototype.loveStore=f,e.prototype.model=y,e}.call(void 0),a=function(){var e=function(e){function t(){return N(this,t),q(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return S(t,E.default.Model),C(t,[{key:"idAttrubute",value:function(){return"url"}}]),t}();return e.prototype.loveStore=c,e}.call(void 0),l=function(){var e=function(e){function t(){return N(this,t),q(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return S(t,E.default.Collection),t}();return e.prototype.loveStore=c,e.prototype.model=a,e}.call(void 0),P=new d,k=new h,g=new l,o.reply("get_local_configs",function(){return P}),o.reply("get-config-model",function(){return p}),o.reply("configCollection",function(){return d}),o.reply("get_local_descriptions",function(){return k}),o.reply("get-description-model",function(){return y}),o.reply("descCollection",function(){return h}),o.reply("get_comic_urls",function(){return g}),o.reply("get-comic-url-model",function(){return a}),o.reply("get-comic-url-collection",function(){return l}),u=function(e){function t(){return N(this,t),q(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return S(t,E.default.Model),C(t,[{key:"initialize",value:function(){return this.fetch(),this.on("change",this.save,this)}},{key:"fetch",value:function(){return this.set(JSON.parse(localStorage.getItem(this.id)))}},{key:"save",value:function(e,t){return localStorage.setItem(this.id,JSON.stringify(this.toJSON())),R.default.ajax({success:t.success,error:t.error})}},{key:"destroy",value:function(e){return localStorage.removeItem(this.id)}},{key:"isEmpty",value:function(){return _.size(this.attributes<=1)}}]),t}(),w=["format","location","returnsacceptedoption","duration","quantity","startprice","dispatchtimemax","conditionid"],o.reply("csv-req-fieldnames-local",function(){return w}),b=["postalcode","paymentprofilename","returnprofilename","shippingprofilename","scheduletime"],o.reply("csv-opt-fieldnames-local",function(){return b}),i=function(e){function t(){return N(this,t),q(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return S(t,u),t}(),function(){var e=function(e){function t(){return N(this,t),q(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return S(t,i),t}();return e.prototype.fieldType="required",e.prototype.fieldNames=w,e}.call(void 0),function(){var e=function(e){function t(){return N(this,t),q(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return S(t,i),t}();return e.prototype.fieldType="optional",e.prototype.fieldNames=b,e}.call(void 0),o.reply("get-comic-image-urls",function(){return console.warn("get-comic-image-urls"),new u({id:"comic-image-urls"}).toJSON()}),o.reply("add-comic-image-url",function(e,t){return new u({id:"comic-image-urls"}).set(e,t)}),o.reply("clear-comic-image-urls",function(){var e;return(e=new u({id:"comic-image-urls"})).destroy(),console.log("localStorage",localStorage[e.id])}),r={},o.reply("applet:local:get",function(e){return r[e]}),o.reply("applet:local:set",function(e,t){return r[e]=t}),o.reply("applet:local:delete",function(e){return delete r[e]}),o.reply("set-current-csv-action",function(e){return o.request("applet:local:set","currentCsvAction",e)}),o.reply("get-current-csv-action",function(){return o.request("applet:local:get","currentCsvAction")}),o.reply("set-current-csv-cfg",function(e){return o.request("applet:local:set","currentCsvCfg",e)}),o.reply("get-current-csv-cfg",function(){return o.request("applet:local:get","currentCsvCfg")}),o.reply("set-current-csv-dsc",function(e){return o.request("applet:local:set","currentCsvDsc",e)}),o.reply("get-current-csv-dsc",function(){return o.request("applet:local:get","currentCsvDsc")}),m=function(){var e=function(e){function t(){return N(this,t),q(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return S(t,E.default.Model),t}();return e.prototype.url="/assets/data/superheroes.json",e}.call(void 0),j=new m,o.reply("get-superheroes-model",function(){return j})},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClzPageCollection=t.EbDescCollection=t.EbConfigCollection=void 0;var o,r,i,u,a,l,c,s,f,p,d,h,y,v,b,_,w,m,g,O,j,P,k,C,R,E,x,M,N,q,S,T,L,I,V,z,D,F,A,B=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0},U=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),W=n(112),J=(o=W)&&o.__esModule?o:{default:o};function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}q=n(0),l=n(1),D=n(118);var X=n(405);j=X.LocalStorage,P=l.Radio.channel("global"),r=l.Radio.channel("sofi"),a=P.request("main:app:AuthModel"),u=P.request("main:app:AuthCollection"),S="/api/dev/bapi/sofi",V={channelName:"sofi"},R=function(){var e=function(e){function t(){return H(this,t),G(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Y(t,l.Model),t}();return e.prototype.url="/assets/data/superheroes.json",e}.call(void 0),z=new R,r.reply("get-superheroes-model",function(){return z}),c=function(e){function t(){return H(this,t),G(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Y(t,l.Model),U(t,[{key:"initialize",value:function(){return this.fetch(),this.on("change",this.save,this)}},{key:"fetch",value:function(){return this.set(JSON.parse(localStorage.getItem(this.id)))}},{key:"save",value:function(e,t){return localStorage.setItem(this.id,JSON.stringify(this.toJSON()))}},{key:"destroy",value:function(e){return localStorage.removeItem(this.id)}},{key:"isEmpty",value:function(){return q.size(this.attributes<=1)}}]),t}(),_=function(){var e=function(e){function t(){return H(this,t),G(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Y(t,l.Collection),t}();return e.prototype.localStorage=new j("ComicPhotoNames"),e}.call(void 0),r.reply("ComicPhotoNames",function(){return _}),r.reply("get-comic-image-urls",function(){return new c({id:"comic-image-urls"}).toJSON()}),r.reply("add-comic-image-url",function(e,t){return new c({id:"comic-image-urls"}).set(e,t)}),r.reply("clear-comic-image-urls",function(){var e;return(e=new c({id:"comic-image-urls"})).destroy(),console.log("localStorage",localStorage[e.id])}),m=function(){var e=function(e){function t(){return H(this,t),G(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Y(t,a),U(t,[{key:"parse",value:function(e,n){return"string"==typeof e.content&&(e.content=JSON.parse(e.content)),B(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"parse",this).call(this,e,n)}}]),t}();return e.prototype.urlRoot="/api/dev/bapi/sofi/ebcsvcfg",e}.call(void 0),t.EbConfigCollection=w=function(){var e=function(e){function t(){return H(this,t),G(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Y(t,u),t}();return e.prototype.url="/api/dev/bapi/sofi/ebcsvcfg",e.prototype.model=m,e}.call(void 0),new J.default(q.extend(V,{modelName:"ebcfg",modelClass:m,collectionClass:w})),O=function(){var e=function(e){function t(){return H(this,t),G(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Y(t,a),t}();return e.prototype.urlRoot="/api/dev/bapi/sofi/ebcsvdsc",e}.call(void 0),t.EbDescCollection=g=function(){var e=function(e){function t(){return H(this,t),G(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Y(t,u),t}();return e.prototype.url="/api/dev/bapi/sofi/ebcsvdsc",e.prototype.model=O,e}.call(void 0),new J.default(q.extend(V,{modelName:"ebdsc",modelClass:O,collectionClass:g})),h=function(){var e=function(e){function t(){return H(this,t),G(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Y(t,a),U(t,[{key:"parse",value:function(e,n){return console.warn("ClzPage is deprecated"),"string"==typeof e.clzdata&&(e.clzdata=JSON.parse(e.clzdata)),B(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"parse",this).call(this,e,n)}}]),t}();return e.prototype.urlRoot=S+"/ebclzpage",e}.call(void 0),t.ClzPageCollection=y=function(){var e=function(e){function t(){return H(this,t),G(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Y(t,u),U(t,[{key:"fetch",value:function(e){return console.warn("ClzPageCollection is deprecated"),B(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fetch",this).call(this,e)}}]),t}();return e.prototype.url=S+"/ebclzpage",e.prototype.model=h,e}.call(void 0),new J.default(q.extend(V,{modelName:"clzpage",modelClass:h,collectionClass:y})),I=["id","comic_id","list_id","bpcomicid","bpseriesid","rare","publisher","releasedate","seriesgroup","series","issue","issueext","quantity","currentprice","url","image_src","created_at","updated_at"],r.reply("dbComicColumns",function(){return I}),L=["collectionStatus","photos","workspace"],T=["ReleaseDate"],p=function(){var e=function(e){function t(){return H(this,t),G(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Y(t,a),U(t,[{key:"parse",value:function(e,n){var o;return"string"==typeof e.content&&(e.content=JSON.parse(e.content)),"string"==typeof e.releasedate&&(o=D(e.releasedate),e.ReleaseDate=o.format("ddd MMM DD, YYYY")),B(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"parse",this).call(this,e,n)}},{key:"fetch",value:function(e){var n;return(e=e||{}).data=e.data||{},(null!=(n=e.data)?n.withRelated:void 0)||(e.data.withRelated=L),B(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fetch",this).call(this,e)}},{key:"save",value:function(e,n){var o=this;return L.concat(T).forEach(function(e){if(o.has(e))return o.unset(e)}),B(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"save",this).call(this,e,n)}}]),t}();return e.prototype.urlRoot=S+"/ebclzcomic",e}.call(void 0),d=function(){var e=function(e){function t(){return H(this,t),G(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Y(t,u),U(t,[{key:"fetch",value:function(e){var n;return(e=e||{}).data=e.data||{},(null!=(n=e.data)?n.withRelated:void 0)||(e.data.withRelated=L),B(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fetch",this).call(this,e)}}]),t}();return e.prototype.url=S+"/ebclzcomic",e.prototype.model=p,e}.call(void 0),new J.default(q.extend(V,{modelName:"clzcomic",modelClass:p,collectionClass:d})),C=function(){var e=function(e){function t(){return H(this,t),G(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Y(t,u),t}();return e.prototype.url=S+"/ebclzcomic",e.prototype.model=r.request("db:clzcomic:modelClass"),e.prototype.state={firstPage:0,pageSize:1e4,sortColumn:"seriesgroup",sortDirection:"asc"},e}.call(void 0),r.reply("db:clzcomic:SeriesGroupCollection",function(){return C}),k=function(){var e=function(e){function t(){return H(this,t),G(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Y(t,u),t}();return e.prototype.url=S+"/ebclzcomic",e.prototype.model=r.request("db:clzcomic:modelClass"),e.prototype.state={firstPage:0,pageSize:1e4,sortColumn:"publisher",sortDirection:"asc"},e}.call(void 0),r.reply("db:clzcomic:PublisherCollection",function(){return k}),s=function(){var e=function(e){function t(){return H(this,t),G(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Y(t,a),t}();return e.prototype.urlRoot=S+"/clzcollectionstatus",e}.call(void 0),f=function(){var e=function(e){function t(){return H(this,t),G(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Y(t,u),t}();return e.prototype.url=S+"/clzcollectionstatus",e.prototype.model=s,e}.call(void 0),new J.default(q.extend(V,{modelName:"clzcollectionstatus",modelClass:s,collectionClass:f})),A=["comic"],F=[],M=function(){var e=function(e){function t(){return H(this,t),G(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Y(t,a),U(t,[{key:"save",value:function(e,n){var o=this;return A.concat(F).forEach(function(e){if(o.has(e))return o.unset(e)}),B(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"save",this).call(this,e,n)}}]),t}();return e.prototype.urlRoot=S+"/ebcomicworkspace",e}.call(void 0),N=function(){var e=function(e){function t(){return H(this,t),G(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Y(t,u),U(t,[{key:"fetch",value:function(e){var n;return(e=e||{}).data=e.data||{},(null!=(n=e.data)?n.withRelated:void 0)||(e.data.withRelated=A),B(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fetch",this).call(this,e)}}]),t}();return e.prototype.url=S+"/ebcomicworkspace",e.prototype.model=M,e}.call(void 0),new J.default(q.extend(V,{modelName:"ebcomicworkspace",modelClass:M,collectionClass:N})),x=function(){var e=function(e){function t(){return H(this,t),G(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Y(t,u),t}();return e.prototype.url=S+"/ebcomicworkspace",e.prototype.model=r.request("db:clzcomic:modelClass"),e.prototype.state={firstPage:0,pageSize:1e4,sortColumn:"name",sortDirection:"asc"},e}.call(void 0),r.reply("db:ebcomicworkspace:WorkspaceCollection",function(){return x}),E=function(){var e=function(e){function t(){return H(this,t),G(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Y(t,u),t}();return e.prototype.url="/api/dev/misc/unattached-comics",e.prototype.model=p,e}.call(void 0),r.reply("db:unattached:collectionClass",function(){return E}),v=function(){var e=function(e){function t(){return H(this,t),G(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Y(t,a),t}();return e.prototype.urlRoot=S+"/comicphotoname",e}.call(void 0),b=function(){var e=function(e){function t(){return H(this,t),G(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Y(t,u),t}();return e.prototype.url=S+"/comicphotoname",e.prototype.model=v,e}.call(void 0),new J.default(q.extend(V,{modelName:"comicphotoname",modelClass:v,collectionClass:b})),i={},r.reply("locals:get",function(e){return i[e]}),r.reply("locals:set",function(e,t){return i[e]=t}),r.reply("locals:delete",function(e){return delete i[e]}),r.request("locals:set","currentQueryWhere",{}),t.EbConfigCollection=w,t.EbDescCollection=g,t.ClzPageCollection=y},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var o,r,i,u,a,l,c,s,f,p,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}o=n(4),r=n(1),l=n(2),p=n(3),f=n(32),a=r.Radio.channel("global"),i=p.renderable(function(e){return p.article(".document-view.content",function(){return p.div(".body",function(){return p.raw(f(e.content))})})}),c=["vanilla","cornsilk","BlanchedAlmond","DarkSeaGreen","LavenderBlush"],s=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,l.View),d(t,[{key:"events",value:function(){return{"click @ui.theme":"switch_theme"}}},{key:"templateContext",value:function(){return{ui:this.ui}}},{key:"switch_theme",value:function(e){var t;return t=o(e.target).html(),this.performSwitch(t)}},{key:"performSwitch",value:function(e){return console.log("performSwitch",e),a.request("main:app:set-theme",e),a.request("main:app:switch-theme",e)}}]),t}();return e.prototype.ui={stylesheet:"#main-stylesheet",theme:".theme"},e.prototype.template=p.renderable(function(e){return p.div(function(){return c.forEach(function(e){return p.div(".theme.btn.btn-default",e)})})}),e}.call(void 0),u=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,l.View),t}();return e.prototype.template=i,e}.call(void 0),e.exports={FrontDoorMainView:u,ThemeSwitchView:s}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=(p(n(2)),p(n(91))),c=(p(n(5)),p(n(318))),s=p(n(128)),f=p(n(321));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Backbone.Radio.channel("global"),Backbone.Radio.channel("messages"),i=Backbone.Radio.channel("site-nav"),u=[{label:"User Admin",menu:[{label:"List Users",url:"#admin/user/list",icon:".fa.fa-list"},{label:"Add New User",url:"#admin/user/add",icon:".fa.fa-plus"},{label:"Hubby Dbadmin",url:"#admin/dbadmin/hubby",icon:".fa.fa-database"}]}],r=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,s.default),t}();return e.prototype.appRoutes={admin:"frontdoor","admin/view":"frontdoor","admin/login":"show_login","admin/logout":"show_logout","admin/dbadmin/hubby":"viewHubby"},e}.call(void 0),o=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,l.default),a(t,[{key:"onStart",value:function(){return i.request("set-admin-entries")}},{key:"onStop",value:function(){return console.log("(Child) Stopping admin",this.isRunning()),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onStop",this).call(this)}}]),t}();return e.prototype.Controller=c.default,e.prototype.Router=r,e.prototype.appletEntries=u,e.prototype.extraRouters={useradmin:f.default},e}.call(void 0),t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0},i=s(n(1)),u=s(n(2)),a=n(34),l=(n(31),s(n(39))),c=s(n(5));function s(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(167);var h,y,v,b,_,w,m,g=[].indexOf;y=i.default.Radio.channel("global"),v=i.default.Radio.channel("messages"),i.default.Radio.channel("static-documents"),_=i.default.Radio.channel("resources"),m=n(3),b=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,i.default.Model),o(t,[{key:"fetch",value:function(e){return(e=e||{}).dataType="text",r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fetch",this).call(this,e)}},{key:"parse",value:function(e){return{content:e}}}]),t}();return e.prototype.url="/assets/documents/intro-admin.md",e}.call(void 0),w=m.renderable(function(){return m.div(".row",function(){return m.div("#main-content")})}),function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,u.default.View),o(t,[{key:"regions",value:function(){return{content:new l.default({el:"#main-content",speed:"slow"})}}},{key:"onBeforeDestroy",value:function(e){0}}]),t}();return e.prototype.template=w,e}.call(void 0),h=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,a.MainController),o(t,[{key:"setupLayoutIfNeeded",value:function(){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setupLayoutIfNeeded",this).call(this),this.layout.controller=this}},{key:"_view_resource",value:function(e){var t;return this.setupLayoutIfNeeded(),t=new(0,n(226).FrontDoorMainView)({model:e}),this.layout.showChildView("content",t)}},{key:"_view_login",value:function(){var e;return e=new(n(319)),this.layout.showChildView("content",e)}},{key:"_view_upload",value:function(){var e=this;return Promise.all([n.e(21),n.e(49)]).then(function(){var t;return t=new(n(451)),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"upload_view",value:function(){return this.setupLayoutIfNeeded(),this._view_upload()}},{key:"view_page",value:function(e){var t,n,o=this;return(n=(t=_.request("get-document",e)).fetch()).done(function(){return t.get("content")||t.set("content","# Need a front page."),o._view_resource(t)}),n.fail(function(){return v.request("danger","Failed to get document")})}},{key:"frontdoor_needuser",value:function(){var e;return e=y.request("main:app:decode-auth-token"),g.call(Object.keys(e),"name")>=0?this.frontdoor_hasuser(e):this.show_login()}},{key:"show_login",value:function(){return this.setupLayoutIfNeeded(),this._view_login()}},{key:"show_logout",value:function(){return y.request("main:app:destroy-auth-token"),(0,c.default)("/")}},{key:"frontdoor_hasuser",value:function(e){return this.default_view()}},{key:"view_readme",value:function(){var e,t,n=this;return console.log("view_readme",this),this.setupLayoutIfNeeded(),(t=(e=new b).fetch()).done(function(){return n._view_resource(e)}),t.fail(function(){return v.request("warning","failed to get readme")})}},{key:"default_view",value:function(){return this.setupLayoutIfNeeded(),this.view_readme()}},{key:"frontdoor",value:function(){var e;return(null!=(e=y.request("main:app:config"))?e.needLogin:void 0)?this.frontdoor_needuser():this.default_view()}},{key:"start",value:function(){return this.frontdoor()}},{key:"themeSwitcher",value:function(){var e;return this.setupLayoutIfNeeded(),e=new(0,n(226).ThemeSwitchView),this.layout.showChildView("content",e),console.log("themeSwitcher")}},{key:"viewHubby",value:function(){var e;return this.setupLayoutIfNeeded(),e=new(n(320)),this.layout.showChildView("content",e)}}]),t}(),t.default=h},function(e,t,n){"use strict";var o,r,i,u,a,l,c,s,f,p,d,h,y,v,b,_,w=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}o=n(4),r=n(1),s=n(2),b=n(3),y=n(37).default,v=n(5).default;var j=n(31);d=j.form_group_input_div,u=n(33).default,l=r.Radio.channel("global"),f=r.Radio.channel("messages"),h=b.renderable(function(e){return d({input_id:"input_username",label:"User Name",input_attributes:{name:"username",placeholder:"User Name"}}),d({input_id:"input_password",label:"Password",input_attributes:{name:"password",type:"password",placeholder:"Type your password here...."}}),b.input(".btn.btn-default",{type:"submit",value:"login"}),b.div(".spinner.fa.fa-spinner.fa-spin")}),i=function(e){function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O(t,u),w(t,[{key:"ui",value:function(){return y(this.fieldList)}},{key:"createModel",value:function(){return new r.Model}},{key:"onSuccess",value:function(){return v("/admin")}}]),t}(),a=function(){var e=function(e){function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O(t,i),w(t,[{key:"updateModel",value:function(){return console.log("updateModel called"),this.model.set("username",this.ui.username.val()),this.model.set("password",this.ui.password.val())}},{key:"saveModel",value:function(){var e,t,n,r=this;return t=this.model.get("username"),e=this.model.get("password"),n=o.ajax({url:"/login",type:"POST",data:{username:t,password:e},dataType:"json",success:function(e){var t;return t=e.token,l.request("main:app:set-auth-token",t),r.trigger("save:form:success",r.model)},error:function(e){var t;return t=e.responseJSON,f.request("danger",t.message),r.trigger("save:form:failure",r.model)}}),console.log("returning xhr",n)}}]),t}();return e.prototype.template=h,e.prototype.fieldList=["username","password"],e}.call(void 0),_=b.renderable(function(e){return d({input_id:"input_token",label:"Auth Token",input_attributes:{name:"token",placeholder:"xxxxxxxxxxxxxxx"}}),b.input(".btn.btn-default",{type:"submit",value:"login"}),b.div(".spinner.fa.fa-spinner.fa-spin")}),p=function(){var e=function(e){function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O(t,i),w(t,[{key:"updateModel",value:function(){return console.log("updateModel called"),this.model.set("token",this.ui.token.val())}},{key:"saveModel",value:function(){var e,t,n=this;return t=this.model.get("token"),l.request("main:app:set-auth-token",t),(e=(new(l.request("main:app:AuthRefresh"))).fetch()).fail(function(){return n.trigger("save:form:failure",n.model)}),e.done(function(){return n.trigger("save:form:success",n.model)})}}]),t}();return e.prototype.template=_,e.prototype.fieldList=["token"],e}.call(void 0),c=function(){var e=function(e){function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O(t,s.View),w(t,[{key:"onRender",value:function(){return this.showChildView("login",new a),this.showChildView("token",new p)}}]),t}();return e.prototype.template=b.renderable(function(e){return b.div("#login-form"),b.div("#token-form")}),e.prototype.regions={login:"#login-form",token:"#token-form"},e}.call(void 0),e.exports=c},function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,l,c,s,f,p,d,h,y,v,b,_,w,m=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")};n(4),l=n(1),h=n(2),w=n(3),n(32),f=n(168),b=n(227),d=l.Radio.channel("global"),y=l.Radio.channel("messages"),a=d.request("main:app:AuthModel"),d.request("main:app:AuthCollection"),v=function(){var e=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,a),t}();return e.prototype.url="/rest/v0/main/hubby/dbadmin/testme",e}.call(void 0),s=function(){var e=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,a),t}();return e.prototype.url="/rest/v0/main/hubby/dbadmin/delete-all",e}.call(void 0),c=function(){var e=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,a),t}();return e.prototype.url="/rest/v0/main/hubby/dbadmin/testme",e}.call(void 0),_=w.renderable(function(e){return w.div(".dropzone.card",function(){return w.div(".card-header",function(){return w.text("drop a dump of meetings to upload")}),w.div(".card-body",function(){return w.div(".parse-btn.btn.btn-primary",{style:"display:none"},function(){return w.text("upload dropped meetings")}),w.input(".file-input.input",{type:"file"}),w.span(".parse-chosen-btn.btn.btn-primary",{style:"display:none"},function(){return w.text("Parse dropped meetings")})})})}),p=function(){var e=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.successfulParse=e.successfulParse.bind(e),e.fileReaderOnLoad=e.fileReaderOnLoad.bind(e),e}return u(t,h.View),o(t,[{key:"deleteBtnClicked",value:function(){var e;return console.log("deleteBtnClicked"),(e=new s).fetch().done(function(){return y.request("success",e.get("result"))})}},{key:"fileInputClicked",value:function(e){return console.log("file_input_clicked",e),this.ui.fileInput.val(null),this.ui.chosenBtn.hide()}},{key:"fileInputChanged",value:function(e){return console.log("file_input_changed",e),this.ui.chosenBtn.show()}},{key:"handleDrop",value:function(e){var t;return e.preventDefault(),this.ui.dropzone.css("border","0px"),t=e.originalEvent.dataTransfer.files[0],this.ui.statusMsg.text("File: "+t.name),this.droppedFile=t,this.ui.parseBtn.show()}},{key:"handleDragOver",value:function(e){return e.preventDefault(),e.stopPropagation()}},{key:"handleDragEnter",value:function(e){return e.stopPropagation(),e.preventDefault(),this.ui.dropzone.css("border","2px dotted")}},{key:"successfulParse",value:function(){return m(this,t),this.ui.statusMsg.text("Parse Successful"),y.request("success","successfulParse")}},{key:"fileReaderOnLoad",value:function(e){var n,o,r,i,u=this;return m(this,t),n=e.target.result,o=e.target.fileObject.name,this.ui.statusMsg.text("Retrieved file content of "+o),i=(r=new v({content:btoa(n)})).save(),this.ui.statusMsg.text("Uploaded "+o+"."),i.fail(function(){return y.request("warning","failed to save model")}),i.done(function(){var e;return console.log("MODEL",r),e=r.get("data"),r.get("output"),y.request("success","Finished import year "+e.year),u.ui.statusMsg.text("Finished import year "+e.year)})}},{key:"readFile",value:function(e){var t;return(t=new FileReader).onload=this.fileReaderOnLoad,t.fileObject=e,t.readAsBinaryString(e)}},{key:"handleChosenFile",value:function(){var e,t;return t=this.ui.fileInput.val(),this.ui.statusMsg.text("Reading chosen file...("+t+")"),e=this.ui.fileInput[0].files[0],this.ui.parseBtn.hide(),this.readFile(e)}},{key:"handleDroppedFile",value:function(){return this.ui.statusMsg.text("Reading dropped file... ("+this.droppedFile.name+")"),this.ui.parseBtn.hide(),this.readFile(this.droppedFile)}},{key:"exportBtnClicked",value:function(){var e;return this.ui.statusMsg.text("Exporting database..."),(e=new c).fetch().done(function(){var t,n;return n={filename:"dbdump.json.xz",type:"application/octet-stream",data:e.get("content")},console.log("content",n.data),t=b(n.data,n.type),console.log("BLOB",t),f.saveAs(t,n.filename),y.request("primary","Exported database...."),console.log("exported",e)})}}]),t}();return e.prototype.template=w.renderable(function(e){return w.div(".listview-header","Hubby Dbadmin"),w.button(".delete-btn.btn.btn-danger","Delete"),w.button(".export-btn.btn.btn-info","Export"),_(e)}),e.prototype.ui={header:".listview-header",deleteBtn:".delete-btn",fileInput:".file-input",parseBtn:".parse-btn",chosenBtn:".parse-chosen-btn",exportBtn:".export-btn",dropzone:".dropzone",statusMsg:".card-header"},e.prototype.events={"dragover @ui.dropzone":"handleDragOver","dragenter @ui.dropzone":"handleDragEnter","drop @ui.dropzone":"handleDrop","click @ui.fileInput":"fileInputClicked","change @ui.fileInput":"fileInputChanged","click @ui.parseBtn":"handleDroppedFile","click @ui.chosenBtn":"handleChosenFile","click @ui.deleteBtn":"deleteBtnClicked","click @ui.exportBtn":"exportBtnClicked"},e}.call(void 0),e.exports=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});u(n(2));var o,r=u(n(322)),i=u(n(128));function u(e){return e&&e.__esModule?e:{default:e}}o=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),t}();return e.prototype.appRoutes={"admin/useradmin":"listUsers","admin/user/list":"listUsers","admin/user/add":"addNewUser","admin/user/view/:id":"viewUser","admin/user/edit/:id":"editUser"},e}.call(void 0),t.default={router:o,controller:r.default}},function(e,t,n){"use strict";var o,r,i,u,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(4),o=n(1),n(2),n(3),n(7),n(34).ExtraController,u=o.Radio.channel("global"),i=u.request("crud:Controller"),r=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),a(t,[{key:"initialize",value:function(e){this.applet=u.request("main:applet:get-applet","adminpanel"),this.mainController=this.applet.router.controller}},{key:"listUsers",value:function(){var e=this;n.e(107).then(function(){var t;return t=n(455),e.listItems(t)}.bind(null,n)).catch(n.oe)}},{key:"viewUser",value:function(e){var t=this;n.e(108).then(function(){var o;return o=n(456),t.viewItem(o,e)}.bind(null,n)).catch(n.oe)}},{key:"addNewUser",value:function(){var e;e=u.request("crud:view:new-item"),this.addItem(e)}},{key:"editUser",value:function(e){var t;t=u.request("crud:view:edit-item"),this.editItem(t,e)}}]),t}();return e.prototype.defaultColumns=["id","username","fullname"],e.prototype.viewOptions={fieldList:["username","fullname","email"],entryField:"fullname",modelName:"user",label:"user",routeName:"admin"},e.prototype.channelName="useradmin",e}.call(void 0),e.exports=r},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u=f(n(1)),a=(f(n(2)),f(n(18)),f(n(91))),l=f(n(16)),c=f(n(128)),s=f(n(330));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}u.default.Radio.channel("global"),u.default.Radio.channel("company"),i=[{label:"List",url:"#company",icon:".fa.fa-list"},{label:"Calendar",url:"#company/calendar",icon:".fa.fa-calendar"}],r=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,c.default),t}();return e.prototype.channelName="company",e.prototype.permittedGroups=["admin","boss"],e.prototype.navbarEntries="index",e.prototype.appRoutes={company:"viewIndex"},e}.call(void 0),o=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,a.default),t}();return e.prototype.Controller=s.default,e.prototype.Router=r,e.prototype.appletEntries=[{label:(0,l.default)("company")+" Menu",menu:i}],e}.call(void 0),t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=l(n(1)),u=(l(n(2)),l(n(3)),l(n(7)),l(n(90)),n(34)),a=n(35);l(n(5)),l(n(36));function l(e){return e&&e.__esModule?e:{default:e}}i.default.Radio.channel("global"),i.default.Radio.channel("messages"),i.default.Radio.channel("company"),o=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.MainController),r(t,[{key:"viewIndex",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(31).then(function(){var t;return t=new(0,n(465).default),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}}]),t}();return e.prototype.channelName="company",e.prototype.layoutClass=a.ToolbarAppletLayout,e}.call(void 0),t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u=f(n(1)),a=(f(n(2)),f(n(91))),l=f(n(16)),c=f(n(332)),s=f(n(128));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}u.default.Radio.channel("global"),u.default.Radio.channel("dbadmin"),i=[{label:"List",url:"#dbadmin",icon:".fa.fa-list"},{label:"Calendar",url:"#dbadmin/calendar",icon:".fa.fa-calendar"}],r=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,s.default),t}();return e.prototype.channelName="dbadmin",e.prototype.appRoutes={dbadmin:"viewIndex"},e}.call(void 0),o=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,a.default),t}();return e.prototype.Controller=c.default,e.prototype.Router=r,e.prototype.appletEntries=[{label:(0,l.default)("dbadmin")+" Menu",menu:i}],e}.call(void 0),t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=l(n(1)),u=(l(n(2)),l(n(3)),l(n(7)),l(n(90)),n(34)),a=n(35);l(n(5)),l(n(36));function l(e){return e&&e.__esModule?e:{default:e}}i.default.Radio.channel("global"),i.default.Radio.channel("messages"),i.default.Radio.channel("dbadmin"),o=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.MainController),r(t,[{key:"viewIndex",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(32).then(function(){var t;return t=new(n(466)),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}}]),t}();return e.prototype.layoutClass=a.ToolbarAppletLayout,e}.call(void 0),t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});c(n(2));var o=c(n(91)),r=c(n(128));n(167);var i,u,a,l=c(n(334));function c(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Backbone.Radio.channel("global"),Backbone.Radio.channel("resources"),a=[{button:"#list-button",label:"List",url:"#dbdocs/documents",icon:".fa.fa-list"},{label:"Add New Document",url:"#dbdocs/documents/new",icon:".fa.fa-plus"}],u=function(){var e=function(e){function t(){return s(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,r.default),t}();return e.prototype.appRoutes={dbdocs:"list_pages","dbdocs/documents":"list_pages","dbdocs/documents/new":"new_page","dbdocs/documents/view/:id":"view_page","dbdocs/documents/edit/:id":"edit_page"},e}.call(void 0),i=function(){var e=function(e){function t(){return s(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,o.default),t}();return e.prototype.Controller=l.default,e.prototype.Router=u,e.prototype.appletEntries=[{label:"Site Doc Menu",menu:a}],e}.call(void 0),t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l,c,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),f=n(34),p=n(90),d=(o=p)&&o.__esModule?o:{default:o},h=n(35);Backbone.Radio.channel("global"),u=Backbone.Radio.channel("messages"),a=Backbone.Radio.channel("resources"),r=Backbone.Radio.channel("dbdocs"),l=[],c=new Backbone.Collection(l),r.reply("get-toolbar-entries",function(){return c}),i=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.MainController),s(t,[{key:"setupLayoutIfNeeded",value:function(){var e;return function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setupLayoutIfNeeded",this).call(this),e=new d.default({collection:c}),this.layout.showChildView("toolbar",e)}},{key:"list_pages",value:function(){var e=this;return this.setupLayoutIfNeeded(),console.log("List Pages"),n.e(34).then(function(){var t,o,r;return t=n(467),r=new t({collection:e.collection}),(o=e.collection.fetch()).done(function(){return e.layout.showChildView("content",r)}),o.fail(function(){return u.request("danger","Failed to load documents.")})}.bind(null,n)).catch(n.oe)}},{key:"edit_page",value:function(e){var t=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(1),n.e(8)]).then(function(){var o,r;return o=n(239).EditPageView,r=a.request("db:document:get",e),t._loadView(o,r)}.bind(null,n)).catch(n.oe)}},{key:"view_page",value:function(e){var t=this;return this.setupLayoutIfNeeded(),n.e(33).then(function(){var o,r;return o=n(472),r=a.request("db:document:get",e),t._loadView(o,r)}.bind(null,n)).catch(n.oe)}},{key:"new_page",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(1),n.e(8)]).then(function(){var t;return t=new(0,n(239).NewPageView),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}}]),t}();return e.prototype.layoutClass=h.ToolbarAppletLayout,e.prototype.collection=a.request("db:document:collection"),e}.call(void 0),t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l=f(n(1)),c=(f(n(2)),f(n(91))),s=f(n(336));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(169),n(338),i=l.default.Radio.channel("global"),l.default.Radio.channel("resources"),o=i.request("main:app:IndexRouter"),a=[{id:"main",label:"Main View",url:"#ebcsv",icon:".fa.fa-eye"},{id:"cfglist",label:"Configs",url:"#ebcsv/configs/list",icon:".fa.fa-list"},{id:"dsclist",label:"Descriptions",url:"#ebcsv/descriptions/list",icon:".fa.fa-list"},{id:"uploadxml",label:"Upload CLZ/XML",url:"#ebcsv/xml/upload",icon:".fa.fa-upload"},{id:"mkcsv",label:"Create CSV",url:"#ebcsv/csv/create",icon:".fa.fa-cubes"},{id:"cached",label:"Cached Images",url:"#ebcsv/clzpage",icon:".fa.fa-image"},{id:"addcfg",label:"Create Cfg",url:"#ebcsv/configs/add",icon:".fa.fa-plus"}],u=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,o),t}();return e.prototype.appRoutes={ebcsv:"main_view","ebcsv/xml/upload":"upload_xml","ebcsv/csv/create":"create_csv","ebcsv/csv/preview":"preview_csv","ebcsv/clzpage":"view_cached_comics","ebcsv/configs":"list_configs","ebcsv/configs/list":"list_configs","ebcsv/configs/add":"add_new_config","ebcsv/configs/view/:name":"view_config","ebcsv/configs/edit/:name":"edit_config","ebcsv/descriptions":"list_descriptions","ebcsv/descriptions/list":"list_descriptions","ebcsv/descriptions/add":"add_new_description","ebcsv/descriptions/view/:name":"view_description","ebcsv/descriptions/edit/:name":"edit_description"},e}.call(void 0),r=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,c.default),t}();return e.prototype.Controller=s.default,e.prototype.Router=u,e.prototype.appletEntries=[{label:"Ebcsv Menu",menu:a}],e.prototype.state={currentCsvAction:void 0,currentCsvConfig:void 0,currentCsvDsc:void 0},e}.call(void 0),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=(h(n(4)),h(n(1))),i=h(n(2)),u=h(n(3)),a=h(n(7)),l=h(n(90)),c=h(n(42)),s=h(n(39)),f=h(n(5)),p=h(n(36)),d=h(n(337));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _,w,m,g,O,j,P,k=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")};w=n(34).MainController,r.default.Radio.channel("global"),m=r.default.Radio.channel("messages"),r.default.Radio.channel("resources"),g=r.default.Radio.channel("navbar"),O={id:"addcfg",label:"Create Cfg",url:"#ebcsv/configs/add",icon:".fa.fa-plus"},j={id:"adddsc",label:"Create Description",url:"#ebcsv/descriptions/add",icon:".fa.fa-plus"},function(){var e=function(e){function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,i.default.View),o(t,[{key:"regions",value:function(){var e;return(e=new s.default({el:"#main-content"})).slide_speed=(0,a.default)(".01s"),{content:e,toolbar:"#main-toolbar"}}}]),t}();return e.prototype.behaviors={ShowInitialEmptyContent:{behaviorClass:c.default}},e.prototype.template=u.default.renderable(function(e){return u.default.div(".col-md-12",function(){return u.default.div(".row",function(){return u.default.div("#main-toolbar.col-md-10.col-md-offset-1")}),u.default.div(".row",function(){return u.default.div("#main-content.col-md-10.col-md-offset-1")})})}),e}.call(void 0),P=new r.default.Collection([]),d.default.reply("get-toolbar-entries",function(){return P}),function(){var e=function(e){function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,l.default),t}();return e.prototype.options={entryTemplate:u.default.renderable(function(e){var t;return t={style:"overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"},u.default.span(t,function(){return u.default.i(e.icon),u.default.text(" "),u.default.text(e.label)})})},e}.call(void 0),_=function(e){function t(){y(this,t);var e=v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._showMainView=e._showMainView.bind(e),e._show_create_csv_view=e._show_create_csv_view.bind(e),e._show_preview_csv_view=e._show_preview_csv_view.bind(e),e.create_csv=e.create_csv.bind(e),e}return b(t,w),o(t,[{key:"_showMainView",value:function(){var e=this;return k(this,t),Promise.all([n.e(0),n.e(11),n.e(41)]).then(function(){var t,o;return t=d.default.request("get-comics"),o=new(n(473))({collection:t}),e.layout.showChildView("content",o)}.bind(null,n)).catch(n.oe)}},{key:"_show_create_csv_view",value:function(){var e=this;return k(this,t),Promise.all([n.e(0),n.e(11),n.e(42)]).then(function(){var t,o;return t=d.default.request("get-comics"),o=new(n(475))({collection:t}),e.layout.showChildView("content",o)}.bind(null,n)).catch(n.oe)}},{key:"_show_preview_csv_view",value:function(){var e=this;return k(this,t),Promise.all([n.e(0),n.e(37)]).then(function(){var t,o;return t=d.default.request("get-comics"),o=new(n(476))({collection:t}),e.layout.showChildView("content",o)}.bind(null,n)).catch(n.oe)}},{key:"_needComicsView",value:function(e){return d.default.request("get-comics").length?e():(0,f.default)("#ebcsv/xml/upload")}},{key:"create_csv",value:function(){var e,n,o=this;return k(this,t),this.setupLayoutIfNeeded(),e=d.default.request("get_local_configs"),n=d.default.request("get_local_descriptions"),e.fetch().then(function(){return n.fetch().then(function(){return o._needComicsView(o._show_create_csv_view)})})}},{key:"preview_csv",value:function(){var e,t,n,o=this;if(this.setupLayoutIfNeeded(),e=d.default.request("get-current-csv-cfg"),t=d.default.request("get-current-csv-dsc"),n=d.default.request("get-superheroes-model"),void 0!==e)return e.fetch().then(function(){return t.fetch().then(function(){return n.fetch().then(function(){return o._needComicsView(o._show_preview_csv_view)})})});(0,f.default)("#ebcsv")}},{key:"main_view",value:function(){return this.setupLayoutIfNeeded(),this._needComicsView(this._showMainView)}},{key:"upload_xml",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(0),n.e(43)]).then(function(){var t,o;return t=d.default.request("get-comics"),o=new(n(477))({collection:t}),e.layout.showChildView("content",o)}.bind(null,n)).catch(n.oe)}},{key:"view_cached_comics",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(0),n.e(35)]).then(function(){var t;return t=new(n(478)),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"_setCfgEntries",value:function(){return g.request("get-entries","view").set([O])}},{key:"list_configs",value:function(){var e=this;return this.setupLayoutIfNeeded(),this._setCfgEntries(),n.e(39).then(function(){var t;return(t=d.default.request("get_local_configs")).fetch().done(function(o){var r;return console.log("ROWS",o,t),r=new(n(480))({collection:t}),e.layout.showChildView("content",r)})}.bind(null,n)).catch(n.oe)}},{key:"add_new_config",value:function(){var e=this;return this.setupLayoutIfNeeded(),this._setCfgEntries(),n.e(9).then(function(){var t;return t=new(n(242).NewFormView),e.layout.showChildView("content",t),(0,p.default)()}.bind(null,n)).catch(n.oe)}},{key:"view_config",value:function(e){var t=this;return this.setupLayoutIfNeeded(),this._setCfgEntries(),n.e(36).then(function(){var o,r,i;return o=n(481),r=d.default.request("get_local_configs"),(i=new r.model({id:e})).fetch().done(function(e){var n;return n=new o({model:i}),t.layout.showChildView("content",n),(0,p.default)()})}.bind(null,n)).catch(n.oe)}},{key:"edit_config",value:function(e){var t=this;return this.setupLayoutIfNeeded(),this._setCfgEntries(),n.e(9).then(function(){var o,r,i;return o=n(242),r=d.default.request("get_local_configs"),(i=new r.model({id:e})).fetch().done(function(e){var n;return n=new o.EditFormView({model:i}),t.layout.showChildView("content",n),(0,p.default)()})}.bind(null,n)).catch(n.oe)}},{key:"_setDscEntries",value:function(){return g.request("get-entries","view").set([j])}},{key:"list_descriptions",value:function(){var e=this;return this.setupLayoutIfNeeded(),this._setDscEntries(),n.e(40).then(function(){var t,o;return(o=(t=d.default.request("get_local_descriptions")).fetch()).done(function(o){var r;return r=new(n(482))({collection:t}),e.layout.showChildView("content",r)}),o.fail(function(){return m.request("danger","Failed to get descriptions")})}.bind(null,n)).catch(n.oe)}},{key:"add_new_description",value:function(){var e=this;return this.setupLayoutIfNeeded(),this._setDscEntries(),Promise.all([n.e(1),n.e(5),n.e(10)]).then(function(){var t;return t=new(n(243).NewFormView),e.layout.showChildView("content",t),(0,p.default)()}.bind(null,n)).catch(n.oe)}},{key:"view_description",value:function(e){var t=this;return this.setupLayoutIfNeeded(),this._setDscEntries(),n.e(38).then(function(){var o,r,i;return o=n(483),r=d.default.request("get_local_descriptions"),(i=new r.model({id:e})).fetch().done(function(e){var n;return n=new o({model:i}),t.layout.showChildView("content",n),(0,p.default)()})}.bind(null,n)).catch(n.oe)}},{key:"edit_description",value:function(e){var t,o=this;return this.setupLayoutIfNeeded(),this._setDscEntries(),t=d.default.request("get_local_descriptions"),Promise.all([n.e(1),n.e(5),n.e(10)]).then(function(){var r,i;return r=n(243),t=d.default.request("get_local_descriptions"),(i=new t.model({id:e})).fetch().done(function(e){var t;return t=new r.EditFormView({model:i}),o.layout.showChildView("content",t),(0,p.default)()})}.bind(null,n)).catch(n.oe)}}]),t}(),t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1));r(n(2));function r(e){return e&&e.__esModule?e:{default:e}}t.default=o.default.Radio.channel("ebcsv")},function(e,t,n){"use strict";n(339),n(363)},function(e,t,n){"use strict";var o,r,i,u,a,l,c,s,f,p,d;r=n(1),n(113),n(7),n(92),n(117),n(32),n(16),n(355),p=n(356),f=n(357),s=n(358),l=n(359),c=n(361),d=n(362),r.Radio.channel("messages"),o=r.Radio.channel("ebcsv"),a=o.request("grouped-csv-fields"),i=function(e){var t,n;return n={},t=e.cfg.get("content"),n.action=e.action,a.ReqFieldNames.forEach(function(e){return n[e]=t[e]}),a.OptFieldNames.forEach(function(e){return n[e]=t[e]}),a.EbayFields.forEach(function(e){return n[e]=""}),n},u=function(e){var t,n,o;return t=e.comic,e.cfg.get("content"),(o=i(e)).quantity!==t.quantity&&(o.quantity=t.quantity),p(o,e),f(o,e),s(o,e),l(o,e),c(o,e),(null!=(n=t.mainsection)?n.plot:void 0)&&(t.mainsection.plot=t.mainsection.plot.split("<br>").join("\n"),t.mainsection.plot=t.mainsection.plot.split("<BR>").join("\n")),d(o,e),o},o.reply("create-csv-row-object",function(e){return u(e)}),e.exports={}},,,,,function(e,t){},,function(e,t){},,,,,,,,,function(e,t,n){"use strict";var o,r,i,u,a,l,c,s;r=n(1),n(113),n(7),n(92),n(117),n(32),c=n(16).default,r.Radio.channel("messages"),o=r.Radio.channel("ebcsv"),u=["Title","PicURL","Description","Product:EAN","Product:UPC","Product:ISBN","*Category"],l=["format","location","returnsacceptedoption","duration","quantity","startprice","dispatchtimemax","conditionid"],o.reply("csv-req-fieldnames",function(){return l}),a=["postalcode","paymentprofilename","returnprofilename","shippingprofilename","scheduletime"],o.reply("csv-opt-fieldnames",function(){return a}),s=function(){var e,t,n,o,r,i,s,f;for(t={action:"*Action"},n=0,i=l.length;n<i;n++)t[e=l[n]]="*"+c(e);for(o=0,s=a.length;o<s;o++)t[e=a[o]]=e;for(r=0,f=u.length;r<f;r++)t[e=u[r]]=e;return t},o.reply("create-csv-header",function(){return create-csv-header()}),i=s(),o.reply("get-csv-header",function(){return i}),o.reply("grouped-csv-fields",function(){return{ReqFieldNames:l,OptFieldNames:a,EbayFields:u}}),e.exports={}},function(e,t,n){"use strict";var o;o=function(e,t){var n,o;if(null!=(n=t.comic)?n.currentprice:void 0){for(o=n.currentprice;o.startsWith("$");)o=o.substring(1,o.length);return e.startprice=o}},e.exports=o},function(e,t,n){"use strict";var o,r,i;r=n(7),o=n(92),i=function(e,t){var n,i,u;return(u=r(e.scheduletime))?(i=(new Date).valueOf()+u,n=new Date(i),"yyyy-mm-dd HH:MM:ss",e.scheduletime=o(n,"yyyy-mm-dd HH:MM:ss")):e.scheduletime=""},e.exports=i},function(e,t,n){"use strict";var o;o=function(e,t){var n,o;if(null!=(n=t.comic)?n.isbn:void 0)return 14===(o=n.isbn).length&&(o=o.substring(0,o.length-2)),13===o.length&&(o=o.substring(1,o.length)),e["Product:UPC"]=o},e.exports=o},function(e,t,n){"use strict";var o,r,i,u;r=n(1),n(169),n(360),i=r.Radio.channel("messages"),o=r.Radio.channel("ebcsv"),u=function(e,t){var n,r,u,a,l,c,s,f,p,d,h,y,v,b;for(r=t.comic,c=o.request("get-superheroes-model").get("rows"),(b=null!=(y=r.publicationdate)?y.year:void 0)||(b=r.releasedate.year,console.warn("Using releasedate")),b||(console.warn("Bad date for comic",r),i.request("danger","Bad Date for comic "+r.id)),b=parseInt(b.displayname),v=r.mainsection.series.displayname.toLowerCase(),n=o.request("find-age",b),h=void 0,l={},p=0,d=(f=o.request("get-heroes-by-age",b,c)).length;p<d;p++)(s=f[p]).superhero.startsWith("Other ")&&(h=s),l[s.superhero.toLowerCase()]=s;for(a in null==h&&i.request("danger","No category found for "+n),u=h,l)if(v.indexOf(a)>=0){u=l[a];break}return e["*Category"]=u.id},e.exports=u},function(e,t,n){"use strict";var o,r,i,u,a;(r=n(1)).Radio.channel("messages"),o=r.Radio.channel("ebcsv"),i={platinum:{start:1897,end:1937},golden:{start:1938,end:1955},silver:{start:1956,end:1969},bronze:{start:1970,end:1983},copper:{start:1984,end:1991},modern:{start:1992,end:2100}},u=function(e){var t,n;for(n in i)if(e>=(t=i[n]).start&&e<=t.end)return n;return!1},o.reply("get-comic-ages",function(){return i}),o.reply("find-age",function(e){return u(e)}),a=function(e,t){var n,o;return n=u(e),o=[],t.forEach(function(e){if(e.age===n)return o.push(e)}),o},o.reply("get-heroes-by-age",function(e,t){return a(e,t)}),e.exports={}},function(e,t,n){"use strict";var o,r,i;r=n(1),n(169),r.Radio.channel("messages"),o=r.Radio.channel("ebcsv"),i=function(e,t){var n,r,i;return n=t.comic,i=o.request("get-comic-image-urls"),r=n.links.link.url,t.image_src=i[r].replace("http://","//"),e.PicURL=i[n.links.link.url]},e.exports=i},function(e,t,n){"use strict";var o,r,i,u,a,l=[].indexOf;o=n(1),i=n(117),u=n(32),r=o.Radio.channel("messages"),o.Radio.channel("ebcsv"),a=function(e,t){var n,o,a,c,s;return t.comic,o=t.desc,(s=i.compile(o.get("title"))(t)).length>80&&(a="Title too long.\n",c=s.substring(0,79),a=a+(s+" ----\x3e ")+c,r.request("danger",a),s=c),e.Title=s,n=i.compile(o.get("content"))(t),(n=(n=(n=u(n)).split("\r").join("")).split("\n").join("")).length>32700&&(a=n.length+" characters in description",r.request("warning",a)),l.call(n,"\n")>=0&&r.request("danger","newline in description"),e.Description=n},e.exports=a},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u,a,l,c,s,f,p,d,h;a=n(1),h=n(113),n(7),n(92),n(117),n(32),n(16),s=a.Radio.channel("messages"),u=a.Radio.channel("ebcsv"),d=new h.Parser({explicitArray:!1,async:!1}),u.reply("get-xmlparser",function(){return d}),f=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,a.Model),t}(),p=function(){var e=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,a.Collection),t}();return e.prototype.model=f,e}.call(void 0),l=new p,u.reply("set-comics",function(e){return l.set(e)}),u.reply("get-comics",function(){return l}),c=new p,u.reply("set-all-comics",function(e){return c.set(e)}),u.reply("get-all-comics",function(){return c}),u.reply("parse-all-comics-xml",function(e,t){return d.parseString(e,function(e,n){var o;return(null!=(o=n.comicinfo.comiclist.comic)?o.length:void 0)||(console.warn("Single comic!"),o=[o]),u.request("set-all-comics",forsale),t()})}),u.reply("parse-comics-for-sale",function(e,t){return d.parseString(e,function(e,n){var o,r,i,a,l,c,f,p,d,h;for((null!=(i=n.comicinfo.comiclist.comic)?i.length:void 0)||(i=[i]),a=[],c=[],o=[],l=0,f=i.length;l<f;l++)"For Sale"===(h=(r=i[l]).collectionstatus._)?r.links?a.push(r):o.push(r):"In Collection"===h?c.push(r):(d="Cannot determine comic status of ("+((p=r.mainsection).series.displayname+" #"+p.issue)+")!",s.request("danger",d));return c.length&&(d=c.length+" ignored!!",s.request("warning",d)),a.length||s.request("danger","No comics for sale!"),o.length&&(d="There was some bad xml, skipped "+o.length+" comics.",s.request("danger",d)),u.request("set-comics",a),t()})}),u.reply("parse-comics-xml",function(e,t){return d.parseString(e,function(e,n){var o;return(null!=(o=n.comicinfo.comiclist.comic)?o.length:void 0)||(o=[o]),u.request("set-comics",o),t()})}),e.exports={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l=p(n(1)),c=(p(n(2)),p(n(91))),s=p(n(16)),f=p(n(365));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=l.default.Radio.channel("global"),l.default.Radio.channel("eliza"),o=i.request("main:app:IndexRouter"),a=[{label:"Main",url:"#eliza",icon:".fa.fa-terminal.text-light.bg-dark"}],u=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,o),t}();return e.prototype.channelName="eliza",e.prototype.appRoutes={eliza:"viewIndex"},e}.call(void 0),r=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,c.default),t}();return e.prototype.Controller=f.default,e.prototype.Router=u,e.prototype.appletEntries=[{label:(0,s.default)("eliza")+" Menu",menu:a}],e}.call(void 0),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=c(n(1)),u=(c(n(2)),c(n(3)),c(n(7)),c(n(90))),a=n(34),l=n(35);c(n(5)),c(n(36));function c(e){return e&&e.__esModule?e:{default:e}}i.default.Radio.channel("global"),i.default.Radio.channel("messages"),i.default.Radio.channel("eliza"),o=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.MainController),r(t,[{key:"setupLayoutIfNeededOrig",value:function(){var e;return function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setupLayoutIfNeededOrig",this).call(this),e=new u.default({collection:new i.default.Collection(toolbarEntries)}),this.layout.showChildView("toolbar",e)}},{key:"viewIndex",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(113),n.e(44)]).then(function(){var t;return t=new(0,n(484).default),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}}]),t}();return e.prototype.layoutClass=l.ToolbarAppletLayout,e}.call(void 0),t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=p(n(1)),r=(p(n(2)),p(n(91))),i=p(n(16));n(367);var u,a,l,c,s,f=p(n(370));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}l=o.default.Radio.channel("global"),o.default.Radio.channel("freelaw"),u=l.request("main:app:IndexRouter"),s=[{label:"List",url:"#freelaw",icon:".fa.fa-list"},{label:"Calendar",url:"#freelaw/calendar",icon:".fa.fa-calendar"}],c=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,u),t}();return e.prototype.channelName="freelaw",e.prototype.appRoutes={freelaw:"listClusters"},e}.call(void 0),a=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,r.default),t}();return e.prototype.Controller=f.default,e.prototype.Router=c,e.prototype.appletEntries=[{label:(0,i.default)("freelaw")+" Menu",menu:s}],e}.call(void 0),t.default=a},function(e,t,n){"use strict";var o,r,i,u,a,l,c,s,f,p,d,h,y,v,b,_,w,m,g,O,j,P=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),k=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0};function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}y=n(0),r=n(1),n(118),f=n(112).default,u=n(43).default,_=n(368),console.log("clToken "+_),r.Radio.channel("global"),o=r.Radio.channel("freelaw"),n(369),g=function(){return"Token "+_},j=function(e){e.setRequestHeader("Authorization",g())},b=function(e){return(e=e||{}).beforeSend=j,e},l=function(e){function t(){return C(this,t),R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,r.Model),P(t,[{key:"sync",value:function(e,n,o){return o=b(o),k(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"sync",this).call(this,e,n,o)}}]),t}(),i=function(){var e=function(e){function t(){return C(this,t),R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,u),P(t,[{key:"parse",value:function(e){var t;return t=e.count,this.state.totalRecords=t,this.state.totalPages=Math.ceil(t/20),this.state.lastPage=this.state.totalPages,e.results}}]),t}();return e.prototype.state={firstPage:1,currentPage:1,sortColumn:"id",pageSize:20},e.prototype.queryParams={page:function(){return this.state.currentPage},format:"json",pageSize:null},e}.call(void 0),a=function(e){function t(){return C(this,t),R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,i),P(t,[{key:"sync",value:function(e,n,o){return console.log("CLCollection options",o),o=b(o),console.log("CLCollection options again",o),o.url||(o.url=this.urlRoot+"/"),k(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"sync",this).call(this,e,n,o)}}]),t}(),m={channelName:"freelaw"},O=(v="http://127.0.0.1:9000/api/rest/v3")+"/opinions",d=function(){var e=function(e){function t(){return C(this,t),R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,l),t}();return e.prototype.urlRoot=O,e}.call(void 0),p=function(){var e=function(e){function t(){return C(this,t),R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,a),t}();return e.prototype.urlRoot=O,e.prototype.model=d,e}.call(void 0),h=function(){var e=function(e){function t(){return C(this,t),R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,l),t}();return e.prototype.url=O,e}.call(void 0),new f(y.extend(m,{modelName:"opinion",modelClass:d,collectionClass:p})),o.reply("db:opinion:list",function(){return new h}),w=v+"/clusters",s=function(){var e=function(e){function t(){return C(this,t),R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,l),t}();return e.prototype.urlRoot=w,e}.call(void 0),c=function(){var e=function(e){function t(){return C(this,t),R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,a),t}();return e.prototype.urlRoot=w,e.prototype.model=s,e}.call(void 0),function(){var e=function(e){function t(){return C(this,t),R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,l),t}();return e.prototype.url=w,e}.call(void 0),new f(y.extend(m,{modelName:"cluster",modelClass:s,collectionClass:c}))},function(e,t,n){"use strict";n.r(t),t.default="a4a26bd256e10cc6247dc5029c32190963bca941"},function(e,t,n){"use strict";n.r(t),t.default="# The Waiter at the End of the Universe \n#### (or just a unique name for an app)\n\nA couple of apps:\n\n1. [Hourly](#hourly)\n\n\tA simple timeclock.\n  \n1. [ELIZA](#eliza)\n\n\tAn implementation of a very old program that simulates\n\ta conversation.\n  \n1. [The Movie DB (tv shows)](#moviedb)\n\n\tSearch for television shows, as well as movies. Shows a\n\tlist of episodes if available.\n  \n1. [TV Maze API demo](#tvmaze)\n\n\tSearch for television shows and store the results in \n\ta local browser database.\n\t\n\n\t\n\nThis site is running:\n\n- [bootstrap](https://getbootstrap.com/) -\n  Twitter Bootstrap is a very popular and useful css framework.\n\n- [backbone.marionette](https://marionettejs.com/)\n  Backbone provides models, collections and basic views.  Marionette \n  helps make view layout and management much easier.\n  \n- [tbirds](https://github.com/umeboshi2/tbirds/)\n  Tbirds is the simple framework I created specifically for creating\n  single page applications using bootstrap and backbone.marionette.\n\n- lovefield\n\n\nThis site was built with:\n\n- webpack\n\n- coffeescript\n\n\n[I Love Lucy](#moviedb/tv/shows/view/2730)\n\n\n\n\nThis is a page that discusses some of the \n[projects](#pages/projects) I placed on github.\n\n[Web Development](#pages/web-development-intro)\n\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=c(n(1)),a=(c(n(2)),c(n(3)),c(n(7)),c(n(90)),n(34)),l=n(35);c(n(5)),c(n(36));function c(e){return e&&e.__esModule?e:{default:e}}u.default.Radio.channel("global"),u.default.Radio.channel("messages"),u.default.Radio.channel("resources"),o=u.default.Radio.channel("freelaw"),r=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.MainController),i(t,[{key:"viewIndex",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(45).then(function(){var t;return t=new(n(523)),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"viewOpinion",value:function(e){var t=this;return this.setupLayoutIfNeeded(),n.e(47).then(function(){var r,i;return r=n(524),(i=o.request("db:opinion:get",e)).fetch().done(function(){var e;return e=new r({model:i}),t.layout.showChildView("content",e),console.log("OPINION",i)})}.bind(null,n)).catch(n.oe)}},{key:"listOpinions",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(46).then(function(){var t,r;return t=n(525),(r=o.request("db:opinion:collection")).fetch().done(function(){var n;return n=new t({collection:r}),e.layout.showChildView("content",n)})}.bind(null,n)).catch(n.oe)}},{key:"listClusters",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(46).then(function(){var t,r;return t=n(526),(r=o.request("db:cluster:collection")).fetch().done(function(){var n;return n=new t({collection:r}),e.layout.showChildView("content",n)})}.bind(null,n)).catch(n.oe)}}]),t}();return e.prototype.layoutClass=l.ToolbarAppletLayout,e}.call(void 0),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=(f(n(2)),f(n(91))),s=f(n(372));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=Backbone.Radio.channel("global"),Backbone.Radio.channel("frontdoor"),o=i.request("main:app:IndexRouter"),a=[{id:"dbadmin",label:"Db Admin",url:"#frontdoor/dbadmin",icon:".fa.fa-database"}],u=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,o),t}();return e.prototype.channelName="frontdoor",e.prototype.appRoutes={"":"frontdoor",frontdoor:"frontdoor","frontdoor/view":"frontdoor","frontdoor/view/*name":"viewPage","frontdoor/login":"showLogin","frontdoor/logout":"showLogout",login:"showLogin",logout:"showLogout","pages/:name":"viewPage","frontdoor/upload":"uploadView","frontdoor/themes":"themeSwitcher","frontdoor/stats":"statsView","frontdoor/emojilist":"viewEmojis","frontdoor/dbadmin":"viewDbAdmin"},e}.call(void 0),r=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,c.default),l(t,[{key:"onStop",value:function(){return console.log("(Child) Stopping frontdoor",this.isRunning()),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onStop",this).call(this)}}]),t}();return e.prototype.Controller=s.default,e.prototype.Router=u,e.prototype.appletEntries=[{label:"Main Menu",menu:a}],e}.call(void 0),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0},i=(s(n(172)),s(n(1))),u=(s(n(2)),s(n(39))),a=s(n(5)),l=n(35),c=s(n(373));function s(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h,y,v,b,_,w,m,g,O,j,P=[].indexOf,k=n(34);w=k.MainController,n(31).login_form,n(167),_=i.default.Radio.channel("global"),m=i.default.Radio.channel("messages"),i.default.Radio.channel("static-documents"),i.default.Radio.channel("resources"),j=n(3);var C=n(152);v=C.FrontDoorMainView,h=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,i.default.Model),o(t,[{key:"fetch",value:function(e){return(e=e||{}).dataType="text",r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fetch",this).call(this,e)}},{key:"parse",value:function(e){return{content:e}}}]),t}(),function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,i.default.Collection),t}();return e.prototype.urlRoot="/assets/documents",e}.call(void 0),g=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,h),t}();return e.prototype.url="/assets/documents/intro.md",e}.call(void 0),O=j.renderable(function(){return j.div(".row",function(){return j.div("#main-content")})}),b=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,l.BaseAppletLayout),o(t,[{key:"regions",value:function(){return{content:new u.default({el:"#main-content",speed:"slow"})}}}]),t}();return e.prototype.template=O,e}.call(void 0),y=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,w),o(t,[{key:"setupLayoutIfNeeded",value:function(){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setupLayoutIfNeeded",this).call(this),this.layout.controller=this}},{key:"_viewResource",value:function(e){var t;return this.setupLayoutIfNeeded(),t=new v({model:e}),this.layout.showChildView("content",t)}},{key:"_viewLogin",value:function(){var e;return e=new c.default,this.layout.showChildView("content",e)}},{key:"_viewUpload",value:function(){var e=this;return Promise.all([n.e(21),n.e(49)]).then(function(){var t;return t=new(n(527)),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"uploadView",value:function(){return this.setupLayoutIfNeeded(),this._viewUpload()}},{key:"frontdoor_needuser",value:function(){var e;return e=_.request("main:app:decode-auth-token"),P.call(Object.keys(e),"name")>=0?this.frontdoor_hasuser(e):this.show_login()}},{key:"showLogin",value:function(){return this.setupLayoutIfNeeded(),this._viewLogin()}},{key:"showLogout",value:function(){return _.request("main:app:destroy-auth-token"),(0,a.default)("/")}},{key:"frontdoor_hasuser",value:function(e){return this.defaultView()}},{key:"view_readme",value:function(){var e,t,n=this;return this.setupLayoutIfNeeded(),(t=(e=new g).fetch()).done(function(){return n._viewResource(e)}),t.fail(function(){return m.request("warning","failed to get readme")})}},{key:"viewPage",value:function(e){var t,n,o=this;return this.setupLayoutIfNeeded(),(n=(t=_.request("main:app:get-document",e)).fetch()).done(function(){return o._viewResource(t)}),n.fail(function(){return m.request("warning","failed to get "+e)})}},{key:"defaultView",value:function(){return this.setupLayoutIfNeeded(),this.view_readme()}},{key:"frontdoor",value:function(){var e;return(null!=(e=_.request("main:app:config"))?e.needLogin:void 0)?this.frontdoor_needuser():this.defaultView()}},{key:"themeSwitcher",value:function(){var e;return this.setupLayoutIfNeeded(),e=new(0,n(152).ThemeSwitchView),this.layout.showChildView("content",e),console.log("themeSwitcher")}},{key:"statsView",value:function(){var e,t,o=this;this.setupLayoutIfNeeded();var r=n(152);return e=r.StatsView,(t=new i.default.Model).url="/stats.json",t.fetch().done(function(){var n;return n=new e({model:t}),o.layout.showChildView("content",n)})}},{key:"viewEmojis",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(48).then(function(){var t;return t=new(n(528)),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"viewDbAdmin",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(50).then(function(){var t;return t=new(n(529)),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}}]),t}();return e.prototype.layoutClass=b,e}.call(void 0),t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l,c,s,f,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=m(n(4)),h=m(n(1)),y=m(n(2)),v=m(n(3)),b=m(n(37)),_=m(n(5)),w=m(n(33));function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var P=n(31);c=P.form_group_input_div,i=h.default.Radio.channel("global"),a=h.default.Radio.channel("messages"),s=v.default.renderable(function(e){return c({input_id:"input_username",label:"User Name",input_attributes:{name:"username",placeholder:"User Name"}}),c({input_id:"input_password",label:"Password",input_attributes:{name:"password",type:"password",placeholder:"Type your password here...."}}),v.default.input(".btn.btn-primary",{type:"submit",value:"login"}),v.default.div(".spinner.fa.fa-spinner.fa-spin")}),o=function(e){function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,w.default),p(t,[{key:"ui",value:function(){return(0,b.default)(this.fieldList)}},{key:"createModel",value:function(){return new h.default.Model}},{key:"onSuccess",value:function(){return(0,_.default)("/")}}]),t}(),r=function(){var e=function(e){function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,o),p(t,[{key:"updateModel",value:function(){return console.log("updateModel called"),this.model.set("username",this.ui.username.val()),this.model.set("password",this.ui.password.val())}},{key:"saveModel",value:function(){var e,t,n,o=this;return t=this.model.get("username"),e=this.model.get("password"),n=d.default.ajax({url:"/login",type:"POST",data:{username:t,password:e},dataType:"json",success:function(e){var t;return t=e.token,i.request("main:app:set-auth-token",t),o.trigger("save:form:success",o.model)},error:function(e){var t;return t=e.responseJSON,a.request("danger",t.message),o.trigger("save:form:failure",o.model)}}),console.log("returning xhr",n)}}]),t}();return e.prototype.template=s,e.prototype.fieldList=["username","password"],e}.call(void 0),f=v.default.renderable(function(e){return c({input_id:"input_token",label:"Auth Token",input_attributes:{name:"token",placeholder:"xxxxxxxxxxxxxxx"}}),v.default.input(".btn.btn-default",{type:"submit",value:"login"}),v.default.div(".spinner.fa.fa-spinner.fa-spin")}),l=function(){var e=function(e){function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,o),p(t,[{key:"updateModel",value:function(){return console.log("updateModel called"),this.model.set("token",this.ui.token.val())}},{key:"saveModel",value:function(){var e,t,n,o=this;return n=this.model.get("token"),i.request("main:app:set-auth-token",n),e=new(i.request("main:app:AuthRefresh")),(t=e.fetch()).fail(function(){var e;return e=t.responseJSON,a.request("danger",e.message),o.trigger("save:form:failure",o.model)}),t.done(function(){return o.trigger("save:form:success",o.model)})}}]),t}();return e.prototype.template=f,e.prototype.fieldList=["token"],e}.call(void 0),u=function(){var e=function(e){function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,y.default.View),p(t,[{key:"onRender",value:function(){return this.showChildView("login",new r),this.showChildView("token",new l)}}]),t}();return e.prototype.template=v.default.renderable(function(e){return v.default.div("#login-form"),v.default.div("#token-form")}),e.prototype.regions={login:"#login-form",token:"#token-form"},e}.call(void 0),t.default=u},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l=p(n(1)),c=(p(n(2)),p(n(91))),s=p(n(16)),f=p(n(380));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=l.default.Radio.channel("global"),l.default.Radio.channel("hourly"),o=i.request("main:app:IndexRouter"),a=[{label:"Main",url:"#hourly",icon:".fa.fa-star"},{label:"List Workers",url:"#hourly/list-workers",icon:".fa.fa-list"},{label:"Add Workers",url:"#hourly/potential-workers",icon:".fa.fa-plus"},{label:"Calendar",url:"#hourly/calendar",icon:".fa.fa-calendar"}],u=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,o),t}();return e.prototype.channelName="hourly",e.prototype.appRoutes={hourly:"viewIndex","hourly/calendar":"viewCalendar","hourly/potential-workers":"viewPotentialWorkers","hourly/list-workers":"viewWorkers"},e}.call(void 0),r=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,c.default),t}();return e.prototype.Controller=f.default,e.prototype.Router=u,e.prototype.appletEntries=[{label:(0,s.default)("hourly")+" Menu",menu:a}],e}.call(void 0),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=s(n(1)),l=(s(n(2)),s(n(3)),s(n(7)),s(n(90)),n(34)),c=n(35);s(n(5)),s(n(36));function s(e){return e&&e.__esModule?e:{default:e}}n(381),r=a.default.Radio.channel("global"),i=a.default.Radio.channel("messages"),a.default.Radio.channel("hourly"),o=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.MainController),u(t,[{key:"viewIndex",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(52).then(function(){var t,o,i;return t=r.request("main:app:decode-auth-token"),i=e.getChannel().request("db:worker:get",t.uid),o=new(n(530))({model:i}),e.layout.showChildView("content",o)}.bind(null,n)).catch(n.oe)}},{key:"viewCalendar",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(114),n.e(51)]).then(function(){var t;return t=new(0,n(532).default),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"viewWorkers",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(53).then(function(){var t,o,r;return t=e.getChannel().request("db:worker:collection"),r=new(0,n(542).default)({collection:t}),e.layout.showChildView("content",r),(o=t.fetch()).done(function(){return console.log("workers fetched")}),o.fail(function(){return i.request("danger",o.responseJSON.message)})}.bind(null,n)).catch(n.oe)}},{key:"viewPotentialWorkers",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(54).then(function(){var t,o,r;return t=e.getChannel().request("get-potential-workers"),r=new(0,n(543).default)({collection:t}),(o=t.fetch()).done(function(){return console.log("pworkers fetched",t)}),o.fail(function(){return console.log("pworkers.fetch() failed",o),i.request("danger",o.responseJSON.message)}),e.layout.showChildView("content",r)}.bind(null,n)).catch(n.oe)}}]),t}();return e.prototype.channelName="hourly",e.prototype.layoutClass=c.ToolbarAppletLayout,e}.call(void 0),t.default=o},function(e,t,n){"use strict";var o,r,i,u,a,l,c,s,f,p,d,h,y=_(n(0)),v=_(n(1)),b=(_(n(2)),_(n(112)));function _(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}u=v.default.Radio.channel("global"),o=v.default.Radio.channel("hourly"),p="/api/dev/hourly",i=u.request("main:app:AuthModel"),r=u.request("main:app:AuthCollection"),h={channelName:"hourly"},s=function(){var e=function(e){function t(){return w(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,i),t}();return e.prototype.urlRoot="/api/dev/hourly/crud/workers",e}.call(void 0),f=function(){var e=function(e){function t(){return w(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,r),t}();return e.prototype.model=s,e.prototype.url="/api/dev/hourly/crud/workers",e}.call(void 0),new b.default(y.default.extend(h,{modelName:"worker",modelClass:s,collectionClass:f})),l=function(){var e=function(e){function t(){return w(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,i),t}();return e.prototype.urlRoot="/api/dev/hourly/crud/worksessions",e}.call(void 0),c=function(){var e=function(e){function t(){return w(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,r),t}();return e.prototype.model=l,e.prototype.url="/api/dev/hourly/crud/worksessions",e}.call(void 0),new b.default(y.default.extend(h,{modelName:"worksession",modelClass:l,collectionClass:c})),a=function(){var e=function(e){function t(){return w(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,r),t}();return e.prototype.url=p+"/potential-workers",e}.call(void 0),o.reply("get-potential-workers",function(){return new a}),d=void 0,o.reply("maincalendar:set-date",function(){var e;e=$("#maincalendar"),d=e.fullCalendar("getDate")}),o.reply("maincalendar:get-date",function(){return d})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=d(n(4)),i=(d(n(2)),d(n(18))),u=d(n(91));n(129);var a,l,c,s,f,p=d(n(385));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Backbone.Radio.channel("global"),a=Backbone.Radio.channel("hubby"),s=[{label:"Main",url:"#hubby"},{label:"list",url:"#hubby/listmeetings"},{label:"People",url:"#hubby/people"},{label:"Departments",url:"#hubby/departments"},{label:"search",url:"#hubby/search"}],c=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,i.default),t}();return e.prototype.appRoutes={hubby:"mainview","hubby/listmeetings":"list_meetings","hubby/viewmeeting/:id":"view_meeting","hubby/oldviewmeeting/:id":"viewMeetingOld","hubby/search":"view_items","hubby/pdfview":"viewPdfTest","hubby/people":"listPeople"},e}.call(void 0),l=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,u.default),o(t,[{key:"onBeforeStart",value:function(e){var n;return function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onBeforeStart",this).call(this,e),n=this.router.controller,a.reply("main-controller",function(){return n}),a.reply("view-calendar",function(e,t){return n.show_calendar(e,t)}),a.reply("view-meeting-orig",function(e,t,o){return n.show_meeting(e,t,o)}),a.reply("view-meeting",function(e){return n.show_meeting(e.layout,e.region,e.id)}),a.reply("view-items",function(e,t,o){return n.list_items(e,t,o)})}}]),t}();return e.prototype.Controller=p.default,e.prototype.Router=c,e.prototype.appletEntries=[{label:"Hubby Menu",menu:s}],e}.call(void 0),f=void 0,a.reply("maincalendar:set-date",function(){var e;return e=(0,r.default)("#maincalendar"),f=e.fullCalendar("getDate")}),a.reply("maincalendar:get-date",function(){return f}),t.default=l},,,function(e,t,n){"use strict";var o,r,i,u,a,l,c,s,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r=n(1),a=n(2),s=n(3),n(7),u=n(34).MainController,n(35).ToolbarAppletLayout,c=n(5).default,r.Radio.channel("global"),l=r.Radio.channel("messages"),o=r.Radio.channel("hubby"),function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,a.View),f(t,[{key:"show_calendar",value:function(){return"#hubby","#hubby"===window.location.hash?o.request("main-controller").mainview():c("#hubby")}},{key:"list_meetings",value:function(){return c("#hubby/listmeetings")}},{key:"search_hubby",value:function(){var e,t;return e=o.request("main-controller"),t={searchParams:{title:this.ui.search_entry.val()}},console.log("search for",t),e.view_items(t)}}]),t}();return e.prototype.template=s.renderable(function(){return s.div(".btn-group.btn-group-justified",function(){return s.div("#show-calendar-button.btn.btn-default",function(){return s.i(".fa.fa-calendar"," Calendar")}),s.div("#list-meetings-button.btn.btn-default",function(){return s.i(".fa.fa-list"," List Meetings")})}),s.div(".input-group",function(){return s.input(".form-control",{type:"text",placeholder:"search",name:"search"}),s.span(".input-group-btn",function(){return s.button("#search-button.btn.btn-default",function(){return s.i(".fa.fa-search","Search")})})})}),e.prototype.ui={search_bth:"#search-button",show_cal_btn:"#show-calendar-button",list_btn:"#list-meetings-button",search_entry:".form-control"},e.prototype.events={"click @ui.show_cal_btn":"show_calendar","click @ui.list_btn":"list_meetings","click @ui.search_bth":"search_hubby"},e}.call(void 0),i=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,u),f(t,[{key:"show_calendar",value:function(e,t){return Promise.all([n.e(3),n.e(60)]).then(function(){var o,r,i;return o=n(544),r={},"minicalendar"===t&&(r.minicalendar=!0,r.layout=e),i=new o(r),e.showChildView(t,i)}.bind(null,n)).catch(n.oe)}},{key:"mainview",value:function(){return this.setupLayoutIfNeeded(),this.show_calendar(this.layout,"content"),this.scrollTop()}},{key:"list_meetings",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(55).then(function(){var t,r,i;return n(129).MainMeetingModel,r=o.request("meetinglist"),t=n(546),(i=r.fetch()).done(function(){var n;return n=new t({collection:r}),e.layout.showChildView("content",n)}),i.fail(function(){return l.request("danger","Failed to load meeting list")})}.bind(null,n)).catch(n.oe)}},{key:"listPeople",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(121).then(function(){var t,r,i;return t=n(547),(i=(r=o.request("personlist")).fetch()).done(function(){var n;return n=new t({collection:r}),e.layout.showChildView("content",n)}),i.fail(function(){return l.request("danger","Failed to load people.")})}.bind(null,n)).catch(n.oe)}},{key:"_loadRegionView",value:function(e,t,n,o){var r,i=this;return(r=o.fetch()).done(function(){var r;return r=new n({model:o}),e.showChildView(t,r),i.scrollTop()}),r.fail(function(){return l.request("danger","failed to load model")})}},{key:"show_meeting",value:function(e,t,o){var r=this;return Promise.all([n.e(2),n.e(22),n.e(56)]).then(function(){var i,u,a;return i=n(129).MainMeetingModel,u=n(548),a=new i({id:o}),r._loadRegionView(e,t,u,a)}.bind(null,n)).catch(n.oe)}},{key:"viewMeetingOld",value:function(e){var t=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(2),n.e(57)]).then(function(){var o,r,i;return o=n(129).MainMeetingModel,r=n(567),i=new o({id:e}),t._loadRegionView(t.layout,"content",r,i)}.bind(null,n)).catch(n.oe)}},{key:"view_meeting",value:function(e){return this.setupLayoutIfNeeded(),this.show_meeting(this.layout,"content",e)}},{key:"view_items",value:function(e){return this.setupLayoutIfNeeded(),this.list_items(this.layout,"content",e)}},{key:"list_items",value:function(e,t,o){return n.e(59).then(function(){var r,i,u,a=this;return r=n(129).ItemCollection,i=n(568),(u=new r([])).searchParams=o.searchParams,console.log("ItemCollection",u),u.fetch().done(function(){var n;return n=new i({collection:u}),e.showChildView(t,n),a.scrollTop()})}.bind(null,n)).catch(n.oe)}},{key:"viewPdfTest",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(22),n.e(58)]).then(function(){var t,o;return t=new r.Model({url:"/assets/Minutes.pdf"}),o=new(n(196))({model:t}),console.log("THIS IS",e),e.layout.showChildView("content",o),e.scrollTop()}.bind(null,n)).catch(n.oe)}}]),t}(),e.exports=i},,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l=p(n(1)),c=(p(n(2)),p(n(91))),s=p(n(16)),f=p(n(395));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(397),i=l.default.Radio.channel("global"),l.default.Radio.channel("msleg"),o=i.request("main:app:IndexRouter"),a=[{label:"List House Members",url:"#msleg",icon:".fa.fa-list"},{label:"Calendar",url:"#msleg/calendar",icon:".fa.fa-calendar"}],u=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,o),t}();return e.prototype.channelName="msleg",e.prototype.appRoutes={msleg:"viewIndex"},e}.call(void 0),r=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,c.default),t}();return e.prototype.Controller=f.default,e.prototype.Router=u,e.prototype.appletEntries=[{label:(0,s.default)("msleg")+" Menu",menu:a}],e}.call(void 0),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=s(n(1)),l=(s(n(2)),s(n(3)),s(n(7)),s(n(90)),n(34)),c=n(35);s(n(5)),s(n(36));function s(e){return e&&e.__esModule?e:{default:e}}a.default.Radio.channel("global"),a.default.Radio.channel("messages"),a.default.Radio.channel("resources"),o=a.default.Radio.channel("msleg"),i=n(396).production,o.reply("get-msleg-config",function(){return i}),r=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.MainController),u(t,[{key:"viewIndex",value:function(){var e=this;return this.setupLayoutIfNeeded(),0,n.e(65).then(function(){var t;return t=new(n(589)),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}}]),t}();return e.prototype.layoutClass=c.ToolbarAppletLayout,e}.call(void 0),t.default=r},function(e,t,n){"use strict";var o,r;o="http://billstatus.ls.state.ms.us",r="//cors-anywhere.herokuapp.com",e.exports={production:{allmsrs:r+"/"+o+"/2017/pdf/all_measures/allmsrs.xml",hr_membs:r+"/"+o+"/members/hr_membs.xml"},developmentNew:{allmsrs:r+"/"+o+"/2017/pdf/all_measures/allmsrs.xml",hr_membs:r+"/"+o+"/members/hr_membs.xml"},development:{allmsrs:"/assets/allmsrs.xml",hr_membs:"/assets/hr_membs.xml"}}},function(e,t,n){"use strict";var o,r,i,u,a,l,c,s,f,p,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),h=b(n(1)),y=n(123),v=b(n(38));function b(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a=h.default.Radio.channel("global"),r=h.default.Radio.channel("msleg"),s=a.request("main:app:dbConn","msleg"),l=new y.LoveStore(s,"XMLObject"),p=["url","content"],i=function(){var e=function(e){function t(){return _(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,h.default.Model),d(t,[{key:"toJSON",value:function(){var e,t=this;return e={},p.forEach(function(n){return e[n]=t.get(n)}),e}}]),t}();return e.prototype.loveStore=l,e.prototype.idAttribute="url",e}.call(void 0),u=function(){var e=function(e){function t(){return _(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,v.default),t}();return e.prototype.loveStore=l,e.prototype.mode="client",e}.call(void 0),o=function(){var e=function(e){function t(){return _(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,h.default.Collection),t}();return e.prototype.loveStore=l,e.prototype.model=i,e}.call(void 0),c=new o,f=new u,r.reply("get-all-local-xmlobjects",function(){return c}),r.reply("get-local-xmlobjects",function(){return f}),r.reply("get-local-xmlobject-model",function(){return i}),r.reply("get-local-xmlobject-collection",function(){return u}),r.reply("save-local-xmlObject",function(e){var t,n;return t=new i({url:e.url,content:e}),n=!0,t.isNew=function(){return!!n&&(n=!1,!0)},local_shows.add(t),t.save()})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=p(n(1)),r=(p(n(2)),p(n(91))),i=p(n(16));n(399);var u,a,l,c,s,f=p(n(400));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}console.log("dbchannel imported"),l=o.default.Radio.channel("global"),o.default.Radio.channel("muppy"),u=l.request("main:app:IndexRouter"),s=[{label:"Muppy Home",url:"#muppy",icon:".fa.fa-home"},{label:"List",url:"#muppy/summaries",icon:".fa.fa-list"},{label:"Calendar",url:"#muppy/calendar",icon:".fa.fa-calendar"}],c=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,u),t}();return e.prototype.channelName="muppy",e.prototype.appRoutes={muppy:"viewIndex","muppy/summaries":"listSummaries","muppy/summary/view/:id":"viewSummary"},e}.call(void 0),a=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,r.default),t}();return e.prototype.Controller=f.default,e.prototype.Router=c,e.prototype.appletEntries=[{label:(0,i.default)("muppy")+" Menu",menu:s}],e}.call(void 0),t.default=a},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u,a,l,c,s,f,p,d,h,y,v;y=n(0),l=n(1),n(118),c=n(112).default,s=l.Radio.channel("global"),l.Radio.channel("muppy"),a=s.request("main:app:AuthModel"),u=s.request("main:app:AuthCollection"),v={channelName:"muppy"},f=function(){var e=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,a),t}();return e.prototype.urlRoot="/api/dev/memleak/summary",e}.call(void 0),p=function(){var e=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,u),t}();return e.prototype.url="/api/dev/memleak/summary",e.prototype.model=f,e}.call(void 0),new c(y.extend(v,{modelName:"summary",modelClass:f,collectionClass:p})),h=function(){var e=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,a),t}();return e.prototype.urlRoot="/api/dev/memdiff",e}.call(void 0),d=function(){var e=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,u),t}();return e.prototype.model=h,e.prototype.url="/api/dev/memdiff",e}.call(void 0),new c(y.extend(v,{modelName:"sumdiff",modelClass:h,collectionClass:d}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=c(n(1)),a=(c(n(2)),c(n(3)),c(n(7)),c(n(90)),n(34)),l=n(35);c(n(5)),c(n(36));function c(e){return e&&e.__esModule?e:{default:e}}u.default.Radio.channel("global"),u.default.Radio.channel("messages"),o=u.default.Radio.channel("muppy"),r=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.MainController),i(t,[{key:"viewIndex",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(66).then(function(){var t;return t=new(0,n(593).default),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"viewSummary",value:function(e){var t=this;return this.setupLayoutIfNeeded(),n.e(68).then(function(){var r,i;return r=n(595),(i=o.request("db:summary:get",e)).fetch().done(function(){var e;return e=new r({model:i}),t.layout.showChildView("content",e),console.log("SUMMARY",i)})}.bind(null,n)).catch(n.oe)}},{key:"listSummaries",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(67).then(function(){var t,r;return t=n(596),(r=o.request("db:summary:collection")).fetch().done(function(){var n;return n=new t({collection:r}),e.layout.showChildView("content",n)})}.bind(null,n)).catch(n.oe)}}]),t}();return e.prototype.layoutClass=l.ToolbarAppletLayout,e}.call(void 0),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=p(n(1)),r=(p(n(2)),p(n(91))),i=p(n(16));n(402);var u,a,l,c,s,f=p(n(403));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}l=o.default.Radio.channel("global"),o.default.Radio.channel("netark"),u=l.request("main:app:IndexRouter"),s=[{label:"List",url:"#netark",icon:".fa.fa-list"},{label:"SciFi Movies",url:"#netark/scifi/list",icon:".fa.fa-film"},{label:"Search",url:"#netark/search",icon:".fa.fa-search"}],c=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,u),t}();return e.prototype.channelName="netark",e.prototype.appRoutes={netark:"viewIndex","netark/otrr/list":"listOtrr","netark/librivox/list":"listLibrivox","netark/scifi/list":"listSciFiMovies","netark/misc/list":"listMiscStuff","netark/view/:id":"viewMetadata","netark/search":"searchView"},e}.call(void 0),a=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,r.default),t}();return e.prototype.Controller=f.default,e.prototype.Router=c,e.prototype.appletEntries=[{label:(0,i.default)("netark")+" Menu",menu:s}],e}.call(void 0),t.default=a},function(e,t,n){"use strict";var o,r,i,u,a,l,c,s,f,p=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(4),r=n(1),a=n(38),i=r.Radio.channel("global"),o=r.Radio.channel("netark"),i.request("main:app:AuthModel"),i.request("main:app:AuthCollection"),s=function(e,t){var n,o;return o=t.server,n=t.dir,"/api/dev/proxy/","/api/dev/proxy/"+btoa("https://"+o+n+"/"+e)},f=function(e,t){return"//"+t.server+t.dir+"/"+e},u=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,r.Model),d(t,[{key:"fileUrl",value:function(e){return s(e,this.toJSON())}}]),t}();return e.prototype.urlRoot="https://archive.org/metadata",e}.call(void 0),o.reply("get-file-url",function(e,t){return s(e,t)}),o.reply("get-image-url",function(e,t){return f(e,t)}),o.reply("get-metadata-model",function(){return u}),l=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,a),d(t,[{key:"parse",value:function(e){return console.log("PARSE",e),null===this.state.totalRecords&&(this.state.totalRecords=e.total,this._checkState(this.state)),console.log("totalRecords",this.state.totalRecords),p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"parse",this).call(this,e.items)}}]),t}();return e.prototype.mode="server",e.prototype.url="/api/dev/proxy/https://archive.org/services/search/v1/scrape",e.prototype.state={pageSize:100},e.prototype.queryParams={pageSize:"count"},e}.call(void 0),o.reply("Scraper",function(){return l}),c=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,a),d(t,[{key:"parse",value:function(e){return console.log("PARSE",e),null===this.state.totalRecords&&(this.state.totalRecords=e.response.numFound,this._checkState(this.state)),console.log("totalRecords",this.state.totalRecords),p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"parse",this).call(this,e.response.docs)}}]),t}();return e.prototype.mode="server",e.prototype.url="/api/dev/proxy/https://archive.org/advancedsearch.php",e.prototype.state={pageSize:20,firstPage:1},e.prototype.queryParams={pageSize:"rows",output:"json",q:function(){return this.query}},e}.call(void 0),o.reply("SearchResults",function(){return c}),e.exports={TodoCollection:u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=c(n(1)),a=(c(n(2)),c(n(3)),c(n(7)),c(n(90)),n(34)),l=n(35);c(n(5)),c(n(36));function c(e){return e&&e.__esModule?e:{default:e}}u.default.Radio.channel("global"),u.default.Radio.channel("messages"),u.default.Radio.channel("resources"),o=u.default.Radio.channel("netark"),r=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.MainController),i(t,[{key:"viewIndex",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(70).then(function(){var t;return t=new(n(597)),e.layout.showChildView("content",t),e.scrollTop()}.bind(null,n)).catch(n.oe)}},{key:"listOtrr",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(73).then(function(){var t;return t=new(n(600)),e.layout.showChildView("content",t),e.scrollTop()}.bind(null,n)).catch(n.oe)}},{key:"listLibrivox",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(73).then(function(){var t;return t=new(n(604)),e.layout.showChildView("content",t),e.scrollTop()}.bind(null,n)).catch(n.oe)}},{key:"listSciFiMovies",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(74).then(function(){var t;return t=new(n(605)),e.layout.showChildView("content",t),e.scrollTop()}.bind(null,n)).catch(n.oe)}},{key:"listMiscStuff",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(72).then(function(){var t;return t=new(n(611)),e.layout.showChildView("content",t),e.scrollTop()}.bind(null,n)).catch(n.oe)}},{key:"searchView",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(69).then(function(){var t;return t=new(n(613)),e.layout.showChildView("content",t),e.scrollTop()}.bind(null,n)).catch(n.oe)}},{key:"viewMetadata",value:function(e){var t,r=this;return this.setupLayoutIfNeeded(),t=o.request("get-metadata-model"),n.e(71).then(function(){var o,i;return o=n(614),i=new t({id:e}),console.log("model---",i),i.fetch().done(function(){var e;return console.log("MODEL----------\x3e",i),e=new o({model:i}),r.layout.showChildView("content",e),r.scrollTop()})}.bind(null,n)).catch(n.oe)}}]),t}();return e.prototype.layoutClass=l.ToolbarAppletLayout,e}.call(void 0),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=f(n(1)),r=(f(n(2)),f(n(91)));n(173),n(406);var i,u,a,l,c=f(n(417)),s=f(n(418));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a=o.default.Radio.channel("global"),o.default.Radio.channel("resources"),i=a.request("main:app:IndexRouter"),l=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,i),t}();return e.prototype.channelName="sofi",e.prototype.appRoutes={sofi:"main_view","sofi/comics":"dbcomics_main","sofi/comics/local":"view_local_comics","sofi/comics/photos/:comic_id":"manageComicPhotos","sofi/comics/workspace":"showWorkspaceMainView","sofi/comics/workspace/view/:name":"showWorkspaceView","sofi/comics/workspace/create/:name":"createWorkspaceView","sofi/comics/workspace/add/:name":"createWorkspaceView","sofi/xml/upload":"upload_xml","sofi/csv/create":"create_csv","sofi/csv/preview":"preview_csv","sofi/clzpage":"view_cached_comics","sofi/comics/set-photo-names":"setPhotoNames"},e}.call(void 0),u=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,r.default),t}();return e.prototype.appletName="sofi",e.prototype.channelName="sofi",e.prototype.Controller=s.default,e.prototype.Router=l,e.prototype.extraRouters={cfg:n(420),dsc:n(422)},e.prototype.appletEntries=c.default,e}.call(void 0),t.default=u},,function(e,t,n){"use strict";var o;o=n(1),n(407),n(416),o.Radio.channel("sofi").reply("fix-image-url",function(e){return e.indexOf("/lg/")&&(e=e.replace("/lg/","/sm/")),e.startsWith("http://")&&(e=e.replace("http://","//")),e})},function(e,t,n){"use strict";var o,r,i,u,a,l,c,s,f,p,d;r=n(1),n(113),n(7),n(92),n(117),n(32),n(16),n(408),p=n(409),f=n(410),s=n(411),l=n(412),c=n(414),d=n(415),r.Radio.channel("messages"),o=r.Radio.channel("sofi"),a=o.request("grouped-csv-fields"),i=function(e){var t,n;return n={},t=e.cfg.get("content"),n.action=e.action,a.ReqFieldNames.forEach(function(e){return n[e]=t[e]}),a.OptFieldNames.forEach(function(e){return n[e]=t[e]}),a.EbayFields.forEach(function(e){return n[e]=""}),n},u=function(e){var t,n,o,r,u;return"string"==typeof(t=(n=e.comic).content)&&(t=JSON.parse(t)),e.clzcomic=t,o={},n.photos.forEach(function(e){return o[e.name]=e.filename}),console.log("PHOTOS",o,n),e.photos=o,e.cfg.get("content"),(u=i(e)).quantity!==t.quantity&&(u.quantity=t.quantity),p(u,e),f(u,e),s(u,e),l(u,e),c(u,e),(null!=(r=n.mainsection)?r.plot:void 0)&&(n.mainsection.plot=n.mainsection.plot.split("<br>").join("\n"),n.mainsection.plot=n.mainsection.plot.split("<BR>").join("\n")),d(u,e),u},o.reply("create-csv-row-object",function(e){return u(e)}),e.exports={}},function(e,t,n){"use strict";var o,r,i,u,a,l,c=f(n(1)),s=(f(n(113)),f(n(7)),f(n(92)),f(n(117)),f(n(32)),f(n(16)));function f(e){return e&&e.__esModule?e:{default:e}}c.default.Radio.channel("messages"),o=c.default.Radio.channel("sofi"),i=["Title","PicURL","Description","Product:EAN","Product:UPC","Product:ISBN","*Category"],a=["format","location","returnsacceptedoption","duration","quantity","startprice","dispatchtimemax","conditionid"],o.reply("csv-req-fieldnames",function(){return a}),u=["postalcode","paymentprofilename","returnprofilename","shippingprofilename","scheduletime"],o.reply("csv-opt-fieldnames",function(){return u}),l=function(){var e,t,n,o,r,l,c,f;for(t={action:"*Action"},n=0,l=a.length;n<l;n++)t[e=a[n]]="*"+(0,s.default)(e);for(o=0,c=u.length;o<c;o++)t[e=u[o]]=e;for(r=0,f=i.length;r<f;r++)t[e=i[r]]=e;return t},o.reply("create-csv-header",function(){return create-csv-header()}),r=l(),o.reply("get-csv-header",function(){return r}),o.reply("grouped-csv-fields",function(){return{ReqFieldNames:a,OptFieldNames:u,EbayFields:i}})},function(e,t,n){"use strict";var o;o=function(e,t){var n,o;if(null!=(n=t.clzcomic)?n.currentprice:void 0){for(o=n.currentprice;o.startsWith("$");)o=o.substring(1,o.length);return e.startprice=o}},e.exports=o},function(e,t,n){"use strict";var o,r,i;r=n(7),o=n(92),i=function(e,t){var n,i,u;return(u=r(e.scheduletime))?(i=(new Date).valueOf()+u,n=new Date(i),"yyyy-mm-dd HH:MM:ss",e.scheduletime=o(n,"yyyy-mm-dd HH:MM:ss")):e.scheduletime=""},e.exports=i},function(e,t,n){"use strict";var o;o=function(e,t){var n,o;if(null!=(n=t.comic)?n.isbn:void 0)return 14===(o=n.isbn).length&&(o=o.substring(0,o.length-2)),13===o.length&&(o=o.substring(1,o.length)),e["Product:UPC"]=o},e.exports=o},function(e,t,n){"use strict";var o,r,i,u;r=n(1),n(173),n(413),i=r.Radio.channel("messages"),o=r.Radio.channel("sofi"),u=function(e,t){var n,r,u,a,l,c,s,f,p,d,h,y,v,b;for(r=t.clzcomic,c=o.request("get-superheroes-model").get("rows"),(b=null!=(y=r.publicationdate)?y.year:void 0)||(b=r.releasedate.year,console.warn("Using releasedate")),b||(console.warn("Bad date for comic",r),i.request("danger","Bad Date for comic "+r.id)),b=parseInt(b.displayname),v=r.mainsection.series.displayname.toLowerCase(),n=o.request("find-age",b),h=void 0,l={},p=0,d=(f=o.request("get-heroes-by-age",b,c)).length;p<d;p++)(s=f[p]).superhero.startsWith("Other ")&&(h=s),l[s.superhero.toLowerCase()]=s;for(a in null==h&&i.request("danger","No category found for "+n),u=h,l)if(v.indexOf(a)>=0){u=l[a];break}return e["*Category"]=u.id},e.exports=u},function(e,t,n){"use strict";var o,r,i,u,a;(r=n(1)).Radio.channel("messages"),o=r.Radio.channel("sofi"),i={platinum:{start:1897,end:1937},golden:{start:1938,end:1955},silver:{start:1956,end:1969},bronze:{start:1970,end:1983},copper:{start:1984,end:1991},modern:{start:1992,end:2100}},u=function(e){var t,n;for(n in i)if(e>=(t=i[n]).start&&e<=t.end)return n;return!1},o.reply("get-comic-ages",function(){return i}),o.reply("find-age",function(e){return u(e)}),a=function(e,t){var n,o;return n=u(e),o=[],t.forEach(function(e){if(e.age===n)return o.push(e)}),o},o.reply("get-heroes-by-age",function(e,t){return a(e,t)}),e.exports={}},function(e,t,n){"use strict";var o,r;o=n(1),n(173),o.Radio.channel("messages"),o.Radio.channel("sofi"),r=function(e,t){var n;return n=t.comic,e.PicURL=n.image_src},e.exports=r},function(e,t,n){"use strict";var o,r,i,u,a,l=[].indexOf;o=n(1),i=n(117),u=n(32),r=o.Radio.channel("messages"),o.Radio.channel("sofi"),a=function(e,t){var n,o,a,c,s,f;return n=t.comic,t.clzcomic,n.photos,a=t.desc,(f=i.compile(a.get("title"))(t)).length>80&&(c="Title too long.\n",s=f.substring(0,79),c=c+(f+" ----\x3e ")+s,r.request("danger",c),f=s),e.Title=f,o=i.compile(a.get("content"))(t),(o=(o=(o=u(o)).split("\r").join("")).split("\n").join("")).length>32700&&(c=o.length+" characters in description",r.request("warning",c)),l.call(o,"\n")>=0&&r.request("danger","newline in description"),e.Description=o},e.exports=a},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u,a,l,c,s,f,p,d;a=n(1),d=n(113),n(7),n(92),n(117),n(32),n(16),c=a.Radio.channel("messages"),u=a.Radio.channel("sofi"),p=new d.Parser({explicitArray:!1,async:!1}),u.reply("get-xmlparser",function(){return p}),s=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,a.Model),t}(),f=function(){var e=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,a.Collection),t}();return e.prototype.model=s,e}.call(void 0),l=new f,u.reply("set-comics",function(e){return l.set(e)}),u.reply("get-comics",function(){return l}),u.reply("parse-all-comics-xml",function(e,t){return p.parseString(e,function(e,n){var o;return(null!=(o=n.comicinfo.comiclist.comic)?o.length:void 0)||(console.warn("Single comic!"),o=[o]),u.request("set-comics",o),t()})}),u.reply("parse-comics-xml",function(e,t){return p.parseString(e,function(e,n){var o,r,i,a,l,s,f,p,d,h;for((null!=(i=n.comicinfo.comiclist.comic)?i.length:void 0)||(i=[i]),a=[],s=[],o=[],l=0,f=i.length;l<f;l++)"For Sale"===(h=(r=i[l]).collectionstatus._)?r.links?a.push(r):o.push(r):"In Collection"===h?s.push(r):(d="Cannot determine comic status of ("+((p=r.mainsection).series.displayname+" #"+p.issue)+")!",c.request("danger",d));return s.length&&(d=s.length+" ignored!!",c.request("warning",d)),a.length||c.request("danger","No comics for sale!"),o.length&&(d="There was some bad xml, skipped "+o.length+" comics.",c.request("danger",d)),u.request("set-comics",a),t()})}),e.exports={}},function(e,t,n){"use strict";var o,r;n(4),o=n(1),n(2),n(3),n(7),n(34).MainController,n(90).default,n(42),n(39),n(5),n(36),o.Radio.channel("global"),o.Radio.channel("messages"),o.Radio.channel("resources"),o.Radio.channel("sofi"),r=[{label:"Sofi Menu",menu:[{id:"main",label:"Main View",url:"#sofi",icon:".fa.fa-eye"},{id:"dbcomics",label:"DbComics",url:"#sofi/comics",icon:".fa.fa-list"},{id:"workspace",label:"Workspace",url:"#sofi/comics/workspace",icon:".fa.fa-dashboard"},{id:"cfglist",label:"Configs",url:"#sofi/cfg/list",icon:".fa.fa-list"},{id:"dsclist",label:"Descriptions",url:"#sofi/dsc/list",icon:".fa.fa-list"},{id:"uploadxml",label:"Upload CLZ/XML",url:"#sofi/xml/upload",icon:".fa.fa-upload"},{id:"mkcsv",label:"Create CSV",url:"#sofi/csv/create",icon:".fa.fa-cubes"},{id:"cached",label:"Cached Images",url:"#sofi/clzpage",icon:".fa.fa-image"},{id:"setPhotoNames",label:"Set Photo Names",url:"#sofi/comics/set-photo-names",icon:".fa.fa-photo"}]}],e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=(f(n(4)),f(n(0))),i=f(n(1)),u=(f(n(2)),f(n(3))),a=(f(n(7)),n(34)),l=f(n(90)),c=(f(n(42)),f(n(39)),n(35)),s=f(n(419));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y,v,b,_,w,m=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")};i.default.Radio.channel("global"),b=i.default.Radio.channel("messages"),i.default.Radio.channel("resources"),y=i.default.Radio.channel("sofi"),w=["id","name"],_=y.request("dbComicColumns"),function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,l.default),t}();return e.prototype.options={entryTemplate:u.default.renderable(function(e){var t;return t={style:"overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"},u.default.span(t,function(){return u.default.i(e.icon),u.default.text(" "),u.default.text(e.label)})})},e}.call(void 0),v=function(){var e=function(e){function t(){p(this,t);var e=d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._show_main_view=e._show_main_view.bind(e),e._show_create_csv_view=e._show_create_csv_view.bind(e),e._show_preview_csv_view=e._show_preview_csv_view.bind(e),e.create_csv=e.create_csv.bind(e),e._showLocalComics=e._showLocalComics.bind(e),e}return h(t,a.MainController),o(t,[{key:"setupLayoutIfNeeded",value:function(){var e;return function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setupLayoutIfNeeded",this).call(this),e=new s.default({collection:y.request("get-toolbar-entries")}),this.layout.showChildView("toolbar",e)}},{key:"_show_main_view",value:function(){var e=this;return m(this,t),Promise.all([n.e(0),n.e(6),n.e(82)]).then(function(){var t;return y.request("get-comics"),t=new(n(615)),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"_show_create_csv_view",value:function(){var e=this;return m(this,t),Promise.all([n.e(0),n.e(6),n.e(81)]).then(function(){var t,o;return t=y.request("get-comics"),o=new(n(620))({collection:t}),e.layout.showChildView("content",o)}.bind(null,n)).catch(n.oe)}},{key:"_show_preview_csv_view",value:function(){var e=this;return m(this,t),Promise.all([n.e(0),n.e(83)]).then(function(){var t,o;return t=y.request("get-comics"),o=new(n(621))({collection:t}),e.layout.showChildView("content",o)}.bind(null,n)).catch(n.oe)}},{key:"_need_comics_view",value:function(e){return y.request("get-comics").length?e():this.navigate_to_url("#sofi/xml/upload")}},{key:"create_csv",value:function(){var e,n,o,i,u=this;return m(this,t),this.setupLayoutIfNeeded(),e=y.request("db:ebcfg:collection"),o=y.request("db:ebdsc:collection"),i={data:{columns:w}},n=r.default.clone(i),e.fetch(i).then(function(){return o.fetch(n).then(function(){return u._show_create_csv_view()})})}},{key:"preview_csv",value:function(){var e,t,n,o=this;if(this.setupLayoutIfNeeded(),console.log("preview_csv"),e=y.request("locals:get","currentCsvCfg"),t=y.request("locals:get","currentCsvDsc"),n=y.request("get-superheroes-model"),void 0!==e)return console.log("fetching cfg",e),e.fetch().then(function(e){return console.log("dsc is",t),console.log("foo is",e),t.fetch().then(function(){return n.fetch().then(function(){return o._show_preview_csv_view()})})});this.navigate_to_url("#sofi")}},{key:"main_view",value:function(){return this.setupLayoutIfNeeded(),this._show_main_view()}},{key:"dbcomics_main",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(0),n.e(2),n.e(4),n.e(86)]).then(function(){var t,o;return(t=y.request("db:clzcomic:collection")).state.sortColumn=["seriesgroup","series","issue"],(o=t.fetch({data:{columns:_}})).done(function(){var o;return o=new(n(622))({collection:t}),e.layout.showChildView("content",o)}),o.fail(function(){return b.request("danger","Failed to get comics.")})}.bind(null,n)).catch(n.oe)}},{key:"_showLocalComics",value:function(){var e=this;return m(this,t),Promise.all([n.e(0),n.e(6)]).then(function(){var t,o;return t=y.request("get-comics"),o=new(n(207))({collection:t}),e.layout.showChildView("content",o)}.bind(null,n)).catch(n.oe)}},{key:"view_local_comics",value:function(){return this.setupLayoutIfNeeded(),this._need_comics_view(this._showLocalComics)}},{key:"upload_xml",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(0),n.e(84)]).then(function(){var t,o;return t=y.request("get-comics"),o=new(n(626))({collection:t}),e.layout.showChildView("content",o)}.bind(null,n)).catch(n.oe)}},{key:"view_cached_comics",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(0),n.e(76)]).then(function(){var t;return t=new(n(627)),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"manageComicPhotos",value:function(e){var t=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(21),n.e(75)]).then(function(){var o;return(o=y.request("db:clzcomic:collection")).fetch({data:{where:{comic_id:e}}}).done(function(){var e;return e=new(n(628))({model:o.pop()}),t.layout.showChildView("content",e)})}.bind(null,n)).catch(n.oe)}},{key:"showWorkspaceMainView",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(0),n.e(2),n.e(4),n.e(88)]).then(function(){var t;return t=new(n(630)),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"showWorkspaceView",value:function(e){var t=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(0),n.e(2),n.e(4),n.e(14),n.e(89)]).then(function(){var o;return o=new(n(631))({workspace:e}),t.layout.showChildView("content",o)}.bind(null,n)).catch(n.oe)}},{key:"createWorkspaceView",value:function(e){var t=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(0),n.e(2),n.e(4),n.e(14),n.e(85)]).then(function(){var o;return o=new(n(634))({workspace:e}),t.layout.showChildView("content",o)}.bind(null,n)).catch(n.oe)}},{key:"setPhotoNames",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(87).then(function(){var t;return t=new(n(635)),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}}]),t}();return e.prototype.layoutClass=c.ToolbarAppletLayout,e}.call(void 0),t.default=v},function(e,t,n){"use strict";var o,r,i,u,a,l,c;n(4),r=n(1),n(2),a=n(3),n(7),n(34).MainController,u=n(90).default,n(42),n(39),n(5),n(36),r.Radio.channel("global"),r.Radio.channel("messages"),r.Radio.channel("resources"),o=r.Radio.channel("sofi"),l=[],c=new r.Collection(l),o.reply("get-toolbar-entries",function(){return c}),i=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),t}();return e.prototype.options={entryTemplate:a.renderable(function(e){var t;return t={style:"overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"},a.span(t,function(){return a.i(e.icon),a.text(" "),a.text(e.label)})})},e}.call(void 0),e.exports=i},function(e,t,n){"use strict";var o,r,i,u,a=l(n(1));l(n(2));function l(e){return e&&e.__esModule?e:{default:e}}r=n(421),u=a.default.Radio.channel("global"),a.default.Radio.channel("messages"),o=u.request("main:app:IndexRouter"),i=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o),t}();return e.prototype.appRoutes={"sofi/cfg":"list_configs","sofi/cfg/list":"list_configs","sofi/cfg/add":"add_new_config","sofi/cfg/view/:name":"view_config","sofi/cfg/edit/:name":"edit_config","sofi/ebcfgs/new":"add_new_config","sofi/ebcfgs/view/:id":"view_config","sofi/ebcfgs/edit/:id":"edit_config"},e}.call(void 0),e.exports={router:i,controller:r}},function(e,t,n){"use strict";var o,r,i,u,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(4),o=n(1),n(2),n(3),n(7),n(34).ExtraController,u=o.Radio.channel("global"),o.Radio.channel("messages"),o.Radio.channel("sofi"),i=u.request("main:app:CrudController"),r=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),a(t,[{key:"initialize",value:function(e){return this.applet=u.request("main:applet:get-applet","sofi"),this.mainController=this.applet.router.controller,this.channel=this.getChannel(),console.log("@channel",this.channel)}},{key:"list_configs",value:function(){var e=this;return n.e(79).then(function(){var t;return t=n(636),e.listItems(t)}.bind(null,n)).catch(n.oe)}},{key:"add_new_config",value:function(){var e=this;return n.e(12).then(function(){var t;return t=n(277).NewFormView,e.addItem(t)}.bind(null,n)).catch(n.oe)}},{key:"view_config",value:function(e){var t=this;return n.e(77).then(function(){var o;return o=n(638),t.viewItem(o,e)}.bind(null,n)).catch(n.oe)}},{key:"edit_config",value:function(e){var t=this;return n.e(12).then(function(){var o;return o=n(277).EditFormView,t.editItem(o,e)}.bind(null,n)).catch(n.oe)}}]),t}();return e.prototype.channelName="sofi",e.prototype.objName="config",e.prototype.modelName="ebcfg",e}.call(void 0),e.exports=r},function(e,t,n){"use strict";var o,r,i,u,a=l(n(1));l(n(2));function l(e){return e&&e.__esModule?e:{default:e}}r=n(423),u=a.default.Radio.channel("global"),a.default.Radio.channel("messages"),o=u.request("main:app:IndexRouter"),i=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o),t}();return e.prototype.appRoutes={"sofi/dsc":"list_descriptions","sofi/dsc/list":"list_descriptions","sofi/dsc/add":"add_new_description","sofi/dsc/view/:name":"view_description","sofi/dsc/edit/:name":"edit_description","sofi/ebdscs/new":"add_new_description","sofi/ebdscs/view/:id":"view_description","sofi/ebdscs/edit/:id":"edit_description"},e}.call(void 0),e.exports={router:i,controller:r}},function(e,t,n){"use strict";var o,r,i,u,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(4),o=n(1),n(2),n(3),n(7),n(34).ExtraController,u=o.Radio.channel("global"),o.Radio.channel("messages"),o.Radio.channel("sofi"),r=u.request("main:app:CrudController"),i=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r),a(t,[{key:"initialize",value:function(e){return this.applet=u.request("main:applet:get-applet","sofi"),this.mainController=this.applet.router.controller,this.channel=this.getChannel()}},{key:"list_descriptions",value:function(){var e=this;return n.e(80).then(function(){var t;return t=n(639),e.listItems(t)}.bind(null,n)).catch(n.oe)}},{key:"add_new_description",value:function(){var e=this;return Promise.all([n.e(1),n.e(5),n.e(13)]).then(function(){var t;return t=n(278).NewFormView,e.addItem(t)}.bind(null,n)).catch(n.oe)}},{key:"view_description",value:function(e){var t=this;return n.e(78).then(function(){var o;return o=n(641),t.viewItem(o,e)}.bind(null,n)).catch(n.oe)}},{key:"edit_description",value:function(e){var t=this;return Promise.all([n.e(1),n.e(5),n.e(13)]).then(function(){var o;return o=n(278).EditFormView,t.editItem(o,e)}.bind(null,n)).catch(n.oe)}}]),t}();return e.prototype.channelName="sofi",e.prototype.objName="description",e.prototype.modelName="ebdsc",e}.call(void 0),e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=p(n(1)),r=(p(n(2)),p(n(91))),i=p(n(16));n(425);var u,a,l,c,s,f=p(n(426));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}l=o.default.Radio.channel("global"),o.default.Radio.channel("messages"),o.default.Radio.channel("sunny"),u=l.request("main:app:IndexRouter"),s=[{label:"List",url:"#sunny/clients",icon:".fa.fa-list"},{label:"New Client",url:"#sunny/clients/new",icon:".fa.fa-list"},{label:"Map View",url:"#sunny/mapview",icon:".fa.fa-globe"}],c=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,u),t}();return e.prototype.channelName="sunny",e.prototype.appRoutes={sunny:"listClients","sunny/clients":"listClients","sunny/clients/new":"newClient","sunny/clients/edit/:id":"editClient","sunny/clients/view/:id":"viewClient","sunny/yards/add/:client_id":"addYard","sunny/yards/view/:id":"viewYard","sunny/yards/routines/:yard_id":"yardRoutines","sunny/mapview":"mapView"},e}.call(void 0),a=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,r.default),t}();return e.prototype.Controller=f.default,e.prototype.Router=c,e.prototype.appletEntries=[{label:(0,i.default)("sunny")+" Menu",menu:s}],e}.call(void 0),t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l,c,s,f,p,d,h,y,v,b,_,w,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),g=P(n(0)),O=P(n(1)),j=(P(n(2)),P(n(112)));function P(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function R(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}c=O.default.Radio.channel("global"),O.default.Radio.channel("sunny"),v="/api/dev/sunny/crud",r=c.request("main:app:AuthModel"),o=c.request("main:app:AuthCollection"),b={},_={channelName:"sunny"},w=v+"/client",i=function(){var e=function(e){function t(){return k(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return R(t,r),t}();return e.prototype.urlRoot=w,e}.call(void 0),u=function(){var e=function(e){function t(){return k(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return R(t,o),t}();return e.prototype.model=i,e.prototype.url=w,e}.call(void 0),b.client=new j.default(g.default.extend(_,{modelName:"client",modelClass:i,collectionClass:u})),w=v+"/yard",s=function(){var e=function(e){function t(){return k(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return R(t,r),t}();return e.prototype.urlRoot=w,e}.call(void 0),y=function(){var e=function(e){function t(){return k(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return R(t,o),t}();return e.prototype.model=s,e.prototype.url=w,e}.call(void 0),b.yard=new j.default(g.default.extend(_,{modelName:"yard",modelClass:s,collectionClass:y})),w=v+"/yardroutine",f=function(){var e=function(e){function t(){return k(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return R(t,r),m(t,[{key:"defaults",value:function(){return{frequency:14,leeway:3,rate:50,active:!0,routine_date:new Date}}}]),t}();return e.prototype.urlRoot=w,e}.call(void 0),h=function(){var e=function(e){function t(){return k(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return R(t,o),t}();return e.prototype.model=f,e.prototype.url=w,e}.call(void 0),b.yardroutine=new j.default(g.default.extend(_,{modelName:"yardroutine",modelClass:f,collectionClass:h})),w=v+"/yardroutinejob",p=function(){var e=function(e){function t(){return k(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return R(t,r),t}();return e.prototype.urlRoot=w,e}.call(void 0),d=function(){var e=function(e){function t(){return k(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return R(t,o),t}();return e.prototype.model=p,e.prototype.url=w,e}.call(void 0),b.yardroutinejob=new j.default(g.default.extend(_,{modelName:"yardroutinejob",modelClass:p,collectionClass:d})),w="/api/dev/sunny/gpslocations",a=function(){var e=function(e){function t(){return k(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return R(t,r),t}();return e.prototype.urlRoot=w,e}.call(void 0),l=function(){var e=function(e){function t(){return k(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return R(t,o),t}();return e.prototype.model=a,e.prototype.url=w,e}.call(void 0),b.location=new j.default(g.default.extend(_,{modelName:"location",modelClass:a,collectionClass:l})),t.default=b},function(e,t,n){"use strict";var o,r,i,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=h(n(1)),l=n(2),c=h(n(3)),s=h(n(7)),f=(h(n(90)),n(34)),p=n(35),d=h(n(39));h(n(5)),h(n(36));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a.default.Radio.channel("global"),i=a.default.Radio.channel("messages"),o=a.default.Radio.channel("sunny"),function(){var e=function(e){function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,l.View),u(t,[{key:"regions",value:function(){var e;return(e=new d.default({el:"#main-content"})).slide_speed=(0,s.default)(".01s"),{content:e}}}]),t}();return e.prototype.template=c.default.renderable(function(){return c.default.div("#main-content.col-sm-12")}),e}.call(void 0),r=function(){var e=function(e){function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,f.MainController),u(t,[{key:"listClients",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(92).then(function(){var t,o,r;return t=n(642),r=new t({collection:e.clients}),(o=e.clients.fetch()).done(function(){return e.layout.showChildView("content",r)}),o.fail(function(){return i.request("danger","Failed to load clients.")})}.bind(null,n)).catch(n.oe)}},{key:"newClient",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(16).then(function(){var t;return t=n(279).NewClientView,e.layout.showChildView("content",new t)}.bind(null,n)).catch(n.oe)}},{key:"addYard",value:function(e){var t=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(3),n.e(15)]).then(function(){var r,i,u;return r=n(280).default,console.log("YardView",r),(i=o.request("db:yard:new")).set("sunnyclient_id",e),u=new r({model:i}),t.layout.showChildView("content",u)}.bind(null,n)).catch(n.oe)}},{key:"viewYard",value:function(e){var t=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(3),n.e(15)]).then(function(){var r,u,a;return r=n(280).default,(u=o.request("db:yard:get",e)).has("sunnyclient")?t._show_edit_client(r,u):((a=u.fetch({data:{include:"*"}})).done(function(){return t._show_edit_client(r,u)}),a.fail(function(){return i.request("danger","Failed to load yard data.")}))}.bind(null,n)).catch(n.oe)}},{key:"yardRoutines",value:function(e){return console.log("yard_routines",e)}},{key:"_show_edit_client",value:function(e,t){var n;return n=new e({model:t}),this.layout.showChildView("content",n)}},{key:"editClient",value:function(e){var t=this;return this.setupLayoutIfNeeded(),n.e(16).then(function(){var r,u,a,l=n(279);return r=l.EditClientView,(u=o.request("db:client:get",e)).has("name")?t._show_edit_client(r,u):((a=u.fetch()).done(function(){return t._show_edit_client(r,u)}),a.fail(function(){return i.request("danger","Failed to load client data.")}))}.bind(null,n)).catch(n.oe)}},{key:"_fetch_yards_and_view_client",value:function(e,t){var n,r,u=this;return(r=(n=o.request("db:yard:collection")).fetch({data:{where:{sunnyclient_id:e.id}}})).done(function(){var o;return o=new t({model:e,collection:n}),window.cview=o,u.layout.showChildView("content",o)}),r.fail(function(){return i.request("danger","Failed to load yards.")})}},{key:"viewClient",value:function(e){var t=this;return this.setupLayoutIfNeeded(),n.e(91).then(function(){var r,u,a;return r=n(646),(u=o.request("db:client:get",e)).has("name")?t._fetch_yards_and_view_client(u,r):((a=u.fetch()).done(function(){return t._fetch_yards_and_view_client(u,r)}),a.fail(function(){return i.request("danger","Failed to load client data.")}))}.bind(null,n)).catch(n.oe)}},{key:"mapView",value:function(){var e=this;return this.setupLayoutIfNeeded(),console.log("layout should be ready"),Promise.all([n.e(7),n.e(90)]).then(function(){var t;return t=new(n(647)),e.layout.showChildView("content",t),console.log("view shown?",t)}.bind(null,n)).catch(n.oe)}}]),t}();return e.prototype.layoutClass=p.ToolbarAppletLayout,e.prototype.clients=o.request("db:client:collection"),e}.call(void 0),e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l=p(n(1)),c=(p(n(2)),p(n(91))),s=p(n(16)),f=p(n(428));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=l.default.Radio.channel("global"),l.default.Radio.channel("taxes"),o=i.request("main:app:IndexRouter"),a=[{label:"Main Tax Page",url:"#taxes",icon:".fa.fa-newspaper-o"}],u=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,o),t}();return e.prototype.channelName="taxes",e.prototype.appRoutes={taxes:"viewIndex","taxes/pages/*name":"viewPage"},e}.call(void 0),r=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,c.default),t}();return e.prototype.Controller=f.default,e.prototype.Router=u,e.prototype.appletEntries=[{label:(0,s.default)("taxes")+" Menu",menu:a}],e}.call(void 0),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=f(n(1)),c=(f(n(2)),f(n(3)),f(n(7)),f(n(90)),n(34)),s=n(35);f(n(5)),f(n(36));function f(e){return e&&e.__esModule?e:{default:e}}var p=n(152);r=p.FrontDoorMainView,i=l.default.Radio.channel("global"),u=l.default.Radio.channel("messages"),l.default.Radio.channel("taxes"),o=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.MainController),a(t,[{key:"viewPage",value:function(e){var t,n,o=this;return console.log("name is",e),this.setupLayoutIfNeeded(),(n=(t=i.request("main:app:get-document",e)).fetch()).done(function(){var e;return e=new r({model:t}),o.layout.showChildView("content",e)}),n.fail(function(){return u.request("warning","failed to get "+e)})}},{key:"viewIndex",value:function(){return this.viewPage("taxes/index")}}]),t}();return e.prototype.layoutClass=s.ToolbarAppletLayout,e}.call(void 0),t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(1)),r=(s(n(2)),s(n(91)));n(430);var i,u,a,l,c=s(n(431));function s(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a=o.default.Radio.channel("global"),o.default.Radio.channel("todos"),i=a.request("main:app:IndexRouter"),l=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,i),t}();return e.prototype.channelName="todos",e.prototype.appRoutes={todos:"list_todos","todos/completed":"list_completed_todos","todos/calendar":"view_calendar","todos/todos/new":"new_todo","todos/todos/edit/:id":"edit_todo","todos/todos/view/:id":"view_todo"},e}.call(void 0),u=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,r.default),t}();return e.prototype.Controller=c.default,e.prototype.Router=l,e.prototype.appletEntries=[{label:"Todos Menu",menu:[{label:"list todos",icon:".fa.fa-list",url:"#todos"},{label:"Calendar",url:"#todos/calendar",icon:".fa.fa-calendar"},{label:"new todo",icon:".fa.fa-plus",url:"#todos/todos/new"}]}],e}.call(void 0),t.default=u},function(e,t,n){"use strict";var o,r,i,u,a,l,c,s,f,p,d,h,y=_(n(0)),v=_(n(1)),b=(_(n(2)),_(n(112)));function _(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}o=n(4),a=v.default.Radio.channel("global"),r=v.default.Radio.channel("todos"),u=a.request("main:app:AuthModel"),i=a.request("main:app:AuthCollection"),h="/api/dev/bapi/todos",p={channelName:"todos"},l=function(){var e=function(e){function t(){return w(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,u),t}();return e.prototype.urlRoot=h,e.prototype.defaults={completed:!1},e}.call(void 0),s=function(){var e=function(e){function t(){return w(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,i),t}();return e.prototype.url=h,e.prototype.model=l,e}.call(void 0),new b.default(y.default.extend(p,{modelName:"todo",modelClass:l,collectionClass:s})),c=function(){var e=function(e){function t(){return w(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,i),t}();return e.prototype.url="/api/dev/basic/todos/create-cal",e.prototype.model=l,e}.call(void 0),d=new c,r.reply("todocal-collection",function(){return d}),f=void 0,r.reply("maincalendar:set-date",function(){var e;e=o("#maincalendar"),f=e.fullCalendar("getDate")}),r.reply("maincalendar:get-date",function(){return f})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=d(n(1)),s=(d(n(2)),d(n(3)),d(n(7)),d(n(90))),f=n(34),p=n(35);d(n(5)),d(n(36));function d(e){return e&&e.__esModule?e:{default:e}}c.default.Radio.channel("global"),i=c.default.Radio.channel("messages"),c.default.Radio.channel("resources"),o=c.default.Radio.channel("todos"),u=[],a=new c.default.Collection(u),o.reply("get-toolbar-entries",function(){return a}),r=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.MainController),l(t,[{key:"setupLayoutIfNeeded",value:function(){var e;return function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setupLayoutIfNeeded",this).call(this),e=new s.default({collection:a}),this.layout.showChildView("toolbar",e)}},{key:"_isModelPresent",value:function(e){return e.isEmpty()||!e.has("created_at")}},{key:"list_certain_todos",value:function(e){var t=this;return this.setupLayoutIfNeeded(),0,n.e(93).then(function(){var e,o,r;return e=n(653).default,r=new e({collection:t.collection}),(o=t.collection.fetch()).done(function(){return console.log(t.collection),t.layout.showChildView("content",r)}),o.fail(function(){return i.request("danger","Failed to load todos.")})}.bind(null,n)).catch(n.oe)}},{key:"list_completed_todos",value:function(){return this.list_certain_todos(!0)}},{key:"list_todos",value:function(){return this.list_certain_todos(!1)}},{key:"new_todo",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(17).then(function(){var t;return t=n(283).NewView,e.layout.showChildView("content",new t)}.bind(null,n)).catch(n.oe)}},{key:"edit_todo",value:function(e){var t=this;return this.setupLayoutIfNeeded(),n.e(17).then(function(){var r,i;return r=n(283).EditView,i=o.request("db:todo:get",e),t._loadView(r,i,"todo")}.bind(null,n)).catch(n.oe)}},{key:"view_todo",value:function(e){var t=this;return this.setupLayoutIfNeeded(),n.e(95).then(function(){var r,i;return r=n(654),(i=o.request("db:todo:get",e)).fetch().done(function(){var e;return e=new r({model:i}),t.layout.showChildView("content",e)})}.bind(null,n)).catch(n.oe)}},{key:"view_calendar",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(3),n.e(94)]).then(function(){var t;return t=n(655),e.layout.showChildView("content",new t)}.bind(null,n)).catch(n.oe)}}]),t}();return e.prototype.layoutClass=p.ToolbarAppletLayout,e.prototype.collection=o.request("db:todo:collection"),e}.call(void 0),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});h(n(4));var o,r,i,u,a,l,c,s=h(n(1)),f=(h(n(2)),h(n(91))),p=h(n(16)),d=h(n(433));h(n(437));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}u=s.default.Radio.channel("global"),o=s.default.Radio.channel("tvmaze"),r=u.request("main:app:IndexRouter"),l=[{label:"List Shows",url:"#tvmaze/shows",icon:".fa.fa-list"},{label:"Search Show",url:"#tvmaze/searchshow",icon:".fa.fa-search"},{label:"Import Sample Data",url:"#tvmaze/import-sample-data",icon:".fa.fa-download"},{label:"Calendar",url:"#tvmaze/calendar",icon:".fa.fa-calendar"}],a=function(){var e=function(e){function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,r),t}();return e.prototype.channelName="tvmaze",e.prototype.appRoutes={tvmaze:"viewIndex","tvmaze/searchshow":"viewSearchShow","tvmaze/shows":"viewShowList","tvmaze/shows/flat":"viewShowListFlat","tvmaze/shows/view/:id":"viewShow","tvmaze/import-sample-data":"importSampleData","tvmaze/calendar":"viewCalendar"},e}.call(void 0),i=function(){var e=function(e){function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,f.default),t}();return e.prototype.Controller=d.default,e.prototype.Router=a,e.prototype.appletEntries=[{label:(0,p.default)("tvmaze")+" Menu",menu:l},{label:"List Shows",url:"#tvmaze/shows"}],e}.call(void 0),c=void 0,o.reply("maincalendar:set-date",function(e){return c=e.fullCalendar("getDate")}),o.reply("maincalendar:get-date",function(){return c}),t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=c(n(1)),a=(c(n(2)),c(n(3)),c(n(7)),c(n(90)),n(34)),l=n(35);c(n(5));function c(e){return e&&e.__esModule?e:{default:e}}n(434),n(36),u.default.Radio.channel("global"),u.default.Radio.channel("messages"),u.default.Radio.channel("resources"),o=u.default.Radio.channel("tvmaze"),r=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.MainController),i(t,[{key:"viewIndex",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(98).then(function(){var t,r,i;return i=o.request("get-local-tvshows"),t=o.request("tv-show-search-collection"),r=n(656),i.fetch().then(function(){var n;return n=new r({collection:new t}),e.layout.showChildView("content",n)})}.bind(null,n)).catch(n.oe)}},{key:"viewShowList",value:function(){return this.viewShowListCards()}},{key:"viewShowListCards",value:function(){var e,t=this;return this.setupLayoutIfNeeded(),e=o.request("get-local-tvshows"),n.e(101).then(function(){var o;return o=n(660),t._loadView(o,e,"tvshow")}.bind(null,n)).catch(n.oe)}},{key:"viewShowListPackery",value:function(){var e,t=this;return this.setupLayoutIfNeeded(),e=o.request("get-local-tvshows"),Promise.all([n.e(0),n.e(118),n.e(104)]).then(function(){var o;return o=n(661),t._loadView(o,e,"tvshow")}.bind(null,n)).catch(n.oe)}},{key:"viewShowListMasonry",value:function(){var e,t=this;return this.setupLayoutIfNeeded(),e=o.request("get-local-tvshows"),Promise.all([n.e(0),n.e(103)]).then(function(){var o;return o=n(666),t._loadView(o,e,"tvshow")}.bind(null,n)).catch(n.oe)}},{key:"viewShowListFlat",value:function(){var e,t=this;return this.setupLayoutIfNeeded(),e=o.request("get-local-tvshows"),window.tvshows=e,n.e(102).then(function(){var o;return o=n(667),e.fetch().done(function(){var n;return n=new o({collection:e}),t.layout.showChildView("content",n)})}.bind(null,n)).catch(n.oe)}},{key:"viewSearchShow",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(100).then(function(){var t;return t=new(n(668)),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"viewShow",value:function(e){var t=this;return this.setupLayoutIfNeeded(),n.e(99).then(function(){var r,i;return r=n(669),i=new(o.request("get-local-tvshow-model"))({id:e}),t._loadView(r,i,"tvshow")}.bind(null,n)).catch(n.oe)}},{key:"importSampleData",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(96).then(function(){var t,r;return r=o.request("get-all-local-tvshows"),o.request("tv-show-search-collection"),t=n(671).default,r.fetch().then(function(){var n;return n=new t,e.layout.showChildView("content",n)})}.bind(null,n)).catch(n.oe)}},{key:"viewCalendar",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(3),n.e(97)]).then(function(){var t,r;return r=o.request("get-local-tvshows"),o.request("tv-show-search-collection"),t=n(673),r.fetch().then(function(){var n;return n=new t,e.layout.showChildView("content",n)})}.bind(null,n)).catch(n.oe)}}]),t}();return e.prototype.layoutClass=l.ToolbarAppletLayout,e}.call(void 0),t.default=r},function(e,t,n){"use strict";var o,r,i,u,a,l,c,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),f=(p(n(4)),p(n(1)));n(123),p(n(38));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(435),n(436),f.default.Radio.channel("global"),o=f.default.Radio.channel("tvmaze"),c="//api.tvmaze.com",l=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,f.default.Model),s(t,[{key:"url",value:function(){var e;return e=this.searchName,c+"/singlesearch/shows?q="+e}}]),t}(),o.reply("single-show-search",function(e){var t;return(t=new l).searchName=e,t}),a=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,f.default.Collection),s(t,[{key:"url",value:function(){return c+"/search/shows"}}]),t}(),o.reply("new-tv-show-search",function(e){return new a(e=e||{})}),o.reply("tv-show-search-collection",function(){return a}),o.reply("search-tv-shows",function(e){return new a}),u=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,f.default.Model),s(t,[{key:"urlRoot",value:function(){return c+"/shows"}}]),t}(),o.reply("get-remote-show",function(e){return new u({id:e})}),r=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,f.default.Model),s(t,[{key:"url",value:function(){return this.get("_links").self.href}}]),t}(),i=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,f.default.Collection),s(t,[{key:"url",value:function(){return c+"/shows/"+this.showId+"/episodes"}}]),t}();return e.prototype.model=r,e}.call(void 0),o.reply("get-remote-episodes",function(e){var t;return(t=new i).showId=e,t})},function(e,t,n){"use strict";var o,r,i,u,a,l,c,s,f,p,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),h=b(n(1)),y=n(123),v=b(n(38));function b(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a=h.default.Radio.channel("global"),r=h.default.Radio.channel("tvmaze"),s=a.request("main:app:dbConn","tvmaze"),l=new y.LoveStore(s,"TVMazeShow"),p=["id","name","url","self","premiered","runtime","network_name","imdb","status","summary","img_med","img_orig","content"],i=function(){var e=function(e){function t(){return _(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,h.default.Model),d(t,[{key:"toJSON",value:function(){var e,t=this;return e={},p.forEach(function(n){return e[n]=t.get(n)}),e}}]),t}();return e.prototype.loveStore=l,e}.call(void 0),u=function(){var e=function(e){function t(){return _(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,v.default),t}();return e.prototype.loveStore=l,e.prototype.model=i,e.prototype.mode="client",e}.call(void 0),o=function(){var e=function(e){function t(){return _(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,h.default.Collection),t}();return e.prototype.loveStore=l,e.prototype.model=i,e}.call(void 0),c=new o,f=new u,r.reply("get-all-local-tvshows",function(){return c}),r.reply("get-local-tvshows",function(){return f}),r.reply("get-local-tvshow-model",function(){return i}),r.reply("get-local-tvshow-collection",function(){return u}),r.reply("save-local-show",function(e){var t,n,o,r,u,a;return t=new i({id:e.id,name:e.name,url:e.url,self:e._links.self.href,premiered:new Date(e.premiered),runtime:(null!=e?e.runtime:void 0)||"",network_name:(null!=e&&null!=(n=e.network)?n.name:void 0)||"NO NETWORK",imdb:(null!=(o=e.externals)?o.imdb:void 0)||"",status:(null!=e?e.status:void 0)||"",summary:(null!=e?e.summary:void 0)||"",img_med:(null!=e&&null!=(r=e.image)?r.medium:void 0)||"",img_orig:(null!=e&&null!=(u=e.image)?u.original:void 0)||"",content:e}),a=!0,t.isNew=function(){return!!a&&(a=!1,!0)},f.add(t),t.save()})},function(e,t,n){"use strict";var o,r,i,u,a,l,c,s,f,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=n(1),h=(o=d)&&o.__esModule?o:{default:o},y=n(123);function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a=h.default.Radio.channel("global"),r=h.default.Radio.channel("tvmaze"),c=a.request("main:app:dbConn","tvmaze"),l=new y.LoveStore(c,"TVMazeEpisode"),s=["id","show_id","name","url","self","season","number","airdate","airtime","runtime","summary","img_med","img_orig","content"],i=function(){var e=function(e){function t(){return v(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _(t,h.default.Model),p(t,[{key:"toJSON",value:function(){var e,t=this;return e={},s.forEach(function(n){return e[n]=t.get(n)}),e}}]),t}();return e.prototype.loveStore=l,e}.call(void 0),u=function(){var e=function(e){function t(){return v(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _(t,h.default.Collection),t}();return e.prototype.loveStore=l,e.prototype.model=i,e}.call(void 0),f=new u,r.reply("get-local-episodes",function(){return f}),r.reply("get-local-episode-model",function(){return i}),r.reply("get-local-episode-collection",function(){return u}),r.reply("save-local-episode",function(e){var t,n,o,r,u,a,l,c,s;return t=new i({id:e.id,show_id:e.show_id,name:e.content.name,url:e.content.url,self:null!=(n=e.content._links)?n.self.href:void 0,season:e.content.season,number:e.content.number,airdate:new Date(e.content.airdate),airtime:e.content.airtime,runtime:(null!=(o=e.content)?o.runtime:void 0)||"",summary:(null!=(r=e.content)?r.summary:void 0)||"",img_med:(null!=(u=e.content)&&null!=(a=u.image)?a.medium:void 0)||"",img_orig:(null!=(l=e.content)&&null!=(c=l.image)?c.original:void 0)||"",content:e.content}),s=!0,t.isNew=function(){return!!s&&(s=!1,!0)},f.add(t),t.save()})},function(e,t,n){e.exports=function(){return new Worker(n.p+"2566da1a0e7e11d18a35.worker.js")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u=f(n(1)),a=(f(n(2)),f(n(18)),f(n(91))),l=f(n(16)),c=f(n(439)),s=f(n(128));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}u.default.Radio.channel("global"),u.default.Radio.channel("useradmin"),i=[{label:"Main",url:"#useradmin",icon:".fa.fa-star"},{label:"Users",url:"#useradmin/user/list",icon:".fa.fa-list"},{label:"Add User",url:"#useradmin/user/add",icon:".fa.fa-plus"},{label:"Groups",url:"#useradmin/group/list",icon:".fa.fa-list"},{label:"Add Group",url:"#useradmin/group/add",icon:".fa.fa-plus"}],r=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,s.default),t}();return e.prototype.channelName="useradmin",e.prototype.appRoutes={useradmin:"viewIndex","useradmin/user/list":"listUsers","useradmin/user/add":"addUser","useradmin/user/view/:id":"viewUser","useradmin/user/edit/:id":"editUser","useradmin/group/list":"listGroups","useradmin/group/add":"viewIndex","useradmin/group/view/:id":"viewIndex","useradmin/group/edit/:id":"editGroup"},e}.call(void 0),o=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,a.default),t}();return e.prototype.Controller=c.default,e.prototype.Router=r,e.prototype.appletEntries=[{label:(0,l.default)("useradmin")+" Menu",menu:i}],e}.call(void 0),t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=s(n(1)),l=(s(n(2)),s(n(3)),s(n(7)),s(n(90)),n(34)),c=n(35);s(n(5)),s(n(36));function s(e){return e&&e.__esModule?e:{default:e}}n(440),r=a.default.Radio.channel("global"),i=a.default.Radio.channel("messages"),a.default.Radio.channel("useradmin"),o=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.MainController),u(t,[{key:"editModel",value:function(e){var t=this;return this.setupLayoutIfNeeded(),n.e(18).then(function(){var o,r,u,a;return o=n(284).BaseEditFormView,r=e.model,a=new o(e),(u=r.fetch()).fail(function(){return i.request("danger","failed to get "+e.modelName)}),u.done(function(){return console.log(e.modelName+" fetched",r),t.layout.showChildView("content",a)})}.bind(null,n)).catch(n.oe)}},{key:"addModel",value:function(e){var t=this;return this.setupLayoutIfNeeded(),n.e(18).then(function(){var o;return o=new(0,n(284).BaseNewFormView)(e),t.layout.showChildView("content",o)}.bind(null,n)).catch(n.oe)}},{key:"viewIndex",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(105).then(function(){var t;return t=new(0,n(674).default),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"listUsers",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(107).then(function(){var t,o,r,u;return o=e.getChannel().request("db:user:collection"),t=n(214).default,u=new t({collection:o}),(r=o.fetch()).fail(function(){return i.request("danger","failed to get users")}),r.done(function(){return console.log("users fetched",o),e.layout.showChildView("content",u)})}.bind(null,n)).catch(n.oe)}},{key:"viewUser",value:function(e){var t=this;return this.setupLayoutIfNeeded(),n.e(109).then(function(){var o,r,u,a;return r=new(t.getChannel().request("db:user:modelClass"))({id:e}),o=n(675).default,a=new o({model:r}),(u=r.fetch()).fail(function(){return i.request("danger","failed to get user")}),u.done(function(){return t.layout.showChildView("content",a)})}.bind(null,n)).catch(n.oe)}},{key:"editUser",value:function(e){var t,n;return n={modelName:"user",fieldList:["username","fullname","email"],entryField:"fullname",model:new(this.getChannel().request("db:user:modelClass"))({id:e})},t=r.request("crud:template:form",n),n.template=t,this.editModel(n)}},{key:"addUser",value:function(){var e,t;return this.getChannel().request("db:user:modelClass"),t={modelName:"user",fieldList:["username","fullname","email"],entryField:"fullname",channelName:this.channelName},e=r.request("crud:template:form",t),t.template=e,this.addModel(t)}},{key:"listGroups",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(106).then(function(){var t,o,r,u;return o=e.getChannel().request("db:group:collection"),t=n(214).default,u=new t({collection:o}),(r=o.fetch()).fail(function(){return i.request("danger","failed to get groups")}),r.done(function(){return console.log("groups fetched",o),e.layout.showChildView("content",u)})}.bind(null,n)).catch(n.oe)}},{key:"editGroup",value:function(e){var t,n;return n={modelName:"group",fieldList:["name"],entryField:"name",model:new(this.getChannel().request("db:group:modelClass"))({id:e})},t=r.request("crud:template:form",n),n.template=t,this.editModel(n)}}]),t}();return e.prototype.channelName="useradmin",e.prototype.layoutClass=c.ToolbarAppletLayout,e}.call(void 0),t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l,c,s,f,p,d,h,y,v,b=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),_=g(n(0)),w=g(n(1)),m=(g(n(2)),g(n(112)));function g(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a=w.default.Radio.channel("global"),w.default.Radio.channel("useradmin"),r=a.request("main:app:AuthModel"),o=a.request("main:app:AuthCollection"),d={channelName:"useradmin"},p={},v="/api/dev/useradmin/crud/users",l=function(){var e=function(e){function t(){return O(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P(t,r),b(t,[{key:"itemLabel",value:function(){return this.get("fullname")+" ("+this.get("username")+")"}},{key:"itemViewUrl",value:function(){return"#useradmin/user/view/"+this.get("id")}},{key:"itemEditUrl",value:function(){return"#useradmin/user/edit/"+this.get("id")}}]),t}();return e.prototype.urlRoot=v,e}.call(void 0),c=function(){var e=function(e){function t(){return O(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P(t,o),t}();return e.prototype.url=v,e.prototype.model=l,e}.call(void 0),p.user=new m.default(_.default.extend(d,{modelName:"user",modelClass:l,collectionClass:c})),h="/api/dev/useradmin/crud/groups",i=function(){var e=function(e){function t(){return O(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P(t,r),b(t,[{key:"itemLabel",value:function(){return this.get("name")}},{key:"itemViewUrl",value:function(){return"#useradmin/group/view/"+this.get("id")}},{key:"itemEditUrl",value:function(){return"#useradmin/group/edit/"+this.get("id")}}]),t}();return e.prototype.urlRoot=h,e}.call(void 0),u=function(){var e=function(e){function t(){return O(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P(t,o),t}();return e.prototype.url=h,e.prototype.model=i,e}.call(void 0),p.group=new m.default(_.default.extend(d,{modelName:"group",modelClass:i,collectionClass:u})),y="/api/dev/useradmin/usergroup",s=function(){var e=function(e){function t(){return O(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P(t,r),b(t,[{key:"url",value:function(){var e,t,n;return n=this.get("user_id"),e=this.get("group_id"),t=y+"/"+e+"/"+n,t}},{key:"itemLabel",value:function(){return this.get("user_id"),this.get("group_id")+", "+user_id}}]),t}();return e.prototype.urlRoot=y,e.prototype.idAttribute="group_id",e}.call(void 0),f=function(){var e=function(e){function t(){return O(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P(t,o),t}();return e.prototype.url=y,e.prototype.model=s,e}.call(void 0),p.usergroup=new m.default(_.default.extend(d,{modelName:"usergroup",modelClass:s,collectionClass:f})),t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0},i=(d(n(2)),d(n(91)));n(442);var u,a,l,c,s,f,p=d(n(444));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}c=Backbone.Radio.channel("global"),u=Backbone.Radio.channel("userprofile"),a=c.request("main:app:IndexRouter"),f=[{label:"Main",url:"#profile"},{label:"Edit Config",url:"#profile/editconfig"},{label:"Change Password",url:"#profile/chpassword"},{label:"View Map",url:"#profile/mapview"}],s=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,a),t}();return e.prototype.channelName="userprofile",e.prototype.appRoutes={profile:"show_profile","profile/editconfig":"editConfig","profile/chpassword":"change_password","profile/mapview":"view_map"},e}.call(void 0),l=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,i.default),o(t,[{key:"onBeforeStart",value:function(){var e=this;return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onBeforeStart",this).call(this,arguments),u.reply("main-controller",function(){return console.warn("Stop using 'main-controller' request on AppChannel"),e.router.controller})}}]),t}();return e.prototype.Controller=p.default,e.prototype.Router=s,e.prototype.appletEntries=[{label:"User Profile",menu:f}],e}.call(void 0),t.default=l},function(e,t,n){"use strict";var o,r,i,u,a,l;o=n(4),n(0),u=n(1),n(2);var c=n(443);c.User,c.CurrentUser,a=u.Radio.channel("global"),u.Radio.channel("messages"),(r=u.Radio.channel("userprofile")).reply("update-user-config",function(){return console.log("update-user-config called")}),i=a.request("main:app:AuthModel"),a.request("main:app:AuthCollection"),l=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),t}();return e.prototype.url="/auth/chpass",e.prototype.validation={password:{required:!0,minLength:8},confirm:function(e){var t;return e===(t=o('input[name="password"]').val())&&o('input[type="submit"]').show(),e!==t}},e}.call(void 0),r.reply("new-password-model",function(){return new l}),e.exports={}},,function(e,t,n){"use strict";var o,r,i,u,a,l,c,s,f,p,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r=n(1),l=n(2),f=n(3),s=n(5).default;var b=n(34);a=b.MainController;var _=n(35);c=_.ToolbarAppletLayout,u=r.Radio.channel("global"),r.Radio.channel("messages"),o=r.Radio.channel("userprofile"),new r.Model({entries:[{name:"Profile",url:"#profile"},{name:"Map",url:"#profile/mapview"},{name:"Settings",url:"#profile/editconfig"},{name:"Change Password",url:"#profile/chpassword"}]}),p=f.renderable(function(e){return f.div(".btn-group.btn-group-justified",function(){var t,n,o,r,i,u;for(u=[],n=0,r=(i=e.entries).length;n<r;n++)t=i[n],o=(null!=t?t.icon:void 0)||"info",u.push(f.div(".toolbar-button.btn.btn-default",{"button-url":t.url},function(){return f.span(".fa.fa-"+o," "+t.name)}));return u})}),function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,l.View),d(t,[{key:"toolbarButtonPressed",value:function(e){var t;return console.log("toolbarButtonPressed",e),t=e.currentTarget.getAttribute("button-url"),s(t)}}]),t}();return e.prototype.template=p,e.prototype.ui={toolbarButton:".toolbar-button"},e.prototype.events={"click @ui.toolbarButton":"toolbarButtonPressed"},e}.call(void 0),i=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,a),d(t,[{key:"show_profile",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(111).then(function(){var t,o,i;return t=n(678),o=u.request("main:app:decode-auth-token"),console.log("TOKEN",o),i=new t({model:new r.Model(o),templateContext:{title:o.fullname,text:o.fullname+" ("+o.name+")"}}),e.layout.showChildView("content",i)}.bind(null,n)).catch(n.oe)}},{key:"view_map",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(7),n.e(20)]).then(function(){var t,o,i;return t=n(285),o=u.request("main:app:decode-auth-token"),i=new t({model:new r.Model(o)}),e.layout.showChildView("content",i)}.bind(null,n)).catch(n.oe)}},{key:"editConfig",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(110).then(function(){var t,o,i;return t=n(681).default,o=u.request("main:app:decode-auth-token"),i=new t({model:new r.Model(o)}),e.layout.showChildView("content",i)}.bind(null,n)).catch(n.oe)}},{key:"change_password",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(24),n.e(19)]).then(function(){var t;return t=new(0,n(286).default)({model:o.request("new-password-model")}),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}}]),t}();return e.prototype.layoutClass=c,e}.call(void 0),e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l=p(n(1)),c=(p(n(2)),p(n(91))),s=p(n(16)),f=p(n(446));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=l.default.Radio.channel("global"),l.default.Radio.channel("usgov"),o=i.request("main:app:IndexRouter"),a=[{button:"#list-button",label:"List",url:"#usgov",icon:".fa.fa-list"},{button:"#calendar-button",label:"Calendar",url:"#usgov/calendar",icon:".fa.fa-calendar"}],u=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,o),t}();return e.prototype.channelName="usgov",e.prototype.appRoutes={usgov:"view_index"},e}.call(void 0),r=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,c.default),t}();return e.prototype.Controller=f.default,e.prototype.Router=u,e.prototype.appletEntries=[{label:(0,s.default)("usgov")+" Menu",menu:a}],e}.call(void 0),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=c(n(1)),a=(c(n(2)),c(n(3)),c(n(7)),c(n(90)),n(34)),l=n(35);function c(e){return e&&e.__esModule?e:{default:e}}n(447),n(5),n(36),u.default.Radio.channel("global"),u.default.Radio.channel("messages"),u.default.Radio.channel("resources"),o=u.default.Radio.channel("usgov"),r=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.MainController),i(t,[{key:"view_index",value:function(){var e=this;return this.setupLayoutIfNeeded(),0,n.e(112).then(function(){var t,r;return t=n(756),(r=o.request("get-roles-collection")).fetch().done(function(){var n;return n=new t({collection:r}),e.layout.showChildView("content",n)})}.bind(null,n)).catch(n.oe)}}]),t}();return e.prototype.layoutClass=l.ToolbarAppletLayout,e}.call(void 0),t.default=r},function(e,t,n){"use strict";var o,r,i,u,a,l,c,s,f,p,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),h=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0},y=(_(n(4)),_(n(1))),v=n(123),b=_(n(38));function _(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}u=y.default.Radio.channel("global"),o=y.default.Radio.channel("usgov"),s=u.request("main:app:dbConn","usgov"),a=new v.LoveStore(s,"Role"),r=function(){var e=function(e){function t(){return w(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,y.default.Model),t}();return e.prototype.loveStore=a,e}.call(void 0),i=function(){var e=function(e){function t(){return w(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,y.default.Collection),t}();return e.prototype.loveStore=a,e.prototype.model=r,e}.call(void 0),f=new i,o.reply("get_local_roles",function(){return f}),o.reply("get-role-model",function(){return r}),o.reply("get-role-collection",function(){return i}),c="https://www.govtrack.us/api/v2",l=function(){var e=function(e){function t(){return w(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,b.default),d(t,[{key:"url",value:function(){return c+"/role?current=true"}},{key:"fetcher",value:function(e){var n;return e=e||{},n=this.state.currentPage*this.state.pageSize,e.offset=n,e.dataType="jsonp",h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fetcher",this).call(this,e)}},{key:"parse",value:function(e){return console.log("parse(response)",e),this.state.pageSize=e.meta.limit,this.state.totalRecords=e.meta.total_count,this.state.totalPages=Math.ceil(this.state.totalRecords/this.state.pageSize),this.state.lastPage=this.state.totalPages-1,h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"parse",this).call(this,e.objects)}}]),t}();return e.prototype.mode="server",e.prototype.full=!0,e.prototype.baseURL=c,e.prototype.state={firstPage:0,pageSize:20},e.prototype.queryParams={pageSize:"limit",offset:function(){return this.state.currentPage*this.state.pageSize},currentPage:"offset"},e}.call(void 0),p=new l,o.reply("get-roles-collection",function(){return p})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=f(n(1)),r=(f(n(2)),f(n(91)));n(449);var i,u,a,l,c,s=f(n(450));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a=o.default.Radio.channel("global"),o.default.Radio.channel("wikipages"),i=a.request("main:app:IndexRouter"),l=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,i),t}();return e.prototype.channelName="wikipages",e.prototype.appRoutes={wikipages:"list_wikipages","wikipages/view/:name":"view_wikipage"},e}.call(void 0),c=[{button:"#list-button",label:"List",url:"#wikipages",icon:".fa.fa-list"}],u=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,r.default),t}();return e.prototype.Controller=s.default,e.prototype.Router=l,e.prototype.appletEntries=[{label:"Wikipages Menu",menu:c}],e}.call(void 0),t.default=u},function(e,t,n){"use strict";var o,r,i,u,a,l,c,s=d(n(0)),f=d(n(1)),p=(d(n(2)),d(n(112)));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=f.default.Radio.channel("global"),f.default.Radio.channel("wikipages"),r=i.request("main:app:AuthModel"),o=i.request("main:app:AuthCollection"),c="/api/dev/bsapi/main/wikipages",l={channelName:"wikipages"},u=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,r),t}();return e.prototype.urlRoot=c,e}.call(void 0),a=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,o),t}();return e.prototype.url=c,e.prototype.model=u,e}.call(void 0),new p.default(s.default.extend(l,{modelName:"wikipage",modelClass:u,collectionClass:a}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=y(n(1)),f=(y(n(2)),y(n(3)),y(n(7)),y(n(90))),p=n(34),d=n(35),h=(y(n(5)),y(n(36)));function y(e){return e&&e.__esModule?e:{default:e}}i=s.default.Radio.channel("global"),u=s.default.Radio.channel("messages"),o=s.default.Radio.channel("wikipages"),a=[],l=new s.default.Collection(a),o.reply("get-toolbar-entries",function(){return l}),r=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p.MainController),c(t,[{key:"setupLayoutIfNeeded",value:function(){var e;return function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setupLayoutIfNeeded",this).call(this),e=new f.default({collection:l}),this.layout.showChildView("toolbar",e)}},{key:"_load_view",value:function(e,t,n){var o,r=this;return t.isEmpty()||!t.has("created_at")?((o=t.fetch()).done(function(){return r._show_view(e,t),(0,h.default)()}),o.fail(function(){var e;return e="Failed to load "+n+" data.",u.request("danger",e)})):this._show_view(e,t)}},{key:"list_wikipages",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(119).then(function(){var t,o,r;return t=n(757).default,r=new t({collection:e.collection}),(o=e.collection.fetch()).done(function(){var t;if(e.layout.showChildView("content",r),!e.collection.length)return u.request("warning","adding initial page"),(t=new(i.request("main:app:AuthModel"))).url="/api/dev/bsapi/main/wikipages/X32_ABI",t.fetch().done(function(){return window.location.hash="#"})}),o.fail(function(){return u.request("danger","Failed to load wikipages.")})}.bind(null,n)).catch(n.oe)}},{key:"view_wikipage",value:function(e){var t=this;return this.setupLayoutIfNeeded(),n.e(120).then(function(){var r,i;return r=n(760),i=o.request("db:wikipage:get",e),console.log("MODEL",i),t._load_view(r,i,"wikipage")}.bind(null,n)).catch(n.oe)}}]),t}();return e.prototype.layoutClass=d.ToolbarAppletLayout,e.prototype.collection=o.request("db:wikipage:collection"),e}.call(void 0),t.default=r}])]);
//# sourceMappingURL=25-0794c6e7d89cd8994292.js.map