(self.webpackJsonp=self.webpackJsonp||[]).push([[13],{798:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditView=t.NewView=void 0;var r,o,i,u,a,l,p,c=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;return void 0!==u?u.call(r):void 0},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(0),d=n(1),v=m(n(6)),y=m(n(58)),_=m(n(60)),b=m(n(57)),h=n(59);function m(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}u=d.Radio.channel("messages"),r=d.Radio.channel("todos"),l=v.default.renderable((function(e){var t,n,r,o;for(n=0,r=(o=["name"]).length;n<r;n++)t=o[n],(0,h.form_group_input_div)({input_id:"input_"+t,label:(0,f.capitalize)(t),input_attributes:{name:t,placeholder:t,value:e[t]}});return t="description",(0,h.form_group_input_div)({input_id:"input_"+t,input_type:"textarea",label:(0,f.capitalize)(t),input_attributes:{name:t,placeholder:t},content:e[t]})})),p=v.default.renderable((function(e){return l(e),v.default.input(".btn.btn-primary",{type:"submit",value:"Submit"}),v.default.div(".spinner.fa.fa-spinner.fa-spin")})),o=function(){var e=function(e){function t(){return w(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,e),s(t,[{key:"ui",value:function(){var e;return e=(0,_.default)(this.fieldList),(0,f.extend)(e,{description:'textarea[name="description"]'}),e}},{key:"updateModel",value:function(){var e,t,n,r,o;for(o=[],t=0,n=(r=this.fieldList.concat(["description"])).length;t<n;t++)e=r[t],console.log("field",e,this.ui[e].val()),o.push(this.model.set(e,this.ui[e].val()));return o}},{key:"onSuccess",value:function(e){var t;return t=e.get("name"),u.request("success",t+" saved successfully.","grain"),(0,b.default)("#todos")}}]),t}(y.default);return e.prototype.template=p,e.prototype.fieldList=["name"],e}.call(void 0),t.NewView=a=function(e){function t(){return w(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,e),s(t,[{key:"createModel",value:function(){var e;return(e=r.request("db:todo:new")).set("completed",!1),e}},{key:"saveModel",value:function(){return r.request("db:todo:collection").add(this.model),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"saveModel",this).apply(this,arguments)}}]),t}(o),t.EditView=i=function(e){function t(){return w(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,e),s(t,[{key:"createModel",value:function(){return this.model}}]),t}(o),t.NewView=a,t.EditView=i}}]);
//# sourceMappingURL=todos-new-todo-b5a0a1eb8b2c27499473.js.map