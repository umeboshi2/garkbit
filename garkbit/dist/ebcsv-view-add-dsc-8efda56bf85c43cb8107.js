(self.webpackJsonp=self.webpackJsonp||[]).push([[9],{215:function(e,t,o){"use strict";var i,n,r,a,s,d,u,l,c,f,p,h,m,b,_=function(e,t,o){return t&&v(e.prototype,t),o&&v(e,o),e};function v(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}f=o(0),n=o(1),a=o(33).default,h=o(37).default,m=o(5).default,u=o(161).default,o(165),o(216),b=o(3);var k=o(31);function O(){return y(this,O),g(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}function M(){return y(this,M),g(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}p=k.make_field_input,k.make_field_select,n.Radio.channel("global"),l=n.Radio.channel("messages"),i=n.Radio.channel("ebcsv"),s=b.renderable(function(e){var t,o,i;for(b.div(".listview-header","Document"),t=0,o=(i=["name","title"]).length;t<o;t++)p(i[t])(e);return b.div("#editor-mode-button.btn.btn-default","Change to handlebars mode"),b.div("#ace-editor",{style:"position:relative;width:100%;height:40em;"}),b.input(".btn.btn-default",{type:"submit",value:"Submit"}),b.div(".spinner.fa.fa-spinner.fa-spin")}),w(O,r=function(){var e=(w(t,a),_(t,[{key:"ui",value:function(){var e,t;return e={editor:"#ace-editor",edit_mode_btn:"#editor-mode-button"},t=h(this.fieldList),f.extend(t,e),t}},{key:"set_edit_mode",value:function(e){return this.editorMode=e,this.editor.getSession().setMode("ace/mode/"+this.editorMode)}},{key:"change_edit_mode",value:function(){var e;return this.ui.edit_mode_btn.text("Change to "+this.editorMode+" mode"),e="markdown"===this.editorMode?"handlebars":"markdown",this.set_edit_mode(e)}},{key:"afterDomRefresh",value:function(){var e;if(this.set_edit_mode(this.editorMode),this.model.has("content"))return e=this.model.get("content"),this.editor.setValue(e)}},{key:"updateModel",value:function(){var e,t,o,i;for(t=0,o=(i=this.fieldList).length;t<o;t++)e=i[t],this.model.set(e,this.ui[e].val());return this.model.set("content",this.editor.getValue())}},{key:"onSuccess",value:function(e){var t;return t=e.get("name"),l.request("success",t+" saved successfully."),m("#ebcsv/descriptions/view/"+e.id)}}]),t);function t(){return y(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.editorMode="markdown",e.prototype.editorContainer="ace-editor",e.prototype.fieldList=["name","title"],e.prototype.template=s,e.prototype.events={"click @ui.edit_mode_btn":"change_edit_mode"},e.prototype.behaviors={HasAceEditor:{behaviorClass:u}},e}.call(void 0)),_(O,[{key:"createModel",value:function(){return new(i.request("get_local_descriptions").model)}}]),c=O,w(M,r),_(M,[{key:"createModel",value:function(){return this.model}}]),d=M,e.exports={NewFormView:c,EditFormView:d}}}]);
//# sourceMappingURL=ebcsv-view-add-dsc-8efda56bf85c43cb8107.js.map