(self.webpackJsonp=self.webpackJsonp||[]).push([[17],{120:function(e,t,i){"use strict";e.exports=function(e,t){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)||t?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},150:function(t,i,r){var n,a,o;
/*!
 * bootstrap-fileinput v4.5.2
 * http://plugins.krajee.com/file-input
 *
 * Author: Kartik Visweswaran
 * Copyright: 2014 - 2018, Kartik Visweswaran, Krajee.com
 *
 * Licensed under the BSD 3-Clause
 * https://github.com/kartik-v/bootstrap-fileinput/blob/master/LICENSE.md
 */
/*!
 * bootstrap-fileinput v4.5.2
 * http://plugins.krajee.com/file-input
 *
 * Author: Kartik Visweswaran
 * Copyright: 2014 - 2018, Kartik Visweswaran, Krajee.com
 *
 * Licensed under the BSD 3-Clause
 * https://github.com/kartik-v/bootstrap-fileinput/blob/master/LICENSE.md
 */
!function(e){"use strict";a=[r(4)],void 0===(o="function"==typeof(n=function(K){var Y,p;K.fn.fileinputLocales={},K.fn.fileinputThemes={},String.prototype.setTokens=function(e){var t,i,r=this.toString();for(t in e)e.hasOwnProperty(t)&&(i=new RegExp("{"+t+"}","g"),r=r.replace(i,e[t]));return r},Y={FRAMES:".kv-preview-thumb",SORT_CSS:"file-sortable",OBJECT_PARAMS:'<param name="controller" value="true" />\n<param name="allowFullScreen" value="true" />\n<param name="allowScriptAccess" value="always" />\n<param name="autoPlay" value="false" />\n<param name="autoStart" value="false" />\n<param name="quality" value="high" />\n',DEFAULT_PREVIEW:'<div class="file-preview-other">\n<span class="{previewFileIconClass}">{previewFileIcon}</span>\n</div>',MODAL_ID:"kvFileinputModal",MODAL_EVENTS:["show","shown","hide","hidden","loaded"],objUrl:window.URL||window.webkitURL,createObjectURL:function(e){return Y.objUrl&&Y.objUrl.createObjectURL&&e?Y.objUrl.createObjectURL(e):""},revokeObjectURL:function(e){Y.objUrl&&Y.objUrl.revokeObjectURL&&e&&Y.objUrl.revokeObjectURL(e)},compare:function(e,t,i){return void 0!==e&&(i?e===t:e.match(t))},isIE:function(e){var t,i;return"Microsoft Internet Explorer"===navigator.appName&&(10===e?new RegExp("msie\\s"+e,"i").test(navigator.userAgent):((t=document.createElement("div")).innerHTML="\x3c!--[if IE "+e+"]> <i></i> <![endif]--\x3e",i=t.getElementsByTagName("i").length,document.body.appendChild(t),t.parentNode.removeChild(t),i))},canAssignFilesToInput:function(){var e=document.createElement("input");try{return e.type="file",!(e.files=null)}catch(e){return!1}},getDragDropFolders:function(e){var t,i,r=e?e.length:0,n=0;if(0<r&&e[0].webkitGetAsEntry())for(t=0;t<r;t++)(i=e[t].webkitGetAsEntry())&&i.isDirectory&&n++;return n},initModal:function(e){var t=K("body");t.length&&e.appendTo(t)},isEmpty:function(e,t){return null==e||0===e.length||t&&""===K.trim(e)},isArray:function(e){return Array.isArray(e)||"[object Array]"===Object.prototype.toString.call(e)},ifSet:function(e,t,i){return i=i||"",t&&"object"==typeof t&&e in t?t[e]:i},cleanArray:function(e){return e instanceof Array||(e=[]),e.filter(function(e){return null!=e})},spliceArray:function(e,t,i){var r,n,a=0,o=[];if(!(e instanceof Array))return[];for(n=K.extend(!0,[],e),i&&n.reverse(),r=0;r<n.length;r++)r!==t&&(o[a]=n[r],a++);return i&&o.reverse(),o},getNum:function(e,t){return t=t||0,"number"==typeof e?e:("string"==typeof e&&(e=parseFloat(e)),isNaN(e)?t:e)},hasFileAPISupport:function(){return!(!window.File||!window.FileReader)},hasDragDropSupport:function(){var e=document.createElement("div");return!Y.isIE(9)&&(void 0!==e.draggable||void 0!==e.ondragstart&&void 0!==e.ondrop)},hasFileUploadSupport:function(){return Y.hasFileAPISupport()&&window.FormData},hasBlobSupport:function(){try{return!!window.Blob&&Boolean(new Blob)}catch(e){return!1}},hasArrayBufferViewSupport:function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}},dataURI2Blob:function(e){var t,i,r,n,a,o,l=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,s=Y.hasBlobSupport(),d=(s||l)&&window.atob&&window.ArrayBuffer&&window.Uint8Array;if(!d)return null;for(t=0<=e.split(",")[0].indexOf("base64")?atob(e.split(",")[1]):decodeURIComponent(e.split(",")[1]),i=new ArrayBuffer(t.length),r=new Uint8Array(i),n=0;n<t.length;n+=1)r[n]=t.charCodeAt(n);return a=e.split(",")[0].split(":")[1].split(";")[0],s?new Blob([Y.hasArrayBufferViewSupport()?r:i],{type:a}):((o=new l).append(i),o.getBlob(a))},arrayBuffer2String:function(e){if(window.TextDecoder)return new TextDecoder("utf-8").decode(e);var t,i,r,n,a=Array.prototype.slice.apply(new Uint8Array(e)),o="",l=0;for(t=a.length;l<t;)switch((i=a[l++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o+=String.fromCharCode(i);break;case 12:case 13:r=a[l++],o+=String.fromCharCode((31&i)<<6|63&r);break;case 14:r=a[l++],n=a[l++],o+=String.fromCharCode((15&i)<<12|(63&r)<<6|(63&n)<<0)}return o},isHtml:function(e){var t=document.createElement("div");t.innerHTML=e;for(var i=t.childNodes,r=i.length;r--;)if(1===i[r].nodeType)return!0;return!1},isSvg:function(e){return e.match(/^\s*<\?xml/i)&&(e.match(/<!DOCTYPE svg/i)||e.match(/<svg/i))},getMimeType:function(e,t,i){switch(e){case"ffd8ffe0":case"ffd8ffe1":case"ffd8ffe2":return"image/jpeg";case"89504E47":return"image/png";case"47494638":return"image/gif";case"49492a00":return"image/tiff";case"52494646":return"image/webp";case"66747970":return"video/3gp";case"4f676753":return"video/ogg";case"1a45dfa3":return"video/mkv";case"000001ba":case"000001b3":return"video/mpeg";case"3026b275":return"video/wmv";case"25504446":return"application/pdf";case"25215053":return"application/ps";case"504b0304":case"504b0506":case"504b0508":return"application/zip";case"377abcaf":return"application/7z";case"75737461":return"application/tar";case"7801730d":return"application/dmg";default:switch(e.substring(0,6)){case"435753":return"application/x-shockwave-flash";case"494433":return"audio/mp3";case"425a68":return"application/bzip";default:switch(e.substring(0,4)){case"424d":return"image/bmp";case"fffb":return"audio/mp3";case"4d5a":return"application/exe";case"1f9d":case"1fa0":return"application/zip";case"1f8b":return"application/gzip";default:return t&&!t.match(/[^\u0000-\u007f]/)?"application/text-plain":i}}}},addCss:function(e,t){e.removeClass(t).addClass(t)},getElement:function(e,t,i){return Y.isEmpty(e)||Y.isEmpty(e[t])?i:K(e[t])},uniqId:function(){return Math.round((new Date).getTime())+"_"+Math.round(100*Math.random())},htmlEncode:function(e,t){return void 0===e?t||null:e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},replaceTags:function(e,t){var i=e;return t&&K.each(t,function(e,t){"function"==typeof t&&(t=t()),i=i.split(e).join(t)}),i},cleanMemory:function(e){var t=e.is("img")?e.attr("src"):e.find("source").attr("src");Y.revokeObjectURL(t)},findFileName:function(e){var t=e.lastIndexOf("/");return-1===t&&(t=e.lastIndexOf("\\")),e.split(e.substring(t,t+1)).pop()},checkFullScreen:function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},toggleFullScreen:function(e){var t=document,i=t.documentElement;i&&e&&!Y.checkFullScreen()?i.requestFullscreen?i.requestFullscreen():i.msRequestFullscreen?i.msRequestFullscreen():i.mozRequestFullScreen?i.mozRequestFullScreen():i.webkitRequestFullscreen&&i.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):t.exitFullscreen?t.exitFullscreen():t.msExitFullscreen?t.msExitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.webkitExitFullscreen&&t.webkitExitFullscreen()},moveArray:function(e,t,i,r){var n=K.extend(!0,[],e);if(r&&n.reverse(),i>=n.length)for(var a=i-n.length;1+a--;)n.push(void 0);return n.splice(i,0,n.splice(t,1)[0]),r&&n.reverse(),n},cleanZoomCache:function(e){var t=e.closest(".kv-zoom-cache-theme");t.length||(t=e.closest(".kv-zoom-cache")),t.remove()},closeButton:function(e){return'<button type="button" class="'+(e=e?"close "+e:"close")+'" aria-label="Close">\n  <span aria-hidden="true">&times;</span>\n</button>'},getRotation:function(e){switch(e){case 2:return"rotateY(180deg)";case 3:return"rotate(180deg)";case 4:return"rotate(180deg) rotateY(180deg)";case 5:return"rotate(270deg) rotateY(180deg)";case 6:return"rotate(90deg)";case 7:return"rotate(90deg) rotateY(180deg)";case 8:return"rotate(270deg)";default:return""}},setTransform:function(e,t){e&&(e.style.transform=t,e.style.webkitTransform=t,e.style["-moz-transform"]=t,e.style["-ms-transform"]=t,e.style["-o-transform"]=t)},setImageOrientation:function(d,c,p){if(d&&d.length){var e="load.fileinputimageorient";d.off(e).on(e,function(){var e=d.get(0),t=c&&c.length?c.get(0):null,i=e.offsetHeight,r=e.offsetWidth,n=Y.getRotation(p);if(d.data("orientation",p),t&&c.data("orientation",p),p<5)return Y.setTransform(e,n),void Y.setTransform(t,n);var a=Math.atan(r/i),o=Math.sqrt(Math.pow(i,2)+Math.pow(r,2)),l=o?i/Math.cos(Math.PI/2+a)/o:1,s=" scale("+Math.abs(l)+")";Y.setTransform(e,n+s),Y.setTransform(t,n+s)})}}},(p=function(e,t){var i=this;i.$element=K(e),i.$parent=i.$element.parent(),i._validate()&&(i.isPreviewable=Y.hasFileAPISupport(),i.isIE9=Y.isIE(9),i.isIE10=Y.isIE(10),(i.isPreviewable||i.isIE9)&&(i._init(t),i._listen()),i.$element.removeClass("file-loading"))}).prototype={constructor:p,_cleanup:function(){var e=this;e.reader=null,e.formdata={},e.uploadCount=0,e.uploadStatus={},e.uploadLog=[],e.uploadAsyncCount=0,e.loadedImages=[],e.totalImagesCount=0,e.ajaxRequests=[],e.clearStack(),e.fileBatchCompleted=!0,e.isPreviewable||(e.showPreview=!1),e.isError=!1,e.ajaxAborted=!1,e.cancelling=!1},_init:function(e,t){var i,r,n,a,o=this,l=o.$element;o.options=e,K.each(e,function(e,t){switch(e){case"minFileCount":case"maxFileCount":case"minFileSize":case"maxFileSize":case"maxFilePreviewSize":case"resizeImageQuality":case"resizeIfSizeMoreThan":case"progressUploadThreshold":case"initialPreviewCount":case"zoomModalHeight":case"minImageHeight":case"maxImageHeight":case"minImageWidth":case"maxImageWidth":o[e]=Y.getNum(t);break;default:o[e]=t}}),o.rtl&&(a=o.previewZoomButtonIcons.prev,o.previewZoomButtonIcons.prev=o.previewZoomButtonIcons.next,o.previewZoomButtonIcons.next=a),t||o._cleanup(),o.$form=l.closest("form"),o._initTemplateDefaults(),o.uploadFileAttr=Y.isEmpty(l.attr("name"))?"file_data":l.attr("name"),n=o._getLayoutTemplate("progress"),o.progressTemplate=n.replace("{class}",o.progressClass),o.progressCompleteTemplate=n.replace("{class}",o.progressCompleteClass),o.progressErrorTemplate=n.replace("{class}",o.progressErrorClass),o.isDisabled=l.attr("disabled")||l.attr("readonly"),o.isDisabled&&l.attr("disabled",!0),o.isClickable=o.browseOnZoneClick&&o.showPreview&&(o.dropZoneEnabled||!Y.isEmpty(o.defaultPreviewContent)),o.isAjaxUpload=Y.hasFileUploadSupport()&&!Y.isEmpty(o.uploadUrl),o.dropZoneEnabled=Y.hasDragDropSupport()&&o.dropZoneEnabled,o.isAjaxUpload||(o.dropZoneEnabled=o.dropZoneEnabled&&Y.canAssignFilesToInput()),o.slug="function"==typeof e.slugCallback?e.slugCallback:o._slugDefault,o.mainTemplate=o.showCaption?o._getLayoutTemplate("main1"):o._getLayoutTemplate("main2"),o.captionTemplate=o._getLayoutTemplate("caption"),o.previewGenericTemplate=o._getPreviewTemplate("generic"),!o.imageCanvas&&o.resizeImage&&(o.maxImageWidth||o.maxImageHeight)&&(o.imageCanvas=document.createElement("canvas"),o.imageCanvasContext=o.imageCanvas.getContext("2d")),Y.isEmpty(l.attr("id"))&&l.attr("id",Y.uniqId()),o.namespace=".fileinput_"+l.attr("id").replace(/-/g,"_"),void 0===o.$container?o.$container=o._createContainer():o._refreshContainer(),r=o.$container,o.$dropZone=r.find(".file-drop-zone"),o.$progress=r.find(".kv-upload-progress"),o.$btnUpload=r.find(".fileinput-upload"),o.$captionContainer=Y.getElement(e,"elCaptionContainer",r.find(".file-caption")),o.$caption=Y.getElement(e,"elCaptionText",r.find(".file-caption-name")),Y.isEmpty(o.msgPlaceholder)||(i=l.attr("multiple")?o.filePlural:o.fileSingle,o.$caption.attr("placeholder",o.msgPlaceholder.replace("{files}",i))),o.$captionIcon=o.$captionContainer.find(".file-caption-icon"),o.$previewContainer=Y.getElement(e,"elPreviewContainer",r.find(".file-preview")),o.$preview=Y.getElement(e,"elPreviewImage",r.find(".file-preview-thumbnails")),o.$previewStatus=Y.getElement(e,"elPreviewStatus",r.find(".file-preview-status")),o.$errorContainer=Y.getElement(e,"elErrorContainer",o.$previewContainer.find(".kv-fileinput-error")),o._validateDisabled(),Y.isEmpty(o.msgErrorClass)||Y.addCss(o.$errorContainer,o.msgErrorClass),t?o._errorsExist()||o.$errorContainer.hide():(o.$errorContainer.hide(),o.previewInitId="preview-"+Y.uniqId(),o._initPreviewCache(),o._initPreview(!0),o._initPreviewActions(),o.$parent.hasClass("file-loading")&&(o.$container.insertBefore(o.$parent),o.$parent.remove())),o._setFileDropZoneTitle(),l.attr("disabled")&&o.disable(),o._initZoom(),o.hideThumbnailContent&&Y.addCss(o.$preview,"hide-content")},_initTemplateDefaults:function(){var e,t,i,r,n,a,o,l,s,d,c=this;e=Y.closeButton("fileinput-remove"),t='<div id="'+Y.MODAL_ID+'" class="file-zoom-dialog modal fade" tabindex="-1" aria-labelledby="'+Y.MODAL_ID+'Label"></div>',i='<div class="file-preview-frame {frameClass}" id="{previewId}" data-fileindex="{fileindex}" data-template="{template}"',s=" {style}",r='<video class="kv-preview-data file-preview-video" controls'+s+'>\n<source src="{data}" type="{type}">\n'+Y.DEFAULT_PREVIEW+"\n</video>\n",n='\x3c!--suppress ALL --\x3e<audio class="kv-preview-data file-preview-audio" controls'+s+'>\n<source src="{data}" type="{type}">\n'+Y.DEFAULT_PREVIEW+"\n</audio>\n",o='<embed class="kv-preview-data file-preview-pdf" src="{data}" type="application/pdf"'+s+">\n",a='<object class="kv-preview-data file-preview-object file-object {typeCss}" data="{data}" type="{type}"'+s+'>\n<param name="movie" value="{caption}" />\n'+Y.OBJECT_PARAMS+" "+Y.DEFAULT_PREVIEW+"\n</object>\n",l='<div class="kv-preview-data file-preview-other-frame"'+s+">\n"+Y.DEFAULT_PREVIEW+"\n</div>\n",d={width:"100%",height:"100%","min-height":"480px"},c._isPdfRendered()&&(o=c.pdfRendererTemplate.replace("{renderer}",c._encodeURI(c.pdfRendererUrl))),c.defaults={layoutTemplates:{main1:'{preview}\n<div class="kv-upload-progress kv-hidden"></div><div class="clearfix"></div>\n<div class="input-group {class}">\n  {caption}\n<div class="input-group-btn input-group-append">\n      {remove}\n      {cancel}\n      {upload}\n      {browse}\n    </div>\n</div>',main2:'{preview}\n<div class="kv-upload-progress kv-hidden"></div>\n<div class="clearfix"></div>\n{remove}\n{cancel}\n{upload}\n{browse}\n',preview:'<div class="file-preview {class}">\n    {close}    <div class="{dropClass}">\n    <div class="file-preview-thumbnails">\n    </div>\n    <div class="clearfix"></div>    <div class="file-preview-status text-center text-success"></div>\n    <div class="kv-fileinput-error"></div>\n    </div>\n</div>',close:e,fileIcon:'<i class="glyphicon glyphicon-file"></i>',caption:'<div class="file-caption form-control {class}" tabindex="500">\n  <span class="file-caption-icon"></span>\n  <input class="file-caption-name" onkeydown="return false;" onpaste="return false;">\n</div>',modalMain:t,modal:'<div class="modal-dialog modal-lg{rtl}" role="document">\n  <div class="modal-content">\n    <div class="modal-header">\n      <h5 class="modal-title">{heading}</h5>\n      <span class="kv-zoom-title"></span>\n      <div class="kv-zoom-actions">{toggleheader}{fullscreen}{borderless}{close}</div>\n    </div>\n    <div class="modal-body">\n      <div class="floating-buttons"></div>\n      <div class="kv-zoom-body file-zoom-content {zoomFrameClass}"></div>\n{prev} {next}\n    </div>\n  </div>\n</div>\n',progress:'<div class="progress">\n    <div class="{class}" role="progressbar" aria-valuenow="{percent}" aria-valuemin="0" aria-valuemax="100" style="width:{percent}%;">\n        {status}\n     </div>\n</div>',size:" <samp>({sizeText})</samp>",footer:'<div class="file-thumbnail-footer">\n    <div class="file-footer-caption" title="{caption}">\n        <div class="file-caption-info">{caption}</div>\n        <div class="file-size-info">{size}</div>\n    </div>\n    {progress}\n{indicator}\n{actions}\n</div>',indicator:'<div class="file-upload-indicator" title="{indicatorTitle}">{indicator}</div>',actions:'<div class="file-actions">\n    <div class="file-footer-buttons">\n        {download} {upload} {delete} {zoom} {other}    </div>\n</div>\n{drag}\n<div class="clearfix"></div>',actionDelete:'<button type="button" class="kv-file-remove {removeClass}" title="{removeTitle}" {dataUrl}{dataKey}>{removeIcon}</button>\n',actionUpload:'<button type="button" class="kv-file-upload {uploadClass}" title="{uploadTitle}">{uploadIcon}</button>',actionDownload:'<a class="kv-file-download {downloadClass}" title="{downloadTitle}" href="{downloadUrl}" download="{caption}" target="_blank">{downloadIcon}</a>',actionZoom:'<button type="button" class="kv-file-zoom {zoomClass}" title="{zoomTitle}">{zoomIcon}</button>',actionDrag:'<span class="file-drag-handle {dragClass}" title="{dragTitle}">{dragIcon}</span>',btnDefault:'<button type="{type}" tabindex="500" title="{title}" class="{css}" {status}>{icon} {label}</button>',btnLink:'<a href="{href}" tabindex="500" title="{title}" class="{css}" {status}>{icon} {label}</a>',btnBrowse:'<div tabindex="500" class="{css}" {status}>{icon} {label}</div>',zoomCache:'<div class="kv-zoom-cache" style="display:none">{zoomContent}</div>'},previewMarkupTags:{tagBefore1:'<div class="file-preview-frame {frameClass}" id="{previewId}" data-fileindex="{fileindex}" data-template="{template}"><div class="kv-file-content">\n',tagBefore2:'<div class="file-preview-frame {frameClass}" id="{previewId}" data-fileindex="{fileindex}" data-template="{template}" title="{caption}"><div class="kv-file-content">\n',tagAfter:"</div>{footer}\n</div>\n"},previewContentTemplates:{generic:"{content}\n",html:'<div class="kv-preview-data file-preview-html" title="{caption}" {style}>{data}</div>\n',image:'<img src="{data}" class="file-preview-image kv-preview-data" title="{caption}" alt="{caption}" {style}>\n',text:'<textarea class="kv-preview-data file-preview-text" title="{caption}" readonly {style}>{data}</textarea>\n',office:'<iframe class="kv-preview-data file-preview-office" src="https://view.officeapps.live.com/op/embed.aspx?src={data}" {style}></iframe>',gdocs:'<iframe class="kv-preview-data file-preview-gdocs" src="https://docs.google.com/gview?url={data}&embedded=true" {style}></iframe>',video:r,audio:n,flash:'<embed class="kv-preview-data file-preview-flash" src="{data}" type="application/x-shockwave-flash" {style}>\n',object:a,pdf:o,other:l},allowedPreviewTypes:["image","html","text","video","audio","flash","pdf","object"],previewTemplates:{},previewSettings:{image:{width:"auto",height:"auto","max-width":"100%","max-height":"100%"},html:{width:"213px",height:"160px"},text:{width:"213px",height:"160px"},office:{width:"213px",height:"160px"},gdocs:{width:"213px",height:"160px"},video:{width:"213px",height:"160px"},audio:{width:"100%",height:"30px"},flash:{width:"213px",height:"160px"},object:{width:"213px",height:"160px"},pdf:{width:"100%",height:"160px"},other:{width:"213px",height:"160px"}},previewSettingsSmall:{image:{width:"auto",height:"auto","max-width":"100%","max-height":"100%"},html:{width:"100%",height:"160px"},text:{width:"100%",height:"160px"},office:{width:"100%",height:"160px"},gdocs:{width:"100%",height:"160px"},video:{width:"100%",height:"auto"},audio:{width:"100%",height:"30px"},flash:{width:"100%",height:"auto"},object:{width:"100%",height:"auto"},pdf:{width:"100%",height:"160px"},other:{width:"100%",height:"160px"}},previewZoomSettings:{image:{width:"auto",height:"auto","max-width":"100%","max-height":"100%"},html:d,text:d,office:{width:"100%",height:"100%","max-width":"100%","min-height":"480px"},gdocs:{width:"100%",height:"100%","max-width":"100%","min-height":"480px"},video:{width:"auto",height:"100%","max-width":"100%"},audio:{width:"100%",height:"30px"},flash:{width:"auto",height:"480px"},object:{width:"auto",height:"100%","max-width":"100%","min-height":"480px"},pdf:d,other:{width:"auto",height:"100%","min-height":"480px"}},mimeTypeAliases:{"video/quicktime":"video/mp4"},fileTypeSettings:{image:function(e,t){return Y.compare(e,"image.*")&&!Y.compare(e,/(tiff?|wmf)$/i)||Y.compare(t,/\.(gif|png|jpe?g)$/i)},html:function(e,t){return Y.compare(e,"text/html")||Y.compare(t,/\.(htm|html)$/i)},office:function(e,t){return Y.compare(e,/(word|excel|powerpoint|office)$/i)||Y.compare(t,/\.(docx?|xlsx?|pptx?|pps|potx?)$/i)},gdocs:function(e,t){return Y.compare(e,/(word|excel|powerpoint|office|iwork-pages|tiff?)$/i)||Y.compare(t,/\.(docx?|xlsx?|pptx?|pps|potx?|rtf|ods|odt|pages|ai|dxf|ttf|tiff?|wmf|e?ps)$/i)},text:function(e,t){return Y.compare(e,"text.*")||Y.compare(t,/\.(xml|javascript)$/i)||Y.compare(t,/\.(txt|md|csv|nfo|ini|json|php|js|css)$/i)},video:function(e,t){return Y.compare(e,"video.*")&&(Y.compare(e,/(ogg|mp4|mp?g|mov|webm|3gp)$/i)||Y.compare(t,/\.(og?|mp4|webm|mp?g|mov|3gp)$/i))},audio:function(e,t){return Y.compare(e,"audio.*")&&(Y.compare(t,/(ogg|mp3|mp?g|wav)$/i)||Y.compare(t,/\.(og?|mp3|mp?g|wav)$/i))},flash:function(e,t){return Y.compare(e,"application/x-shockwave-flash",!0)||Y.compare(t,/\.(swf)$/i)},pdf:function(e,t){return Y.compare(e,"application/pdf",!0)||Y.compare(t,/\.(pdf)$/i)},object:function(){return!0},other:function(){return!0}},fileActionSettings:{showRemove:!0,showUpload:!0,showDownload:!0,showZoom:!0,showDrag:!0,removeIcon:'<i class="glyphicon glyphicon-trash"></i>',removeClass:"btn btn-sm btn-kv btn-default btn-outline-secondary",removeErrorClass:"btn btn-sm btn-kv btn-danger",removeTitle:"Remove file",uploadIcon:'<i class="glyphicon glyphicon-upload"></i>',uploadClass:"btn btn-sm btn-kv btn-default btn-outline-secondary",uploadTitle:"Upload file",uploadRetryIcon:'<i class="glyphicon glyphicon-repeat"></i>',uploadRetryTitle:"Retry upload",downloadIcon:'<i class="glyphicon glyphicon-download"></i>',downloadClass:"btn btn-sm btn-kv btn-default btn-outline-secondary",downloadTitle:"Download file",zoomIcon:'<i class="glyphicon glyphicon-zoom-in"></i>',zoomClass:"btn btn-sm btn-kv btn-default btn-outline-secondary",zoomTitle:"View Details",dragIcon:'<i class="glyphicon glyphicon-move"></i>',dragClass:"text-info",dragTitle:"Move / Rearrange",dragSettings:{},indicatorNew:'<i class="glyphicon glyphicon-plus-sign text-warning"></i>',indicatorSuccess:'<i class="glyphicon glyphicon-ok-sign text-success"></i>',indicatorError:'<i class="glyphicon glyphicon-exclamation-sign text-danger"></i>',indicatorLoading:'<i class="glyphicon glyphicon-hourglass text-muted"></i>',indicatorNewTitle:"Not uploaded yet",indicatorSuccessTitle:"Uploaded",indicatorErrorTitle:"Upload Error",indicatorLoadingTitle:"Uploading ..."}},K.each(c.defaults,function(e,t){"allowedPreviewTypes"!==e?c[e]=K.extend(!0,{},t,c[e]):void 0===c.allowedPreviewTypes&&(c.allowedPreviewTypes=t)}),c._initPreviewTemplates()},_initPreviewTemplates:function(){var i,r=this,n=r.previewMarkupTags,a=n.tagAfter;K.each(r.previewContentTemplates,function(e,t){Y.isEmpty(r.previewTemplates[e])&&(i=n.tagBefore2,"generic"!==e&&"image"!==e&&"html"!==e&&"text"!==e||(i=n.tagBefore1),r._isPdfRendered()&&"pdf"===e&&(i=i.replace("kv-file-content","kv-file-content kv-pdf-rendered")),r.previewTemplates[e]=i+t+a)})},_initPreviewCache:function(){var _=this;_.previewCache={data:{},init:function(){var e=_.initialPreview;0<e.length&&!Y.isArray(e)&&(e=e.split(_.initialPreviewDelimiter)),_.previewCache.data={content:e,config:_.initialPreviewConfig,tags:_.initialPreviewThumbTags}},count:function(){return _.previewCache.data&&_.previewCache.data.content?_.previewCache.data.content.length:0},get:function(e,t){var i,r,n,a,o,l,s,d="init_"+e,c=_.previewCache.data,p=c.config[e],f=c.content[e],u=_.previewInitId+"-"+d,m=Y.ifSet("previewAsData",p,_.initialPreviewAsData),h=function(e,t,i,r,n,a,o,l,s){return l=" file-preview-initial "+Y.SORT_CSS+(l?" "+l:""),_._generatePreviewTemplate(e,t,i,r,n,!1,null,l,a,o,s)};return f?(t=void 0===t||t,n=Y.ifSet("type",p,_.initialPreviewFileType||"generic"),o=Y.ifSet("filename",p,Y.ifSet("caption",p)),l=Y.ifSet("filetype",p,n),a=_.previewCache.footer(e,t,p&&p.size||null),s=Y.ifSet("frameClass",p),i=m?h(n,f,o,l,u,a,d,s):h("generic",f,o,l,u,a,d,s,n).setTokens({content:c.content[e]}),c.tags.length&&c.tags[e]&&(i=Y.replaceTags(i,c.tags[e])),Y.isEmpty(p)||Y.isEmpty(p.frameAttr)||((r=K(document.createElement("div")).html(i)).find(".file-preview-initial").attr(p.frameAttr),i=r.html(),r.remove()),i):""},add:function(e,t,i,r){var n,a=_.previewCache.data;return Y.isArray(e)||(e=e.split(_.initialPreviewDelimiter)),r?(n=a.content.push(e)-1,a.config[n]=t,a.tags[n]=i):(n=e.length-1,a.content=e,a.config=t,a.tags=i),_.previewCache.data=a,n},set:function(e,t,i,r){var n,a=_.previewCache.data;if(e&&e.length&&(Y.isArray(e)||(e=e.split(_.initialPreviewDelimiter)),e.filter(function(e){return null!==e}).length)){if(void 0===a.content&&(a.content=[]),void 0===a.config&&(a.config=[]),void 0===a.tags&&(a.tags=[]),r){for(n=0;n<e.length;n++)e[n]&&a.content.push(e[n]);for(n=0;n<t.length;n++)t[n]&&a.config.push(t[n]);for(n=0;n<i.length;n++)i[n]&&a.tags.push(i[n])}else a.content=e,a.config=t,a.tags=i;_.previewCache.data=a}},unset:function(e){var t=_.previewCache.count(),i=_.reversePreviewOrder;if(t){if(1===t)return _.previewCache.data.content=[],_.previewCache.data.config=[],_.previewCache.data.tags=[],_.initialPreview=[],_.initialPreviewConfig=[],void(_.initialPreviewThumbTags=[]);_.previewCache.data.content=Y.spliceArray(_.previewCache.data.content,e,i),_.previewCache.data.config=Y.spliceArray(_.previewCache.data.config,e,i),_.previewCache.data.tags=Y.spliceArray(_.previewCache.data.tags,e,i)}},out:function(){var e,t,i,r="",n=_.previewCache.count();if(0===n)return{content:"",caption:""};for(t=0;t<n;t++)i=_.previewCache.get(t),r=_.reversePreviewOrder?i+r:r+i;return e=_._getMsgSelected(n),{content:r,caption:e}},footer:function(e,t,i){var r=_.previewCache.data||{};if(Y.isEmpty(r.content))return"";(Y.isEmpty(r.config)||Y.isEmpty(r.config[e]))&&(r.config[e]={}),t=void 0===t||t;var n,a=r.config[e],o=Y.ifSet("caption",a),l=Y.ifSet("width",a,"auto"),s=Y.ifSet("url",a,!1),d=Y.ifSet("key",a,null),c=_.fileActionSettings,p=_.initialPreviewShowDelete||!1,f=a.downloadUrl||_.initialPreviewDownloadUrl||"",u=a.filename||a.caption||"",m=!!f,h=Y.ifSet("showRemove",a,Y.ifSet("showRemove",c,p)),g=Y.ifSet("showDownload",a,Y.ifSet("showDownload",c,m)),v=Y.ifSet("showZoom",a,Y.ifSet("showZoom",c,!0)),w=Y.ifSet("showDrag",a,Y.ifSet("showDrag",c,!0)),b=!1===s&&t;return g=g&&!1!==a.downloadUrl&&!!f,n=_._renderFileActions(!1,g,h,v,w,b,s,d,!0,f,u),_._getLayoutTemplate("footer").setTokens({progress:_._renderThumbProgress(),actions:n,caption:o,size:_._getSize(i),width:l,indicator:""})}},_.previewCache.init()},_isPdfRendered:function(){var e=this.usePdfRenderer,t="function"==typeof e?e():!!e;return t&&this.pdfRendererUrl},_handler:function(e,t,i){var r=this.namespace,n=t.split(" ").join(r+" ")+r;e&&e.length&&e.off(n).on(n,i)},_encodeURI:function(e){return this.encodeUrl?encodeURI(e):e},_log:function(e){var t=this.$element.attr("id");t&&(e='"'+t+'": '+e),e="bootstrap-fileinput: "+e,void 0!==window.console.log?window.console.log(e):window.alert(e)},_validate:function(){var e="file"===this.$element.attr("type");return e||this._log('The input "type" must be set to "file" for initializing the "bootstrap-fileinput" plugin.'),e},_errorsExist:function(){var e,t=this.$errorContainer.find("li");return!!t.length||((e=K(document.createElement("div")).html(this.$errorContainer.html())).find(".kv-error-close").remove(),e.find("ul").remove(),!!K.trim(e.text()).length)},_errorHandler:function(e,t){var i=this,r=e.target.error,n=function(e){i._showError(e.replace("{name}",t))};r.code===r.NOT_FOUND_ERR?n(i.msgFileNotFound):r.code===r.SECURITY_ERR?n(i.msgFileSecured):r.code===r.NOT_READABLE_ERR?n(i.msgFileNotReadable):r.code===r.ABORT_ERR?n(i.msgFilePreviewAborted):n(i.msgFilePreviewError)},_addError:function(e){var t=this,i=t.$errorContainer;e&&i.length&&(i.html(t.errorCloseButton+e),t._handler(i.find(".kv-error-close"),"click",function(){setTimeout(function(){t.showPreview&&!t.getFrames().length&&t.clear(),i.fadeOut("slow")},10)}))},_setValidationError:function(e){e=(e?e+" ":"")+"has-error",this.$container.removeClass(e).addClass("has-error"),Y.addCss(this.$captionContainer,"is-invalid")},_resetErrors:function(e){var t=this.$errorContainer;this.isError=!1,this.$container.removeClass("has-error"),this.$captionContainer.removeClass("is-invalid"),t.html(""),e?t.fadeOut("slow"):t.hide()},_showFolderError:function(e){var t,i=this,r=i.$errorContainer;e&&(i.isAjaxUpload||i._clearFileInput(),t=i.msgFoldersNotAllowed.replace("{n}",e),i._addError(t),i._setValidationError(),r.fadeIn(800),i._raise("filefoldererror",[e,t]))},_showUploadError:function(e,t,i){var r=this.$errorContainer,n=i||"fileuploaderror",a=t&&t.id?'<li data-file-id="'+t.id+'">'+e+"</li>":"<li>"+e+"</li>";return 0===r.find("ul").length?this._addError("<ul>"+a+"</ul>"):r.find("ul").append(a),r.fadeIn(800),this._raise(n,[t,e]),this._setValidationError("file-input-new"),!0},_showError:function(e,t,i){var r=this,n=r.$errorContainer,a=i||"fileerror";return(t=t||{}).reader=r.reader,r._addError(e),n.fadeIn(800),r._raise(a,[t,e]),r.isAjaxUpload||r._clearFileInput(),r._setValidationError("file-input-new"),r.$btnUpload.attr("disabled",!0),!0},_noFilesError:function(e){var t=this,i=1<t.minFileCount?t.filePlural:t.fileSingle,r=t.msgFilesTooLess.replace("{n}",t.minFileCount).replace("{files}",i),n=t.$errorContainer;t._addError(r),t.isError=!0,t._updateFileDetails(0),n.fadeIn(800),t._raise("fileerror",[e,r]),t._clearFileInput(),t._setValidationError()},_parseError:function(e,t,i,r){var n,a=this,o=K.trim(i+""),l=void 0!==t.responseJSON&&void 0!==t.responseJSON.error?t.responseJSON.error:t.responseText;return a.cancelling&&a.msgUploadAborted&&(o=a.msgUploadAborted),a.showAjaxErrorDetails&&l&&(l=K.trim(l.replace(/\n\s*\n/g,"\n")),n=l.length?"<pre>"+l+"</pre>":"",o+=o?n:l),o||(o=a.msgAjaxError.replace("{operation}",e)),a.cancelling=!1,r?"<b>"+r+": </b>"+o:o},_parseFileType:function(e,t){var i,r,n,a,o=this.allowedPreviewTypes||[];if("application/text-plain"===e)return"text";for(a=0;a<o.length;a++)if(n=o[a],i=this.fileTypeSettings[n],r=i(e,t)?n:"",!Y.isEmpty(r))return r;return"other"},_getPreviewIcon:function(e){var i,r=this,n=null;return e&&-1<e.indexOf(".")&&(i=e.split(".").pop(),r.previewFileIconSettings&&(n=r.previewFileIconSettings[i]||r.previewFileIconSettings[i.toLowerCase()]||null),r.previewFileExtSettings&&K.each(r.previewFileExtSettings,function(e,t){r.previewFileIconSettings[e]&&t(i)&&(n=r.previewFileIconSettings[e])})),n},_parseFilePreviewIcon:function(e,t){var i=this._getPreviewIcon(t)||this.previewFileIcon,r=e;return-1<r.indexOf("{previewFileIcon}")&&(r=r.setTokens({previewFileIconClass:this.previewFileIconClass,previewFileIcon:i})),r},_raise:function(e,t){var i=K.Event(e);if(void 0!==t?this.$element.trigger(i,t):this.$element.trigger(i),i.isDefaultPrevented()||!1===i.result)return!1;switch(e){case"filebatchuploadcomplete":case"filebatchuploadsuccess":case"fileuploaded":case"fileclear":case"filecleared":case"filereset":case"fileerror":case"filefoldererror":case"fileuploaderror":case"filebatchuploaderror":case"filedeleteerror":case"filecustomerror":case"filesuccessremove":break;default:this.ajaxAborted||(this.ajaxAborted=i.result)}return!0},_listenFullScreen:function(e){var t,i,r=this.$modal;r&&r.length&&(t=r&&r.find(".btn-fullscreen"),i=r&&r.find(".btn-borderless"),t.length&&i.length&&(t.removeClass("active").attr("aria-pressed","false"),i.removeClass("active").attr("aria-pressed","false"),e?t.addClass("active").attr("aria-pressed","true"):i.addClass("active").attr("aria-pressed","true"),r.hasClass("file-zoom-fullscreen")?this._maximizeZoomDialog():e?this._maximizeZoomDialog():i.removeClass("active").attr("aria-pressed","false")))},_listen:function(){var e=this,t=e.$element,i=e.$form,r=e.$container;e._handler(t,"click",function(e){t.hasClass("file-no-browse")&&(t.data("zoneClicked")?t.data("zoneClicked",!1):e.preventDefault())}),e._handler(t,"change",K.proxy(e._change,e)),e.showBrowse&&e._handler(e.$btnFile,"click",K.proxy(e._browse,e)),e._handler(r.find(".fileinput-remove:not([disabled])"),"click",K.proxy(e.clear,e)),e._handler(r.find(".fileinput-cancel"),"click",K.proxy(e.cancel,e)),e._initDragDrop(),e._handler(i,"reset",K.proxy(e.clear,e)),e.isAjaxUpload||e._handler(i,"submit",K.proxy(e._submitForm,e)),e._handler(e.$container.find(".fileinput-upload"),"click",K.proxy(e._uploadClick,e)),e._handler(K(window),"resize",function(){e._listenFullScreen(screen.width===window.innerWidth&&screen.height===window.innerHeight)}),e._handler(K(document),"webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",function(){e._listenFullScreen(Y.checkFullScreen())}),e._autoFitContent(),e._initClickable(),e._refreshPreview()},_autoFitContent:function(){var i,e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,r=this,t=e<400?r.previewSettingsSmall||r.defaults.previewSettingsSmall:r.previewSettings||r.defaults.previewSettings;K.each(t,function(e,t){i=".file-preview-frame .file-preview-"+e,r.$preview.find(i+".kv-preview-data,"+i+" .kv-preview-data").css(t)})},_scanDroppedItems:function(t,i,r){r=r||"";var n,e,a,o=this,l=function(e){o._log("Error scanning dropped files!"),o._log(e)};t.isFile?t.file(function(e){i.push(e)},l):t.isDirectory&&(e=t.createReader(),(a=function(){e.readEntries(function(e){if(e&&0<e.length){for(n=0;n<e.length;n++)o._scanDroppedItems(e[n],i,r+t.name+"/");a()}return null},l)})())},_initDragDrop:function(){var e=this,t=e.$dropZone;e.dropZoneEnabled&&e.showPreview&&(e._handler(t,"dragenter dragover",K.proxy(e._zoneDragEnter,e)),e._handler(t,"dragleave",K.proxy(e._zoneDragLeave,e)),e._handler(t,"drop",K.proxy(e._zoneDrop,e)),e._handler(K(document),"dragenter dragover drop",e._zoneDragDropInit))},_zoneDragDropInit:function(e){e.stopPropagation(),e.preventDefault()},_zoneDragEnter:function(e){var t=e.originalEvent.dataTransfer,i=-1<K.inArray("Files",t.types);if(this._zoneDragDropInit(e),this.isDisabled||!i)return e.originalEvent.dataTransfer.effectAllowed="none",void(e.originalEvent.dataTransfer.dropEffect="none");this._raise("fileDragEnter",{sourceEvent:e,files:t.types.Files})&&Y.addCss(this.$dropZone,"file-highlighted")},_zoneDragLeave:function(e){this._zoneDragDropInit(e),this.isDisabled||this._raise("fileDragLeave",{sourceEvent:e})&&this.$dropZone.removeClass("file-highlighted")},_zoneDrop:function(e){var t,i=this,r=i.$element,n=e.originalEvent.dataTransfer,a=n.files,o=n.items,l=Y.getDragDropFolders(o),s=function(){i.isAjaxUpload?i._change(e,a):(i.changeTriggered=!0,r.get(0).files=a,setTimeout(function(){i.changeTriggered=!1,r.trigger("change"+i.namespace)},10)),i.$dropZone.removeClass("file-highlighted")};if(e.preventDefault(),!i.isDisabled&&!Y.isEmpty(a)&&i._raise("fileDragDrop",{sourceEvent:e,files:a}))if(0<l){if(!i.isAjaxUpload)return void i._showFolderError(l);for(a=[],t=0;t<o.length;t++){var d=o[t].webkitGetAsEntry();d&&i._scanDroppedItems(d,a)}setTimeout(function(){s()},500)}else s()},_uploadClick:function(e){var t,i=this.$container.find(".fileinput-upload"),r=!i.hasClass("disabled")&&Y.isEmpty(i.attr("disabled"));e&&e.isDefaultPrevented()||(this.isAjaxUpload?(e.preventDefault(),r&&this.upload()):r&&"submit"!==i.attr("type")&&((t=i.closest("form")).length&&t.trigger("submit"),e.preventDefault()))},_submitForm:function(){return this._isFileSelectionValid()&&!this._abort({})},_clearPreview:function(){var e=this,t=e.$preview,i=e.showUploadedThumbs?e.getFrames(":not(.file-preview-success)"):e.getFrames();i.each(function(){var e=K(this);e.remove(),Y.cleanZoomCache(t.find("#zoom-"+e.attr("id")))}),e.getFrames().length&&e.showPreview||e._resetUpload(),e._validateDefaultPreview()},_initSortable:function(){var e,n=this,t=n.$preview,i="."+Y.SORT_CSS,a=n.reversePreviewOrder;window.KvSortable&&0!==t.find(i).length&&(e={handle:".drag-handle-init",dataIdAttr:"data-preview-id",scroll:!1,draggable:i,onSort:function(e){var t=e.oldIndex,i=e.newIndex,r=0;n.initialPreview=Y.moveArray(n.initialPreview,t,i,a),n.initialPreviewConfig=Y.moveArray(n.initialPreviewConfig,t,i,a),n.previewCache.init(),n.getFrames(".file-preview-initial").each(function(){K(this).attr("data-fileindex","init_"+r),r++}),n._raise("filesorted",{previewId:K(e.item).attr("id"),oldIndex:t,newIndex:i,stack:n.initialPreviewConfig})}},t.data("kvsortable")&&t.kvsortable("destroy"),K.extend(!0,e,n.fileActionSettings.dragSettings),t.kvsortable(e))},_setPreviewContent:function(e){this.$preview.html(e),this._autoFitContent()},_initPreview:function(e){var t,i=this,r=i.initialCaption||"";if(!i.previewCache.count())return i._clearPreview(),void(e?i._setCaption(r):i._initCaption());t=i.previewCache.out(),r=e&&i.initialCaption?i.initialCaption:t.caption,i._setPreviewContent(t.content),i._setInitThumbAttr(),i._setCaption(r),i._initSortable(),Y.isEmpty(t.content)||i.$container.removeClass("file-input-new")},_getZoomButton:function(e){var t=this.previewZoomButtonIcons[e],i=this.previewZoomButtonClasses[e],r=' title="'+(this.previewZoomButtonTitles[e]||"")+'" ',n=r+("close"===e?' data-dismiss="modal" aria-hidden="true"':"");return"fullscreen"!==e&&"borderless"!==e&&"toggleheader"!==e||(n+=' data-toggle="button" aria-pressed="false" autocomplete="off"'),'<button type="button" class="'+i+" btn-"+e+'"'+n+">"+t+"</button>"},_getModalContent:function(){var e=this;return e._getLayoutTemplate("modal").setTokens({rtl:e.rtl?" kv-rtl":"",zoomFrameClass:e.frameClass,heading:e.msgZoomModalHeading,prev:e._getZoomButton("prev"),next:e._getZoomButton("next"),toggleheader:e._getZoomButton("toggleheader"),fullscreen:e._getZoomButton("fullscreen"),borderless:e._getZoomButton("borderless"),close:e._getZoomButton("close")})},_listenModalEvent:function(r){var n=this,a=n.$modal;a.on(r+".bs.modal",function(e){var t=a.find(".btn-fullscreen"),i=a.find(".btn-borderless");n._raise("filezoom"+r,{sourceEvent:e,previewId:a.data("previewId"),modal:a}),"shown"===r&&(i.removeClass("active").attr("aria-pressed","false"),t.removeClass("active").attr("aria-pressed","false"),a.hasClass("file-zoom-fullscreen")&&(n._maximizeZoomDialog(),Y.checkFullScreen()?t.addClass("active").attr("aria-pressed","true"):i.addClass("active").attr("aria-pressed","true")))})},_initZoom:function(){var e,i=this,t=i._getLayoutTemplate("modalMain"),r="#"+Y.MODAL_ID;i.showPreview&&(i.$modal=K(r),i.$modal&&i.$modal.length||(e=K(document.createElement("div")).html(t).insertAfter(i.$container),i.$modal=K(r).insertBefore(e),e.remove()),Y.initModal(i.$modal),i.$modal.html(i._getModalContent()),K.each(Y.MODAL_EVENTS,function(e,t){i._listenModalEvent(t)}))},_initZoomButtons:function(){var e,t,i=this.$modal.data("previewId")||"",r=this.getFrames().toArray(),n=r.length,a=this.$modal.find(".btn-prev"),o=this.$modal.find(".btn-next");if(r.length<2)return a.hide(),void o.hide();a.show(),o.show(),n&&(e=K(r[0]),t=K(r[n-1]),a.removeAttr("disabled"),o.removeAttr("disabled"),e.length&&e.attr("id")===i&&a.attr("disabled",!0),t.length&&t.attr("id")===i&&o.attr("disabled",!0))},_maximizeZoomDialog:function(){var e=this.$modal,t=e.find(".modal-header:visible"),i=e.find(".modal-footer:visible"),r=e.find(".modal-body"),n=K(window).height(),a=0;e.addClass("file-zoom-fullscreen"),t&&t.length&&(n-=t.outerHeight(!0)),i&&i.length&&(n-=i.outerHeight(!0)),r&&r.length&&(a=r.outerHeight(!0)-r.height(),n-=a),e.find(".kv-zoom-body").height(n)},_resizeZoomDialog:function(e){var t=this,i=t.$modal,r=i.find(".btn-fullscreen"),n=i.find(".btn-borderless");if(i.hasClass("file-zoom-fullscreen"))Y.toggleFullScreen(!1),e?r.hasClass("active")||(i.removeClass("file-zoom-fullscreen"),t._resizeZoomDialog(!0),n.hasClass("active")&&n.removeClass("active").attr("aria-pressed","false")):r.hasClass("active")?r.removeClass("active").attr("aria-pressed","false"):(i.removeClass("file-zoom-fullscreen"),t.$modal.find(".kv-zoom-body").css("height",t.zoomModalHeight));else{if(!e)return void t._maximizeZoomDialog();Y.toggleFullScreen(!0)}i.focus()},_setZoomContent:function(e,t){var i,r,n,a,o,l,s,d,c,p,f=this,u=e.attr("id"),m=f.$preview.find("#zoom-"+u),h=f.$modal,g=h.find(".btn-fullscreen"),v=h.find(".btn-borderless"),w=h.find(".btn-toggleheader");r=m.attr("data-template")||"generic",i=m.find(".kv-file-content"),n=i.length?i.html():"",c=e.data("caption")||"",p=e.data("size")||"",a=c+" "+p,h.find(".kv-zoom-title").attr("title",K("<div/>").html(a).text()).html(a),o=h.find(".kv-zoom-body"),h.removeClass("kv-single-content"),t?(d=o.addClass("file-thumb-loading").clone().insertAfter(o),o.html(n).hide(),d.fadeOut("fast",function(){o.fadeIn("fast",function(){o.removeClass("file-thumb-loading")}),d.remove()})):o.html(n),(s=f.previewZoomSettings[r])&&(l=o.find(".kv-preview-data"),Y.addCss(l,"file-zoom-detail"),K.each(s,function(e,t){l.css(e,t),(l.attr("width")&&"width"===e||l.attr("height")&&"height"===e)&&l.removeAttr(e)})),h.data("previewId",u),f._handler(h.find(".btn-prev"),"click",function(){f._zoomSlideShow("prev",u)}),f._handler(h.find(".btn-next"),"click",function(){f._zoomSlideShow("next",u)}),f._handler(g,"click",function(){f._resizeZoomDialog(!0)}),f._handler(v,"click",function(){f._resizeZoomDialog(!1)}),f._handler(w,"click",function(){var e,r=h.find(".modal-header"),t=h.find(".modal-body .floating-buttons"),i=r.find(".kv-zoom-actions"),n=function(e){var t=f.$modal.find(".kv-zoom-body"),i=f.zoomModalHeight;h.hasClass("file-zoom-fullscreen")&&(i=t.outerHeight(!0),e||(i-=r.outerHeight(!0))),t.css("height",e?i+e:i)};r.is(":visible")?(e=r.outerHeight(!0),r.slideUp("slow",function(){i.find(".btn").appendTo(t),n(e)})):(t.find(".btn").appendTo(i),r.slideDown("slow",function(){n()})),h.focus()}),f._handler(h,"keydown",function(e){var t=e.which||e.keyCode,i=K(this).find(".btn-prev"),r=K(this).find(".btn-next"),n=K(this).data("previewId"),a=f.rtl?39:37,o=f.rtl?37:39;t===a&&i.length&&!i.attr("disabled")&&f._zoomSlideShow("prev",n),t===o&&r.length&&!r.attr("disabled")&&f._zoomSlideShow("next",n)})},_zoomPreview:function(e){var t,i=this.$modal;if(!e.length)throw"Cannot zoom to detailed preview!";Y.initModal(i),i.html(this._getModalContent()),t=e.closest(Y.FRAMES),this._setZoomContent(t),i.modal("show"),this._initZoomButtons()},_zoomSlideShow:function(e,t){var i,r,n,a=this,o=a.$modal.find(".kv-zoom-actions .btn-"+e),l=a.getFrames().toArray(),s=l.length;if(!o.attr("disabled")){for(r=0;r<s;r++)if(K(l[r]).attr("id")===t){n="prev"===e?r-1:r+1;break}n<0||s<=n||!l[n]||((i=K(l[n])).length&&a._setZoomContent(i,!0),a._initZoomButtons(),a._raise("filezoom"+e,{previewId:t,modal:a.$modal}))}},_initZoomButton:function(){var t=this;t.$preview.find(".kv-file-zoom").each(function(){var e=K(this);t._handler(e,"click",function(){t._zoomPreview(e)})})},_inputFileCount:function(){return this.$element.get(0).files.length},_refreshPreview:function(){var e,t=this;t._inputFileCount()&&t.showPreview&&t.isPreviewable&&(t.isAjaxUpload?(e=t.getFileStack(),t.filestack=[],e.length?t._clearFileInput():e=t.$element.get(0).files):e=t.$element.get(0).files,e&&e.length&&(t.readFiles(e),t._setFileDropZoneTitle()))},_clearObjects:function(e){e.find("video audio").each(function(){this.pause(),K(this).remove()}),e.find("img object div").each(function(){K(this).remove()})},_clearFileInput:function(){var e,t,i,r=this.$element;this._inputFileCount()&&(e=r.closest("form"),t=K(document.createElement("form")),i=K(document.createElement("div")),r.before(i),e.length?e.after(t):i.after(t),t.append(r).trigger("reset"),i.before(r).remove(),t.remove())},_resetUpload:function(){var e=this;e.uploadCache={content:[],config:[],tags:[],append:!0},e.uploadCount=0,e.uploadStatus={},e.uploadLog=[],e.uploadAsyncCount=0,e.loadedImages=[],e.totalImagesCount=0,e.$btnUpload.removeAttr("disabled"),e._setProgress(0),e.$progress.hide(),e._resetErrors(!1),e.ajaxAborted=!1,e.ajaxRequests=[],e._resetCanvas(),e.cacheInitialPreview={},e.overwriteInitial&&(e.initialPreview=[],e.initialPreviewConfig=[],e.initialPreviewThumbTags=[],e.previewCache.data={content:[],config:[],tags:[]})},_resetCanvas:function(){var e=this;e.canvas&&e.imageCanvasContext&&e.imageCanvasContext.clearRect(0,0,e.canvas.width,e.canvas.height)},_hasInitialPreview:function(){return!this.overwriteInitial&&this.previewCache.count()},_resetPreview:function(){var e,t,i=this;i.previewCache.count()?(e=i.previewCache.out(),i._setPreviewContent(e.content),i._setInitThumbAttr(),t=i.initialCaption?i.initialCaption:e.caption,i._setCaption(t)):(i._clearPreview(),i._initCaption()),i.showPreview&&(i._initZoom(),i._initSortable())},_clearDefaultPreview:function(){this.$preview.find(".file-default-preview").remove()},_validateDefaultPreview:function(){var e=this;e.showPreview&&!Y.isEmpty(e.defaultPreviewContent)&&(e._setPreviewContent('<div class="file-default-preview">'+e.defaultPreviewContent+"</div>"),e.$container.removeClass("file-input-new"),e._initClickable())},_resetPreviewThumbs:function(e){var t,i=this;if(e)return i._clearPreview(),void i.clearStack();i._hasInitialPreview()?(t=i.previewCache.out(),i._setPreviewContent(t.content),i._setInitThumbAttr(),i._setCaption(t.caption),i._initPreviewActions()):i._clearPreview()},_getLayoutTemplate:function(e){var t=this.layoutTemplates[e];return Y.isEmpty(this.customLayoutTags)?t:Y.replaceTags(t,this.customLayoutTags)},_getPreviewTemplate:function(e){var t=this.previewTemplates[e];return Y.isEmpty(this.customPreviewTags)?t:Y.replaceTags(t,this.customPreviewTags)},_getOutData:function(e,t,i){var r=this;return e=e||{},t=t||{},i=i||r.filestack.slice(0)||{},{form:r.formdata,files:i,filenames:r.filenames,filescount:r.getFilesCount(),extra:r._getExtraData(),response:t,reader:r.reader,jqXHR:e}},_getMsgSelected:function(e){var t=1===e?this.fileSingle:this.filePlural;return 0<e?this.msgSelected.replace("{n}",e).replace("{files}",t):this.msgNoFilesSelected},_getFrame:function(e){var t=K("#"+e);return t.length?t:(this._log('Invalid thumb frame with id: "'+e+'".'),null)},_getThumbs:function(e){return e=e||"",this.getFrames(":not(.file-preview-initial)"+e)},_getExtraData:function(e,t){var i=this.uploadExtraData;return"function"==typeof this.uploadExtraData&&(i=this.uploadExtraData(e,t)),i},_initXhr:function(e,n,a){var o=this;return e.upload&&e.upload.addEventListener("progress",function(e){var t=0,i=e.total,r=e.loaded||e.position;e.lengthComputable&&(t=Math.floor(r/i*100)),n?o._setAsyncUploadStatus(n,t,a):o._setProgress(t)},!1),e},_initAjaxSettings:function(){this._ajaxSettings=K.extend(!0,{},this.ajaxSettings),this._ajaxDeleteSettings=K.extend(!0,{},this.ajaxDeleteSettings)},_mergeAjaxCallback:function(e,t,i){var r,n=this._ajaxSettings,a=this.mergeAjaxCallbacks;"delete"===i&&(n=this._ajaxDeleteSettings,a=this.mergeAjaxDeleteCallbacks),r=n[e],n[e]=a&&"function"==typeof r?"before"===a?function(){r.apply(this,arguments),t.apply(this,arguments)}:function(){t.apply(this,arguments),r.apply(this,arguments)}:t},_ajaxSubmit:function(e,t,i,r,n,a){var o,l,s=this;s._raise("filepreajax",[n,a])&&(s._uploadExtra(n,a),s._initAjaxSettings(),s._mergeAjaxCallback("beforeSend",e),s._mergeAjaxCallback("success",t),s._mergeAjaxCallback("complete",i),s._mergeAjaxCallback("error",r),l=a&&s.uploadUrlThumb?s.uploadUrlThumb:s.uploadUrl,o=K.extend(!0,{},{xhr:function(){var e=K.ajaxSettings.xhr();return s._initXhr(e,n,s.getFileStack().length)},url:s._encodeURI(l),type:"POST",dataType:"json",data:s.formdata,cache:!1,processData:!1,contentType:!1},s._ajaxSettings),s.ajaxRequests.push(K.ajax(o)))},_mergeArray:function(e,t){var i=Y.cleanArray(this[e]),r=Y.cleanArray(t);this[e]=i.concat(r)},_initUploadSuccess:function(e,t,i){var r,n,a,o,l,s,d,c,p,f=this;f.showPreview&&"object"==typeof e&&!K.isEmptyObject(e)&&void 0!==e.initialPreview&&0<e.initialPreview.length&&(f.hasInitData=!0,s=e.initialPreview||[],d=e.initialPreviewConfig||[],c=e.initialPreviewThumbTags||[],r=void 0===e.append||e.append,0<s.length&&!Y.isArray(s)&&(s=s.split(f.initialPreviewDelimiter)),f._mergeArray("initialPreview",s),f._mergeArray("initialPreviewConfig",d),f._mergeArray("initialPreviewThumbTags",c),void 0!==t?i?(p=t.attr("data-fileindex"),f.uploadCache.content[p]=s[0],f.uploadCache.config[p]=d[0]||[],f.uploadCache.tags[p]=c[0]||[],f.uploadCache.append=r):(a=f.previewCache.add(s,d[0],c[0],r),n=f.previewCache.get(a,!1),o=K(document.createElement("div")).html(n).hide().insertAfter(t),(l=o.find(".kv-zoom-cache"))&&l.length&&l.insertAfter(t),t.fadeOut("slow",function(){var e=o.find(".file-preview-frame");e&&e.length&&e.insertBefore(t).fadeIn("slow").css("display:inline-block"),f._initPreviewActions(),f._clearFileInput(),Y.cleanZoomCache(f.$preview.find("#zoom-"+t.attr("id"))),t.remove(),o.remove(),f._initSortable()})):(f.previewCache.set(s,d,c,r),f._initPreview(),f._initPreviewActions()))},_initSuccessThumbs:function(){var n=this;n.showPreview&&n._getThumbs(Y.FRAMES+".file-preview-success").each(function(){var i=K(this),r=n.$preview,e=i.find(".kv-file-remove");e.removeAttr("disabled"),n._handler(e,"click",function(){var e=i.attr("id"),t=n._raise("filesuccessremove",[e,i.attr("data-fileindex")]);Y.cleanMemory(i),!1!==t&&i.fadeOut("slow",function(){Y.cleanZoomCache(r.find("#zoom-"+e)),i.remove(),n.getFrames().length||n.reset()})})})},_checkAsyncComplete:function(){var e,t,i=this;for(t=0;t<i.filestack.length;t++)if(i.filestack[t]&&(e=i.previewInitId+"-"+t,-1===K.inArray(e,i.uploadLog)))return!1;return i.uploadAsyncCount===i.uploadLog.length},_uploadExtra:function(e,t){var i=this,r=i._getExtraData(e,t);0!==r.length&&K.each(r,function(e,t){i.formdata.append(e,t)})},_uploadSingle:function(a,o){var n,l,e,s,t,d,i,r,c,p,f,u=this,m=u.getFileStack().length,h=new FormData,g=u.previewInitId+"-"+a,v=0<u.filestack.length||!K.isEmptyObject(u.uploadExtraData),w=K("#"+g).find(".file-thumb-progress"),b={id:g,index:a};u.formdata=h,u.showPreview&&(l=K("#"+g+":not(.file-preview-initial)"),s=l.find(".kv-file-upload"),t=l.find(".kv-file-remove"),w.show()),0===m||!v||s&&s.hasClass("disabled")||u._abort(b)||(f=function(e,t){d||u.updateStack(e,void 0),u.uploadLog.push(t),u._checkAsyncComplete()&&(u.fileBatchCompleted=!0)},e=function(){var t,i,r,n=u.uploadCache,a=0,o=u.cacheInitialPreview;u.fileBatchCompleted&&(o&&o.content&&(a=o.content.length),setTimeout(function(){var e=0===u.getFileStack(!0).length;if(u.showPreview){if(u.previewCache.set(n.content,n.config,n.tags,n.append),a){for(i=0;i<n.content.length;i++)r=i+a,o.content[r]=n.content[i],o.config.length&&(o.config[r]=n.config[i]),o.tags.length&&(o.tags[r]=n.tags[i]);u.initialPreview=Y.cleanArray(o.content),u.initialPreviewConfig=Y.cleanArray(o.config),u.initialPreviewThumbTags=Y.cleanArray(o.tags)}else u.initialPreview=n.content,u.initialPreviewConfig=n.config,u.initialPreviewThumbTags=n.tags;u.cacheInitialPreview={},u.hasInitData&&(u._initPreview(),u._initPreviewActions())}u.unlock(e),e&&u._clearFileInput(),t=u.$preview.find(".file-preview-initial"),u.uploadAsync&&t.length&&(Y.addCss(t,Y.SORT_CSS),u._initSortable()),u._raise("filebatchuploadcomplete",[u.filestack,u._getExtraData()]),u.uploadCount=0,u.uploadStatus={},u.uploadLog=[],u._setProgress(101),u.ajaxAborted=!1},100))},i=function(e){n=u._getOutData(e),u.fileBatchCompleted=!1,o||(u.ajaxAborted=!1),u.showPreview&&(l.hasClass("file-preview-success")||(u._setThumbStatus(l,"Loading"),Y.addCss(l,"file-uploading")),s.attr("disabled",!0),t.attr("disabled",!0)),o||u.lock(),u._raise("filepreupload",[n,g,a]),K.extend(!0,b,n),u._abort(b)&&(e.abort(),o||(u._setThumbStatus(l,"New"),l.removeClass("file-uploading"),s.removeAttr("disabled"),t.removeAttr("disabled"),u.unlock()),u._setProgressCancelled())},r=function(e,t,i){var r=u.showPreview&&l.attr("id")?l.attr("id"):g;n=u._getOutData(i,e),K.extend(!0,b,n),setTimeout(function(){Y.isEmpty(e)||Y.isEmpty(e.error)?(u.showPreview&&(u._setThumbStatus(l,"Success"),s.hide(),u._initUploadSuccess(e,l,o),u._setProgress(101,w)),u._raise("fileuploaded",[n,r,a]),o?f(a,r):u.updateStack(a,void 0)):(d=!0,u._showUploadError(e.error,b),u._setPreviewError(l,a,u.filestack[a],u.retryErrorUploads),u.retryErrorUploads||s.hide(),o&&f(a,r),u._setProgress(101,K("#"+r).find(".file-thumb-progress"),u.msgUploadError))},100)},c=function(){setTimeout(function(){u.showPreview&&(s.removeAttr("disabled"),t.removeAttr("disabled"),l.removeClass("file-uploading")),o?e():(u.unlock(!1),u._clearFileInput()),u._initSuccessThumbs()},100)},p=function(e,t,i){var r=u.ajaxOperations.uploadThumb,n=u._parseError(r,e,i,o&&u.filestack[a].name?u.filestack[a].name:null);d=!0,setTimeout(function(){o&&f(a,g),u.uploadStatus[g]=100,u._setPreviewError(l,a,u.filestack[a],u.retryErrorUploads),u.retryErrorUploads||s.hide(),K.extend(!0,b,u._getOutData(e)),u._setProgress(101,w,u.msgAjaxProgressError.replace("{operation}",r)),u._setProgress(101,K("#"+g).find(".file-thumb-progress"),u.msgUploadError),u._showUploadError(n,b)},100)},h.append(u.uploadFileAttr,u.filestack[a],u.filenames[a]),h.append("file_id",a),u._ajaxSubmit(i,r,c,p,g,a))},_uploadBatch:function(){var e,t,i,r,l,s=this,n=s.filestack,o=n.length,a=0<s.filestack.length||!K.isEmptyObject(s.uploadExtraData);s.formdata=new FormData,0!==o&&a&&!s._abort({})&&(l=function(){K.each(n,function(e){s.updateStack(e,void 0)}),s._clearFileInput()},e=function(e){s.lock();var t=s._getOutData(e);s.ajaxAborted=!1,s.showPreview&&s._getThumbs().each(function(){var e=K(this),t=e.find(".kv-file-upload"),i=e.find(".kv-file-remove");e.hasClass("file-preview-success")||(s._setThumbStatus(e,"Loading"),Y.addCss(e,"file-uploading")),t.attr("disabled",!0),i.attr("disabled",!0)}),s._raise("filebatchpreupload",[t]),s._abort(t)&&(e.abort(),s._getThumbs().each(function(){var e=K(this),t=e.find(".kv-file-upload"),i=e.find(".kv-file-remove");e.hasClass("file-preview-loading")&&(s._setThumbStatus(e,"New"),e.removeClass("file-uploading")),t.removeAttr("disabled"),i.removeAttr("disabled")}),s._setProgressCancelled())},t=function(e,t,i){var r=s._getOutData(i,e),n=0,a=s._getThumbs(":not(.file-preview-success)"),o=Y.isEmpty(e)||Y.isEmpty(e.errorkeys)?[]:e.errorkeys;Y.isEmpty(e)||Y.isEmpty(e.error)?(s._raise("filebatchuploadsuccess",[r]),l(),s.showPreview?(a.each(function(){var e=K(this);s._setThumbStatus(e,"Success"),e.removeClass("file-uploading"),e.find(".kv-file-upload").hide().removeAttr("disabled")}),s._initUploadSuccess(e)):s.reset(),s._setProgress(101)):(s.showPreview&&(a.each(function(){var e=K(this),t=e.attr("data-fileindex");e.removeClass("file-uploading"),e.find(".kv-file-upload").removeAttr("disabled"),e.find(".kv-file-remove").removeAttr("disabled"),0===o.length||-1!==K.inArray(n,o)?(s._setPreviewError(e,t,s.filestack[t],s.retryErrorUploads),s.retryErrorUploads||(e.find(".kv-file-upload").hide(),s.updateStack(t,void 0))):(e.find(".kv-file-upload").hide(),s._setThumbStatus(e,"Success"),s.updateStack(t,void 0)),e.hasClass("file-preview-error")&&!s.retryErrorUploads||n++}),s._initUploadSuccess(e)),s._showUploadError(e.error,r,"filebatchuploaderror"),s._setProgress(101,s.$progress,s.msgUploadError))},r=function(){s.unlock(),s._initSuccessThumbs(),s._clearFileInput(),s._raise("filebatchuploadcomplete",[s.filestack,s._getExtraData()])},i=function(e,t,i){var r=s._getOutData(e),n=s.ajaxOperations.uploadBatch,a=s._parseError(n,e,i);s._showUploadError(a,r,"filebatchuploaderror"),s.uploadFileCount=o-1,s.showPreview&&(s._getThumbs().each(function(){var e=K(this),t=e.attr("data-fileindex");e.removeClass("file-uploading"),void 0!==s.filestack[t]&&s._setPreviewError(e)}),s._getThumbs().removeClass("file-uploading"),s._getThumbs(" .kv-file-upload").removeAttr("disabled"),s._getThumbs(" .kv-file-delete").removeAttr("disabled"),s._setProgress(101,s.$progress,s.msgAjaxProgressError.replace("{operation}",n)))},K.each(n,function(e,t){Y.isEmpty(n[e])||s.formdata.append(s.uploadFileAttr,t,s.filenames[e])}),s._ajaxSubmit(e,t,r,i))},_uploadExtraOnly:function(){var e,t,i,r,o=this,l={};o.formdata=new FormData,o._abort(l)||(e=function(e){o.lock();var t=o._getOutData(e);o._raise("filebatchpreupload",[t]),o._setProgress(50),l.data=t,l.xhr=e,o._abort(l)&&(e.abort(),o._setProgressCancelled())},t=function(e,t,i){var r=o._getOutData(i,e);Y.isEmpty(e)||Y.isEmpty(e.error)?(o._raise("filebatchuploadsuccess",[r]),o._clearFileInput(),o._initUploadSuccess(e),o._setProgress(101)):o._showUploadError(e.error,r,"filebatchuploaderror")},i=function(){o.unlock(),o._clearFileInput(),o._raise("filebatchuploadcomplete",[o.filestack,o._getExtraData()])},r=function(e,t,i){var r=o._getOutData(e),n=o.ajaxOperations.uploadExtra,a=o._parseError(n,e,i);l.data=r,o._showUploadError(a,r,"filebatchuploaderror"),o._setProgress(101,o.$progress,o.msgAjaxProgressError.replace("{operation}",n))},o._ajaxSubmit(e,t,i,r))},_deleteFileIndex:function(e){var t=this,i=e.attr("data-fileindex"),r=t.reversePreviewOrder;"init_"===i.substring(0,5)&&(i=parseInt(i.replace("init_","")),t.initialPreview=Y.spliceArray(t.initialPreview,i,r),t.initialPreviewConfig=Y.spliceArray(t.initialPreviewConfig,i,r),t.initialPreviewThumbTags=Y.spliceArray(t.initialPreviewThumbTags,i,r),t.getFrames().each(function(){var e=K(this),t=e.attr("data-fileindex");"init_"===t.substring(0,5)&&(t=parseInt(t.replace("init_","")),i<t&&(t--,e.attr("data-fileindex","init_"+t)))}),t.uploadAsync&&(t.cacheInitialPreview=t.getPreview()))},_initFileActions:function(){var c=this,p=c.$preview;c.showPreview&&(c._initZoomButton(),c.getFrames(" .kv-file-remove").each(function(){var n,a,o,e=K(this),l=e.closest(Y.FRAMES),s=l.attr("id"),d=l.attr("data-fileindex");c._handler(e,"click",function(){if(!1===c._raise("filepreremove",[s,d])||!c._validateMinCount())return!1;n=l.hasClass("file-preview-error"),Y.cleanMemory(l),l.fadeOut("slow",function(){Y.cleanZoomCache(p.find("#zoom-"+s)),c.updateStack(d,void 0),c._clearObjects(l),l.remove(),s&&n&&c.$errorContainer.find('li[data-file-id="'+s+'"]').fadeOut("fast",function(){K(this).remove(),c._errorsExist()||c._resetErrors()}),c._clearFileInput();var e=c.getFileStack(!0),t=c.previewCache.count(),i=e.length,r=c.showPreview&&c.getFrames().length;0!==i||0!==t||r?(o=1<(a=t+i)?c._getMsgSelected(a):e[0]?c._getFileNames()[0]:"",c._setCaption(o)):c.reset(),c._raise("fileremoved",[s,d])})})}),c.getFrames(" .kv-file-upload").each(function(){var i=K(this);c._handler(i,"click",function(){var e=i.closest(Y.FRAMES),t=e.attr("data-fileindex");c.$progress.hide(),e.hasClass("file-preview-error")&&!c.retryErrorUploads||c._uploadSingle(t,!1)})}))},_initPreviewActions:function(){var u=this,m=u.$preview,h=u.deleteExtraData||{},e=Y.FRAMES+" .kv-file-remove",t=u.fileActionSettings,g=t.removeClass,v=t.removeErrorClass,w=function(){var e=u.isAjaxUpload?u.previewCache.count():u._inputFileCount();m.find(Y.FRAMES).length||e||(u._setCaption(""),u.reset(),u.initialCaption="")};u._initZoomButton(),m.find(e).each(function(){var e,t,i,a=K(this),r=a.data("url")||u.deleteUrl,o=a.data("key");if(!Y.isEmpty(r)&&void 0!==o){var n,l,s,d,c=a.closest(Y.FRAMES),p=u.previewCache.data,f=c.attr("data-fileindex");f=parseInt(f.replace("init_","")),s=Y.isEmpty(p.config)&&Y.isEmpty(p.config[f])?null:p.config[f],"function"==typeof(d=Y.isEmpty(s)||Y.isEmpty(s.extra)?h:s.extra)&&(d=d()),l={id:a.attr("id"),key:o,extra:d},e=function(e){u.ajaxAborted=!1,u._raise("filepredelete",[o,e,d]),u._abort()?e.abort():(a.removeClass(v),Y.addCss(c,"file-uploading"),Y.addCss(a,"disabled "+g))},t=function(e,t,i){var r,n;if(!Y.isEmpty(e)&&!Y.isEmpty(e.error))return l.jqXHR=i,l.response=e,u._showError(e.error,l,"filedeleteerror"),c.removeClass("file-uploading"),a.removeClass("disabled "+g).addClass(v),void w();c.removeClass("file-uploading").addClass("file-deleted"),c.fadeOut("slow",function(){f=parseInt(c.attr("data-fileindex").replace("init_","")),u.previewCache.unset(f),u._deleteFileIndex(c),r=u.previewCache.count(),n=0<r?u._getMsgSelected(r):"",u._setCaption(n),u._raise("filedeleted",[o,i,d]),Y.cleanZoomCache(m.find("#zoom-"+c.attr("id"))),u._clearObjects(c),c.remove(),w()})},i=function(e,t,i){var r=u.ajaxOperations.deleteThumb,n=u._parseError(r,e,i);l.jqXHR=e,l.response={},u._showError(n,l,"filedeleteerror"),c.removeClass("file-uploading"),a.removeClass("disabled "+g).addClass(v),w()},u._initAjaxSettings(),u._mergeAjaxCallback("beforeSend",e,"delete"),u._mergeAjaxCallback("success",t,"delete"),u._mergeAjaxCallback("error",i,"delete"),n=K.extend(!0,{},{url:u._encodeURI(r),type:"POST",dataType:"json",data:K.extend(!0,{},{key:o},d)},u._ajaxDeleteSettings),u._handler(a,"click",function(){if(!u._validateMinCount())return!1;u.ajaxAborted=!1,u._raise("filebeforedelete",[o,d]),u.ajaxAborted instanceof Promise?u.ajaxAborted.then(function(e){e||K.ajax(n)}):u.ajaxAborted||K.ajax(n)})}})},_hideFileIcon:function(){this.overwriteInitial&&this.$captionContainer.removeClass("icon-visible")},_showFileIcon:function(){Y.addCss(this.$captionContainer,"icon-visible")},_getSize:function(e){var t,i,r,n=parseFloat(e),a=this.fileSizeGetter;return K.isNumeric(e)&&K.isNumeric(n)?(r="function"==typeof a?a(n):0===n?"0.00 B":(t=Math.floor(Math.log(n)/Math.log(1024)),i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],1*(n/Math.pow(1024,t)).toFixed(2)+" "+i[t]),this._getLayoutTemplate("size").replace("{sizeText}",r)):""},_getFileType:function(e){return this.mimeTypeAliases[e]||e},_generatePreviewTemplate:function(l,e,s,d,c,t,i,p,r,f,u){var n,m=this,h=m.slug(s),a="",g="",o=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,v=o<400?m.previewSettingsSmall[l]||m.defaults.previewSettingsSmall[l]:m.previewSettings[l]||m.defaults.previewSettings[l],w=r||m._renderFileFooter(h,i,"auto",t),b=m._getPreviewIcon(s),_="type-default",x=b&&m.preferIconicPreview,C=b&&m.preferIconicZoomPreview;return v&&K.each(v,function(e,t){g+=e+":"+t+";"}),n=function(e,t,i,r){var n=i?"zoom-"+c:c,a=m._getPreviewTemplate(e),o=(p||"")+" "+r;return m.frameClass&&(o=m.frameClass+" "+o),i&&(o=o.replace(" "+Y.SORT_CSS,"")),a=m._parseFilePreviewIcon(a,s),"text"===e&&(t=Y.htmlEncode(t)),"object"!==l||d||K.each(m.defaults.fileTypeSettings,function(e,t){"object"!==e&&"other"!==e&&t(s,d)&&(_="type-"+e)}),a.setTokens({previewId:n,caption:h,frameClass:o,type:m._getFileType(d),fileindex:f,typeCss:_,footer:w,data:t,template:u||l,style:g?'style="'+g+'"':""})},f=f||c.slice(c.lastIndexOf("-")+1),m.fileActionSettings.showZoom&&(a=n(C?"other":l,e,!0,"kv-zoom-thumb")),a="\n"+m._getLayoutTemplate("zoomCache").replace("{zoomContent}",a),n(x?"other":l,e,!1,"kv-preview-thumb")+a},_addToPreview:function(e,t){return this.reversePreviewOrder?e.prepend(t):e.append(t)},_previewDefault:function(e,t,i){var r=this,n=r.$preview;if(r.showPreview){var a,o=e?e.name:"",l=e?e.type:"",s=e.size||0,d=r.slug(o),c=!0===i&&!r.isAjaxUpload,p=Y.createObjectURL(e);r._clearDefaultPreview(),a=r._generatePreviewTemplate("other",p,o,l,t,c,s),r._addToPreview(n,a),r._setThumbAttr(t,d,s),!0===i&&r.isAjaxUpload&&r._setThumbStatus(K("#"+t),"Error")}},_previewFile:function(e,t,i,r,n,a){if(this.showPreview){var o,l=this,s=t?t.name:"",d=a.type,c=a.name,p=l._parseFileType(d,s),f=l.allowedPreviewTypes,u=l.allowedPreviewMimeTypes,m=l.$preview,h=t.size||0,g=f&&0<=f.indexOf(p),v=u&&-1!==u.indexOf(d),w="text"===p||"html"===p||"image"===p?i.target.result:n;if("html"===p&&l.purifyHtml&&window.DOMPurify&&(w=window.DOMPurify.sanitize(w)),g||v){o=l._generatePreviewTemplate(p,w,s,d,r,!1,h),l._clearDefaultPreview(),l._addToPreview(m,o);var b=m.find("#"+r+" img");l._validateImageOrientation(b,t,r,c,d,h,w)}else l._previewDefault(t,r);l._setThumbAttr(r,c,h),l._initSortable()}},_setThumbAttr:function(e,t,i){var r=K("#"+e);r.length&&(i=i&&0<i?this._getSize(i):"",r.data({caption:t,size:i}))},_setInitThumbAttr:function(){var e,t,i,r,n=this.previewCache.data,a=this.previewCache.count();if(0!==a)for(var o=0;o<a;o++)e=n.config[o],r=this.previewInitId+"-init_"+o,t=Y.ifSet("caption",e,Y.ifSet("filename",e)),i=Y.ifSet("size",e),this._setThumbAttr(r,t,i)},_slugDefault:function(e){return Y.isEmpty(e)?"":String(e).replace(/[\[\]\/\{}:;#%=\(\)\*\+\?\\\^\$\|<>&"']/g,"_")},_updateFileDetails:function(e){var t=this,i=t.$element,r=t.getFileStack(),n=Y.isIE(9)&&Y.findFileName(i.val())||i[0].files[0]&&i[0].files[0].name||r.length&&r[0].name||"",a=t.slug(n),o=t.isAjaxUpload?r.length:e,l=t.previewCache.count()+o,s=1===o?a:t._getMsgSelected(l);t.isError?(t.$previewContainer.removeClass("file-thumb-loading"),t.$previewStatus.html(""),t.$captionContainer.removeClass("icon-visible")):t._showFileIcon(),t._setCaption(s,t.isError),t.$container.removeClass("file-input-new file-input-ajax-new"),1===arguments.length&&t._raise("fileselect",[e,a]),t.previewCache.count()&&t._initPreviewActions()},_setThumbStatus:function(e,t){if(this.showPreview){var i="indicator"+t,r=i+"Title",n="file-preview-"+t.toLowerCase(),a=e.find(".file-upload-indicator"),o=this.fileActionSettings;e.removeClass("file-preview-success file-preview-error file-preview-loading"),"Success"===t&&e.find(".file-drag-handle").remove(),a.html(o[i]),a.attr("title",o[r]),e.addClass(n),"Error"!==t||this.retryErrorUploads||e.find(".kv-file-upload").attr("disabled",!0)}},_setProgressCancelled:function(){this._setProgress(101,this.$progress,this.msgCancelled)},_setProgress:function(e,t,i){var r,n=this,a=Math.min(e,100),o=n.progressUploadThreshold,l=e<=100?n.progressTemplate:n.progressCompleteTemplate,s=a<100?n.progressTemplate:i?n.progressErrorTemplate:l;t=t||n.$progress,Y.isEmpty(s)||(r=o&&o<a&&e<=100?s.setTokens({percent:o,status:n.msgUploadThreshold}):s.setTokens({percent:a,status:100<e?n.msgUploadEnd:a+"%"}),t.html(r),i&&t.find('[role="progressbar"]').html(i))},_setFileDropZoneTitle:function(){var e,t=this,i=t.$container.find(".file-drop-zone"),r=t.dropZoneTitle;t.isClickable&&(e=Y.isEmpty(t.$element.attr("multiple"))?t.fileSingle:t.filePlural,r+=t.dropZoneClickTitle.replace("{files}",e)),i.find("."+t.dropZoneTitleClass).remove(),!t.showPreview||0===i.length||0<t.getFileStack().length||!t.dropZoneEnabled||!t.isAjaxUpload&&t.$element.files||(0===i.find(Y.FRAMES).length&&Y.isEmpty(t.defaultPreviewContent)&&i.prepend('<div class="'+t.dropZoneTitleClass+'">'+r+"</div>"),t.$container.removeClass("file-input-new"),Y.addCss(t.$container,"file-input-ajax-new"))},_setAsyncUploadStatus:function(e,t,i){var r=0;this._setProgress(t,K("#"+e).find(".file-thumb-progress")),this.uploadStatus[e]=t,K.each(this.uploadStatus,function(e,t){r+=t}),this._setProgress(Math.floor(r/i))},_validateMinCount:function(){var e=this,t=e.isAjaxUpload?e.getFileStack().length:e._inputFileCount();return!(e.validateInitialCount&&0<e.minFileCount&&e._getFileCount(t-1)<e.minFileCount)||(e._noFilesError({}),!1)},_getFileCount:function(e){var t=0;return this.validateInitialCount&&!this.overwriteInitial&&(t=this.previewCache.count(),e+=t),e},_getFileId:function(e){var t,i=this.generateFileId;return"function"==typeof i?i(e,event):e&&(t=String(e.webkitRelativePath||e.fileName||e.name||null))?e.size+"-"+t.replace(/[^0-9a-zA-Z_-]/gim,""):null},_getFileName:function(e){return e&&e.name?this.slug(e.name):void 0},_getFileIds:function(t){return this.fileids.filter(function(e){return t?void 0!==e:null!=e})},_getFileNames:function(t){return this.filenames.filter(function(e){return t?void 0!==e:null!=e})},_setPreviewError:function(e,t,i,r){var n=this;void 0!==t&&n.updateStack(t,i),n.showPreview&&(!n.removeFromPreviewOnError||r?(n._setThumbStatus(e,"Error"),n._refreshUploadButton(e,r)):e.remove())},_refreshUploadButton:function(e,t){var i=e.find(".kv-file-upload"),r=this.fileActionSettings,n=r.uploadIcon,a=r.uploadTitle;i.length&&(t&&(n=r.uploadRetryIcon,a=r.uploadRetryTitle),i.attr("title",a).html(n))},_checkDimensions:function(e,t,i,r,n,a,o){var l,s,d,c="Small"===t?"min":"max",p=this[c+"Image"+a];!Y.isEmpty(p)&&i.length&&(d=i[0],s="Width"===a?d.naturalWidth||d.width:d.naturalHeight||d.height,("Small"===t?p<=s:s<=p)||(l=this["msgImage"+a+t].setTokens({name:n,size:p}),this._showUploadError(l,o),this._setPreviewError(r,e,null)))},_getExifObj:function(e){var t=null;try{t=window.piexif?window.piexif.load(e):null}catch(e){t=null}return t||this._log("Error loading the piexif.js library."),t},_validateImageOrientation:function(e,t,i,r,n,a,o){var l,s,d=this;l=e.length&&d.autoOrientImage?d._getExifObj(o):null,(s=l?l["0th"][piexif.ImageIFD.Orientation]:null)&&(Y.setImageOrientation(e,d.$preview.find("#zoom-"+i+" img"),s),d._raise("fileimageoriented",{$img:e,file:t})),d._validateImage(i,r,n,a,o,l)},_validateImage:function(e,t,i,r,n,a){var o,l,s=this,d=s.$preview,c=d.find("#"+e),p=c.attr("data-fileindex"),f=c.find("img");t=t||"Untitled",f.one("load",function(){l=c.width(),d.width()<l&&f.css("width","100%"),o={ind:p,id:e},s._checkDimensions(p,"Small",f,c,t,"Width",o),s._checkDimensions(p,"Small",f,c,t,"Height",o),s.resizeImage||(s._checkDimensions(p,"Large",f,c,t,"Width",o),s._checkDimensions(p,"Large",f,c,t,"Height",o)),s._raise("fileimageloaded",[e]),s.loadedImages.push({ind:p,img:f,thumb:c,pid:e,typ:i,siz:r,validated:!1,imgData:n,exifObj:a}),c.data("exif",a),s._validateAllImages()}).one("error",function(){s._raise("fileimageloaderror",[e])}).each(function(){this.complete?K(this).trigger("load"):this.error&&K(this).trigger("error")})},_validateAllImages:function(){var e,t,i,r=this,n={val:0},a=r.loadedImages.length,o=r.resizeIfSizeMoreThan;if(a===r.totalImagesCount&&(r._raise("fileimagesloaded"),r.resizeImage))for(e=0;e<r.loadedImages.length;e++)(t=r.loadedImages[e]).validated||((i=t.siz)&&1e3*o<i&&r._getResizedImage(t,n,a),r.loadedImages[e].validated=!0)},_getResizedImage:function(e,t,i){var r,n,a,o,l,s,d,c=this,p=K(e.img)[0],f=p.naturalWidth,u=p.naturalHeight,m=1,h=c.maxImageWidth||f,g=c.maxImageHeight||u,v=!(!f||!u),w=c.imageCanvas,b=c.imageCanvasContext,_=e.typ,x=e.pid,C=e.ind,y=e.thumb,k=e.exifObj;if(l=function(e,t,i){c.isAjaxUpload?c._showUploadError(e,t,i):c._showError(e,t,i),c._setPreviewError(y,C)},c.filestack[C]&&v&&!(f<=h&&u<=g)||(v&&c.filestack[C]&&c._raise("fileimageresized",[x,C]),t.val++,t.val===i&&c._raise("fileimagesresized"),v)){_=_||c.resizeDefaultImageType,n=h<f,a=g<u,m="width"===c.resizePreference?n?h/f:a?g/u:1:a?g/u:n?h/f:1,c._resetCanvas(),f*=m,u*=m,w.width=f,w.height=u;try{b.drawImage(p,0,0,f,u),o=w.toDataURL(_,c.resizeQuality),k&&(d=window.piexif.dump(k),o=window.piexif.insert(d,o)),r=Y.dataURI2Blob(o),c.filestack[C]=r,c._raise("fileimageresized",[x,C]),t.val++,t.val===i&&c._raise("fileimagesresized",[void 0,void 0]),r instanceof Blob||l(c.msgImageResizeError,{id:x,index:C},"fileimageresizeerror")}catch(e){t.val++,t.val===i&&c._raise("fileimagesresized",[void 0,void 0]),s=c.msgImageResizeException.replace("{errors}",e.message),l(s,{id:x,index:C},"fileimageresizeexception")}}else l(c.msgImageResizeError,{id:x,index:C},"fileimageresizeerror")},_initBrowse:function(e){var t=this.$element;this.showBrowse?this.$btnFile=e.find(".btn-file").append(t):(t.appendTo(e).attr("tabindex",-1),Y.addCss(t,"file-no-browse"))},_initClickable:function(){var i,e,r=this;r.isClickable&&(i=r.$dropZone,r.isAjaxUpload||(e=r.$preview.find(".file-default-preview")).length&&(i=e),Y.addCss(i,"clickable"),i.attr("tabindex",-1),r._handler(i,"click",function(e){var t=K(e.target);K(r.elErrorContainer+":visible").length||t.parents(".file-preview-thumbnails").length&&!t.parents(".file-default-preview").length||(r.$element.data("zoneClicked",!0).trigger("click"),i.blur())}))},_initCaption:function(){var e=this.initialCaption||"";return this.overwriteInitial||Y.isEmpty(e)?(this.$caption.val(""),!1):(this._setCaption(e),!0)},_setCaption:function(e,t){var i,r,n,a,o,l=this,s=l.getFileStack();if(l.$caption.length){if(l.$captionContainer.removeClass("icon-visible"),t)i=K("<div>"+l.msgValidationError+"</div>").text(),a=s.length,o=a?1===a&&s[0]?l._getFileNames()[0]:l._getMsgSelected(a):l._getMsgSelected(l.msgNo),r=Y.isEmpty(e)?o:e,n='<span class="'+l.msgValidationErrorClass+'">'+l.msgValidationErrorIcon+"</span>";else{if(Y.isEmpty(e))return;i=K("<div>"+e+"</div>").text(),r=i,n=l._getLayoutTemplate("fileIcon")}l.$captionContainer.addClass("icon-visible"),l.$caption.attr("title",i).val(r),l.$captionIcon.html(n)}},_createContainer:function(){var e=this,t={class:"file-input file-input-new"+(e.rtl?" kv-rtl":"")},i=K(document.createElement("div")).attr(t).html(e._renderMain());return i.insertBefore(e.$element),e._initBrowse(i),e.theme&&i.addClass("theme-"+e.theme),i},_refreshContainer:function(){var e=this,t=e.$container,i=e.$element;i.insertAfter(t),t.html(e._renderMain()),e._initBrowse(t),e._validateDisabled()},_validateDisabled:function(){this.$caption.attr({readonly:this.isDisabled})},_renderMain:function(){var e=this,t=e.dropZoneEnabled?" file-drop-zone":"file-drop-disabled",i=e.showClose?e._getLayoutTemplate("close"):"",r=e.showPreview?e._getLayoutTemplate("preview").setTokens({class:e.previewClass,dropClass:t}):"",n=e.isDisabled?e.captionClass+" file-caption-disabled":e.captionClass,a=e.captionTemplate.setTokens({class:n+" kv-fileinput-caption"});return e.mainTemplate.setTokens({class:e.mainClass+(!e.showBrowse&&e.showCaption?" no-browse":""),preview:r,close:i,caption:a,upload:e._renderButton("upload"),remove:e._renderButton("remove"),cancel:e._renderButton("cancel"),browse:e._renderButton("browse")})},_renderButton:function(e){var t=this,i=t._getLayoutTemplate("btnDefault"),r=t[e+"Class"],n=t[e+"Title"],a=t[e+"Icon"],o=t[e+"Label"],l=t.isDisabled?" disabled":"",s="button";switch(e){case"remove":if(!t.showRemove)return"";break;case"cancel":if(!t.showCancel)return"";r+=" kv-hidden";break;case"upload":if(!t.showUpload)return"";t.isAjaxUpload&&!t.isDisabled?i=t._getLayoutTemplate("btnLink").replace("{href}",t.uploadUrl):s="submit";break;case"browse":if(!t.showBrowse)return"";i=t._getLayoutTemplate("btnBrowse");break;default:return""}return r+="browse"===e?" btn-file":" fileinput-"+e+" fileinput-"+e+"-button",Y.isEmpty(o)||(o=' <span class="'+t.buttonLabelClass+'">'+o+"</span>"),i.setTokens({type:s,css:r,title:n,status:l,icon:a,label:o})},_renderThumbProgress:function(){return'<div class="file-thumb-progress kv-hidden">'+this.progressTemplate.setTokens({percent:"0",status:this.msgUploadBegin})+"</div>"},_renderFileFooter:function(e,t,i,r){var n,a=this,o=a.fileActionSettings,l=o.showRemove,s=o.showDrag,d=o.showUpload,c=o.showZoom,p=a._getLayoutTemplate("footer"),f=a._getLayoutTemplate("indicator"),u=r?o.indicatorError:o.indicatorNew,m=r?o.indicatorErrorTitle:o.indicatorNewTitle,h=f.setTokens({indicator:u,indicatorTitle:m});return t=a._getSize(t),n=a.isAjaxUpload?p.setTokens({actions:a._renderFileActions(d,!1,l,c,s,!1,!1,!1),caption:e,size:t,width:i,progress:a._renderThumbProgress(),indicator:h}):p.setTokens({actions:a._renderFileActions(!1,!1,!1,c,s,!1,!1,!1),caption:e,size:t,width:i,progress:"",indicator:h}),n=Y.replaceTags(n,a.previewThumbTags)},_renderFileActions:function(e,t,i,r,n,a,o,l,s,d,c){if(!(e||t||i||r||n))return"";var p,f=this,u=!1===o?"":' data-url="'+o+'"',m=!1===l?"":' data-key="'+l+'"',h="",g="",v="",w="",b="",_=f._getLayoutTemplate("actions"),x=f.fileActionSettings,C=f.otherActionButtons.setTokens({dataKey:m,key:l}),y=a?x.removeClass+" disabled":x.removeClass;return i&&(h=f._getLayoutTemplate("actionDelete").setTokens({removeClass:y,removeIcon:x.removeIcon,removeTitle:x.removeTitle,dataUrl:u,dataKey:m,key:l})),e&&(g=f._getLayoutTemplate("actionUpload").setTokens({uploadClass:x.uploadClass,uploadIcon:x.uploadIcon,uploadTitle:x.uploadTitle})),t&&(v=(v=f._getLayoutTemplate("actionDownload").setTokens({downloadClass:x.downloadClass,downloadIcon:x.downloadIcon,downloadTitle:x.downloadTitle,downloadUrl:d||f.initialPreviewDownloadUrl})).setTokens({filename:c,key:l})),r&&(w=f._getLayoutTemplate("actionZoom").setTokens({zoomClass:x.zoomClass,zoomIcon:x.zoomIcon,zoomTitle:x.zoomTitle})),n&&s&&(p="drag-handle-init "+x.dragClass,b=f._getLayoutTemplate("actionDrag").setTokens({dragClass:p,dragTitle:x.dragTitle,dragIcon:x.dragIcon})),_.setTokens({delete:h,upload:g,download:v,zoom:w,drag:b,other:C})},_browse:function(e){var t=this;e&&e.isDefaultPrevented()||!t._raise("filebrowse")||(t.isError&&!t.isAjaxUpload&&t.clear(),t.$captionContainer.focus())},_filterDuplicate:function(e,t,i){var r=this._getFileId(e);r&&i&&-1<i.indexOf(r)||(i||(i=[]),t.push(e),i.push(r))},_change:function(e){var i=this;if(!i.changeTriggered){var t,r,n,a,o,l,s,d,c,p,f,u=i.$element,m=1<arguments.length,h=i.isAjaxUpload,g=[],v=m?arguments[1]:u.get(0).files,w=!h&&Y.isEmpty(u.attr("multiple"))?1:i.maxFileCount,b=i.filestack.length,_=Y.isEmpty(u.attr("multiple")),x=_&&0<b,C=i._getFileIds();if(i.reader=null,i._resetUpload(),i._hideFileIcon(),i.dropZoneEnabled&&i.$container.find(".file-drop-zone ."+i.dropZoneTitleClass).remove(),h?K.each(v,function(e,t){i._filterDuplicate(t,g,C)}):(v=e.target&&void 0===e.target.files?e.target.value?[{name:e.target.value.replace(/^.+\\/,"")}]:[]:e.target.files||{},g=v),Y.isEmpty(g)||0===g.length)return h||i.clear(),void i._raise("fileselectnone");if(i._resetErrors(),r=g.length,t=i._getFileCount(h?i.getFileStack().length+r:r),0<w&&w<t){if(!i.autoReplace||w<r)return n=i.autoReplace&&w<r?r:t,a=w,o=i.msgFilesTooMany.replace("{m}",a).replace("{n}",n),i.isError=(l=o,c=d=s=null,p=K.extend(!0,{},i._getOutData({},{},v),{id:d,index:c}),f={id:d,index:c,file:s,files:v},h?i._showUploadError(l,p):i._showError(l,f)),i.$captionContainer.removeClass("icon-visible"),i._setCaption("",!0),void i.$container.removeClass("file-input-new file-input-ajax-new");w<t&&i._resetPreviewThumbs(h)}else!h||x?(i._resetPreviewThumbs(!1),x&&i.clearStack()):!h||0!==b||i.previewCache.count()&&!i.overwriteInitial||i._resetPreviewThumbs(!0);i.isPreviewable?i.readFiles(g):i._updateFileDetails(1)}},_abort:function(e){var t,i=this;return i.ajaxAborted&&"object"==typeof i.ajaxAborted&&void 0!==i.ajaxAborted.message?((t=K.extend(!0,{},i._getOutData(),e)).abortData=i.ajaxAborted.data||{},t.abortMessage=i.ajaxAborted.message,i._setProgress(101,i.$progress,i.msgCancelled),i._showUploadError(i.ajaxAborted.message,t,"filecustomerror"),i.cancel(),!0):!!i.ajaxAborted},_resetFileStack:function(){var n=this,a=0,o=[],l=[],s=[];n._getThumbs().each(function(){var e=K(this),t=e.attr("data-fileindex"),i=n.filestack[t],r=e.attr("id");"-1"!==t&&-1!==t&&(void 0!==i?(o[a]=i,l[a]=n._getFileName(i),s[a]=n._getFileId(i),e.attr({id:n.previewInitId+"-"+a,"data-fileindex":a}),a++):e.attr({id:"uploaded-"+Y.uniqId(),"data-fileindex":"-1"}),n.$preview.find("#zoom-"+r).attr({id:"zoom-"+e.attr("id"),"data-fileindex":e.attr("data-fileindex")}))}),n.filestack=o,n.filenames=l,n.fileids=s},_isFileSelectionValid:function(e){var t=this;return e=e||0,t.required&&!t.getFilesCount()?(t.$errorContainer.html(""),t._showUploadError(t.msgFileRequired),!1):!(0<t.minFileCount&&t._getFileCount(e)<t.minFileCount)||(t._noFilesError({}),!1)},clearStack:function(){return this.filestack=[],this.filenames=[],this.fileids=[],this.$element},updateStack:function(e,t){var i=this;return i.filestack[e]=t,i.filenames[e]=i._getFileName(t),i.fileids[e]=t&&i._getFileId(t)||null,i.$element},addToStack:function(e){var t=this;return t.filestack.push(e),t.filenames.push(t._getFileName(e)),t.fileids.push(t._getFileId(e)),t.$element},getFileStack:function(t){return this.filestack.filter(function(e){return t?void 0!==e:null!=e})},getFilesCount:function(){var e=this.isAjaxUpload?this.getFileStack().length:this._inputFileCount();return this._getFileCount(e)},readFiles:function(S){this.reader=new FileReader;var F,P=this,I=P.$element,A=P.$preview,z=P.reader,D=P.$previewContainer,j=P.$previewStatus,$=P.msgLoading,U=P.msgProgress,R=P.previewInitId,B=S.length,O=P.fileTypeSettings,L=P.filestack.length,M=P.allowedFileTypes,Z=M?M.length:0,N=P.allowedFileExtensions,H=Y.isEmpty(N)?"":N.join(", "),V=P.maxFilePreviewSize&&parseFloat(P.maxFilePreviewSize),W=A.length&&(!V||isNaN(V)),q=function(e,t,i,r){var n,a=K.extend(!0,{},P._getOutData({},{},S),{id:i,index:r}),o={id:i,index:r,file:t,files:S};P._previewDefault(t,i,!0),P.isAjaxUpload?(P.addToStack(void 0),setTimeout(function(){F(r+1)},100)):B=0,P._initFileActions(),(n=K("#"+i)).find(".kv-file-upload").hide(),P.removeFromPreviewOnError&&n.remove(),P.isError=P.isAjaxUpload?P._showUploadError(e,a):P._showError(e,o),P._updateFileDetails(B)};P.loadedImages=[],P.totalImagesCount=0,K.each(S,function(e,t){var i=P.fileTypeSettings.image;i&&i(t.type)&&P.totalImagesCount++}),(F=function(c){if(Y.isEmpty(I.attr("multiple"))&&(B=1),B<=c)return P.isAjaxUpload&&0<P.filestack.length?P._raise("filebatchselected",[P.getFileStack()]):P._raise("filebatchselected",[S]),D.removeClass("file-thumb-loading"),void j.html("");var e,p,r,t,i,n,a,o,f,u,m,h,l=L+c,g=R+"-"+l,v=S[c],w=O.text,b=O.image,_=O.html,x=v&&v.name?P.slug(v.name):"",s=(v&&v.size||0)/1e3,d="",C=Y.createObjectURL(v),y=0,k="",T=0,E=function(){var e=U.setTokens({index:c+1,files:B,percent:50,name:x});setTimeout(function(){j.html(e),P._updateFileDetails(B),F(c+1)},100),P._raise("fileloaded",[v,g,c,z])};if(v){if(0<Z)for(p=0;p<Z;p++)n=M[p],a=P.msgFileTypes[n]||n,k+=0===p?a:", "+a;if(!1!==x){if(0===x.length)return r=P.msgInvalidFileName.replace("{name}",Y.htmlEncode(v.name,"[unknown]")),void q(r,v,g,c);if(Y.isEmpty(N)||(d=new RegExp("\\.("+N.join("|")+")$","i")),e=s.toFixed(2),0<P.maxFileSize&&s>P.maxFileSize)return r=P.msgSizeTooLarge.setTokens({name:x,size:e,maxSize:P.maxFileSize}),void q(r,v,g,c);if(null!==P.minFileSize&&s<=Y.getNum(P.minFileSize))return r=P.msgSizeTooSmall.setTokens({name:x,size:e,minSize:P.minFileSize}),void q(r,v,g,c);if(!Y.isEmpty(M)&&Y.isArray(M)){for(p=0;p<M.length;p+=1)t=M[p],o=O[t],y+=o&&"function"==typeof o&&o(v.type,v.name)?1:0;if(0===y)return r=P.msgInvalidFileType.setTokens({name:x,types:k}),void q(r,v,g,c)}if(0===y&&!Y.isEmpty(N)&&Y.isArray(N)&&!Y.isEmpty(d)&&(i=Y.compare(x,d),0===(y+=Y.isEmpty(i)?0:i.length)))return r=P.msgInvalidFileExtension.setTokens({name:x,extensions:H}),void q(r,v,g,c);if(!P.showPreview)return P.isAjaxUpload&&P.addToStack(v),setTimeout(function(){F(c+1),P._updateFileDetails(B)},100),void P._raise("fileloaded",[v,g,c,z]);if(!W&&V<s)return P.addToStack(v),D.addClass("file-thumb-loading"),P._previewDefault(v,g),P._initFileActions(),P._updateFileDetails(B),void F(c+1);A.length&&void 0!==FileReader?(f=w(v.type,x),u=_(v.type,x),m=b(v.type,x),j.html($.replace("{index}",c+1).replace("{files}",B)),D.addClass("file-thumb-loading"),z.onerror=function(e){P._errorHandler(e,x)},z.onload=function(e){var t,i,r,n,a,o,l,s,d=[];if(i={name:x,type:v.type},K.each(O,function(e,t){"object"!==e&&"other"!==e&&"function"==typeof t&&t(v.type,x)&&T++}),0===T){for(r=new Uint8Array(e.target.result),p=0;p<r.length;p++)n=r[p].toString(16),d.push(n);if(t=d.join("").toLowerCase().substring(0,8),o=Y.getMimeType(t,"",""),Y.isEmpty(o)&&(a=Y.arrayBuffer2String(z.result),o=Y.isSvg(a)?"image/svg+xml":Y.getMimeType(t,a,v.type)),i={name:x,type:o},f=w(o,""),u=_(o,""),m=b(o,""),(h=f||u)||m)return l=h,(s=new FileReader).onerror=function(e){P._errorHandler(e,x)},s.onload=function(e){P._previewFile(c,v,e,g,C,i),P._initFileActions(),E()},void(l?s.readAsText(v,P.textEncoding):s.readAsDataURL(v))}P._previewFile(c,v,e,g,C,i),P._initFileActions(),E()},z.onprogress=function(e){if(e.lengthComputable){var t=e.loaded/e.total*100,i=Math.ceil(t);r=U.setTokens({index:c+1,files:B,percent:i,name:x}),setTimeout(function(){j.html(r)},100)}},f||u?z.readAsText(v,P.textEncoding):m?z.readAsDataURL(v):z.readAsArrayBuffer(v)):(P._previewDefault(v,g),setTimeout(function(){F(c+1),P._updateFileDetails(B)},100),P._raise("fileloaded",[v,g,c,z])),P.addToStack(v)}else F(c+1)}})(0),P._updateFileDetails(B,!1)},lock:function(){var e=this;return e._resetErrors(),e.disable(),e.showRemove&&e.$container.find(".fileinput-remove").hide(),e.showCancel&&e.$container.find(".fileinput-cancel").show(),e._raise("filelock",[e.filestack,e._getExtraData()]),e.$element},unlock:function(e){var t=this;return void 0===e&&(e=!0),t.enable(),t.showCancel&&t.$container.find(".fileinput-cancel").hide(),t.showRemove&&t.$container.find(".fileinput-remove").show(),e&&t._resetFileStack(),t._raise("fileunlock",[t.filestack,t._getExtraData()]),t.$element},cancel:function(){var e,i=this,t=i.ajaxRequests,r=t.length;if(0<r)for(e=0;e<r;e+=1)i.cancelling=!0,t[e].abort();return i._setProgressCancelled(),i._getThumbs().each(function(){var e=K(this),t=e.attr("data-fileindex");e.removeClass("file-uploading"),void 0!==i.filestack[t]&&(e.find(".kv-file-upload").removeClass("disabled").removeAttr("disabled"),e.find(".kv-file-remove").removeClass("disabled").removeAttr("disabled")),i.unlock()}),i.$element},clear:function(){var e,t=this;if(t._raise("fileclear"))return t.$btnUpload.removeAttr("disabled"),t._getThumbs().find("video,audio,img").each(function(){Y.cleanMemory(K(this))}),t._clearFileInput(),t._resetUpload(),t.clearStack(),t._resetErrors(!0),t._hasInitialPreview()?(t._showFileIcon(),t._resetPreview(),t._initPreviewActions(),t.$container.removeClass("file-input-new")):(t._getThumbs().each(function(){t._clearObjects(K(this))}),t.isAjaxUpload&&(t.previewCache.data={}),t.$preview.html(""),e=!t.overwriteInitial&&0<t.initialCaption.length?t.initialCaption:"",t.$caption.attr("title","").val(e),Y.addCss(t.$container,"file-input-new"),t._validateDefaultPreview()),0===t.$container.find(Y.FRAMES).length&&(t._initCaption()||t.$captionContainer.removeClass("icon-visible")),t._hideFileIcon(),t._raise("filecleared"),t.$captionContainer.focus(),t._setFileDropZoneTitle(),t.$element},reset:function(){var e=this;if(e._raise("filereset"))return e._resetPreview(),e.$container.find(".fileinput-filename").text(""),Y.addCss(e.$container,"file-input-new"),(e.getFrames().length||e.dropZoneEnabled)&&e.$container.removeClass("file-input-new"),e.clearStack(),e.formdata={},e._setFileDropZoneTitle(),e.$element},disable:function(){var e=this;return e.isDisabled=!0,e._raise("filedisabled"),e.$element.attr("disabled","disabled"),e.$container.find(".kv-fileinput-caption").addClass("file-caption-disabled"),e.$container.find(".fileinput-remove, .fileinput-upload, .file-preview-frame button").attr("disabled",!0),Y.addCss(e.$container.find(".btn-file"),"disabled"),e._initDragDrop(),e.$element},enable:function(){var e=this;return e.isDisabled=!1,e._raise("fileenabled"),e.$element.removeAttr("disabled"),e.$container.find(".kv-fileinput-caption").removeClass("file-caption-disabled"),e.$container.find(".fileinput-remove, .fileinput-upload, .file-preview-frame button").removeAttr("disabled"),e.$container.find(".btn-file").removeClass("disabled"),e._initDragDrop(),e.$element},upload:function(){var e,t,i,r=this,n=r.getFileStack().length,a=!K.isEmptyObject(r._getExtraData());if(r.isAjaxUpload&&!r.isDisabled&&r._isFileSelectionValid(n))if(r._resetUpload(),0!==n||a)if(r.$progress.show(),r.uploadCount=0,r.uploadStatus={},r.uploadLog=[],r.lock(),r._setProgress(2),0===n&&a)r._uploadExtraOnly();else{if(i=r.filestack.length,r.hasInitData=!1,!r.uploadAsync)return r._uploadBatch(),r.$element;for(t=r._getOutData(),r._raise("filebatchpreupload",[t]),r.fileBatchCompleted=!1,r.uploadCache={content:[],config:[],tags:[],append:!0},r.uploadAsyncCount=r.getFileStack().length,e=0;e<i;e++)r.uploadCache.content[e]=null,r.uploadCache.config[e]=null,r.uploadCache.tags[e]=null;for(r.$preview.find(".file-preview-initial").removeClass(Y.SORT_CSS),r._initSortable(),r.cacheInitialPreview=r.getPreview(),e=0;e<i;e++)r.filestack[e]&&r._uploadSingle(e,!0)}else r._showUploadError(r.msgUploadEmpty)},destroy:function(){var e=this,t=e.$form,i=e.$container,r=e.$element,n=e.namespace;return K(document).off(n),K(window).off(n),t&&t.length&&t.off(n),e.isAjaxUpload&&e._clearFileInput(),e._cleanup(),e._initPreviewCache(),r.insertBefore(i).off(n).removeData(),i.off().remove(),r},refresh:function(e){var t=this,i=t.$element;return e="object"!=typeof e||Y.isEmpty(e)?t.options:K.extend(!0,{},t.options,e),t._init(e,!0),t._listen(),i},zoom:function(e){var t=this,i=t._getFrame(e),r=t.$modal;i&&(Y.initModal(r),r.html(t._getModalContent()),t._setZoomContent(i),r.modal("show"),t._initZoomButtons())},getExif:function(e){var t=this._getFrame(e);return t&&t.data("exif")||null},getFrames:function(e){var t;return e=e||"",t=this.$preview.find(Y.FRAMES+e),this.reversePreviewOrder&&(t=K(t.get().reverse())),t},getPreview:function(){return{content:this.initialPreview,config:this.initialPreviewConfig,tags:this.initialPreviewThumbTags}}},K.fn.fileinput=function(s){if(Y.hasFileAPISupport()||Y.isIE(9)){var d=Array.apply(null,arguments),c=[];switch(d.shift(),this.each(function(){var e,t=K(this),i=t.data("fileinput"),r="object"==typeof s&&s,n=r.theme||t.data("theme"),a={},o={},l=r.language||t.data("language")||K.fn.fileinput.defaults.language||"en";i||(n&&(o=K.fn.fileinputThemes[n]||{}),"en"===l||Y.isEmpty(K.fn.fileinputLocales[l])||(a=K.fn.fileinputLocales[l]||{}),e=K.extend(!0,{},K.fn.fileinput.defaults,o,K.fn.fileinputLocales.en,a,r,t.data()),i=new p(this,e),t.data("fileinput",i)),"string"==typeof s&&c.push(i[s].apply(i,d))}),c.length){case 0:return this;case 1:return c[0];default:return c}}},K.fn.fileinput.defaults={language:"en",showCaption:!0,showBrowse:!0,showPreview:!0,showRemove:!0,showUpload:!0,showCancel:!0,showClose:!0,showUploadedThumbs:!0,browseOnZoneClick:!1,autoReplace:!1,autoOrientImage:!1,required:!1,rtl:!1,hideThumbnailContent:!1,encodeUrl:!0,generateFileId:null,previewClass:"",captionClass:"",frameClass:"krajee-default",mainClass:"file-caption-main",mainTemplate:null,purifyHtml:!0,fileSizeGetter:null,initialCaption:"",initialPreview:[],initialPreviewDelimiter:"*$$*",initialPreviewAsData:!1,initialPreviewFileType:"image",initialPreviewConfig:[],initialPreviewThumbTags:[],previewThumbTags:{},initialPreviewShowDelete:!0,initialPreviewDownloadUrl:"",removeFromPreviewOnError:!1,deleteUrl:"",deleteExtraData:{},overwriteInitial:!0,previewZoomButtonIcons:{prev:'<i class="glyphicon glyphicon-triangle-left"></i>',next:'<i class="glyphicon glyphicon-triangle-right"></i>',toggleheader:'<i class="glyphicon glyphicon-resize-vertical"></i>',fullscreen:'<i class="glyphicon glyphicon-fullscreen"></i>',borderless:'<i class="glyphicon glyphicon-resize-full"></i>',close:'<i class="glyphicon glyphicon-remove"></i>'},previewZoomButtonClasses:{prev:"btn btn-navigate",next:"btn btn-navigate",toggleheader:"btn btn-sm btn-kv btn-default btn-outline-secondary",fullscreen:"btn btn-sm btn-kv btn-default btn-outline-secondary",borderless:"btn btn-sm btn-kv btn-default btn-outline-secondary",close:"btn btn-sm btn-kv btn-default btn-outline-secondary"},previewTemplates:{},previewContentTemplates:{},preferIconicPreview:!1,preferIconicZoomPreview:!1,allowedPreviewTypes:void 0,allowedPreviewMimeTypes:null,allowedFileTypes:null,allowedFileExtensions:null,defaultPreviewContent:null,customLayoutTags:{},customPreviewTags:{},previewFileIcon:'<i class="glyphicon glyphicon-file"></i>',previewFileIconClass:"file-other-icon",previewFileIconSettings:{},previewFileExtSettings:{},buttonLabelClass:"hidden-xs",browseIcon:'<i class="glyphicon glyphicon-folder-open"></i>&nbsp;',browseClass:"btn btn-primary",removeIcon:'<i class="glyphicon glyphicon-trash"></i>',removeClass:"btn btn-default btn-secondary",cancelIcon:'<i class="glyphicon glyphicon-ban-circle"></i>',cancelClass:"btn btn-default btn-secondary",uploadIcon:'<i class="glyphicon glyphicon-upload"></i>',uploadClass:"btn btn-default btn-secondary",uploadUrl:null,uploadUrlThumb:null,uploadAsync:!0,uploadExtraData:{},zoomModalHeight:480,minImageWidth:null,minImageHeight:null,maxImageWidth:null,maxImageHeight:null,resizeImage:!1,resizePreference:"width",resizeQuality:.92,resizeDefaultImageType:"image/jpeg",resizeIfSizeMoreThan:0,minFileSize:0,maxFileSize:0,maxFilePreviewSize:25600,minFileCount:0,maxFileCount:0,validateInitialCount:!1,msgValidationErrorClass:"text-danger",msgValidationErrorIcon:'<i class="glyphicon glyphicon-exclamation-sign"></i> ',msgErrorClass:"file-error-message",progressThumbClass:"progress-bar bg-success progress-bar-success progress-bar-striped active",progressClass:"progress-bar bg-success progress-bar-success progress-bar-striped active",progressCompleteClass:"progress-bar bg-success progress-bar-success",progressErrorClass:"progress-bar bg-danger progress-bar-danger",progressUploadThreshold:99,previewFileType:"image",elCaptionContainer:null,elCaptionText:null,elPreviewContainer:null,elPreviewImage:null,elPreviewStatus:null,elErrorContainer:null,errorCloseButton:Y.closeButton("kv-error-close"),slugCallback:null,dropZoneEnabled:!0,dropZoneTitleClass:"file-drop-zone-title",fileActionSettings:{},otherActionButtons:"",textEncoding:"UTF-8",ajaxSettings:{},ajaxDeleteSettings:{},showAjaxErrorDetails:!0,mergeAjaxCallbacks:!1,mergeAjaxDeleteCallbacks:!1,retryErrorUploads:!0,reversePreviewOrder:!1},K.fn.fileinputLocales.en={fileSingle:"file",filePlural:"files",browseLabel:"Browse &hellip;",removeLabel:"Remove",removeTitle:"Clear selected files",cancelLabel:"Cancel",cancelTitle:"Abort ongoing upload",uploadLabel:"Upload",uploadTitle:"Upload selected files",msgNo:"No",msgNoFilesSelected:"No files selected",msgCancelled:"Cancelled",msgPlaceholder:"Select {files}...",msgZoomModalHeading:"Detailed Preview",msgFileRequired:"You must select a file to upload.",msgSizeTooSmall:'File "{name}" (<b>{size} KB</b>) is too small and must be larger than <b>{minSize} KB</b>.',msgSizeTooLarge:'File "{name}" (<b>{size} KB</b>) exceeds maximum allowed upload size of <b>{maxSize} KB</b>.',msgFilesTooLess:"You must select at least <b>{n}</b> {files} to upload.",msgFilesTooMany:"Number of files selected for upload <b>({n})</b> exceeds maximum allowed limit of <b>{m}</b>.",msgFileNotFound:'File "{name}" not found!',msgFileSecured:'Security restrictions prevent reading the file "{name}".',msgFileNotReadable:'File "{name}" is not readable.',msgFilePreviewAborted:'File preview aborted for "{name}".',msgFilePreviewError:'An error occurred while reading the file "{name}".',msgInvalidFileName:'Invalid or unsupported characters in file name "{name}".',msgInvalidFileType:'Invalid type for file "{name}". Only "{types}" files are supported.',msgInvalidFileExtension:'Invalid extension for file "{name}". Only "{extensions}" files are supported.',msgFileTypes:{image:"image",html:"HTML",text:"text",video:"video",audio:"audio",flash:"flash",pdf:"PDF",object:"object"},msgUploadAborted:"The file upload was aborted",msgUploadThreshold:"Processing...",msgUploadBegin:"Initializing...",msgUploadEnd:"Done",msgUploadEmpty:"No valid data available for upload.",msgUploadError:"Error",msgValidationError:"Validation Error",msgLoading:"Loading file {index} of {files} &hellip;",msgProgress:"Loading file {index} of {files} - {name} - {percent}% completed.",msgSelected:"{n} {files} selected",msgFoldersNotAllowed:"Drag & drop files only! {n} folder(s) dropped were skipped.",msgImageWidthSmall:'Width of image file "{name}" must be at least {size} px.',msgImageHeightSmall:'Height of image file "{name}" must be at least {size} px.',msgImageWidthLarge:'Width of image file "{name}" cannot exceed {size} px.',msgImageHeightLarge:'Height of image file "{name}" cannot exceed {size} px.',msgImageResizeError:"Could not get the image dimensions to resize.",msgImageResizeException:"Error while resizing the image.<pre>{errors}</pre>",msgAjaxError:"Something went wrong with the {operation} operation. Please try again later!",msgAjaxProgressError:"{operation} failed",ajaxOperations:{deleteThumb:"file delete",uploadThumb:"file upload",uploadBatch:"batch file upload",uploadExtra:"form data upload"},dropZoneTitle:"Drag & drop files here &hellip;",dropZoneClickTitle:"<br>(or click to select {files})",previewZoomButtonTitles:{prev:"View previous file",next:"View next file",toggleheader:"Toggle header",fullscreen:"Toggle full screen",borderless:"Toggle borderless mode",close:"Close detailed preview"},usePdfRenderer:function(){var e=!!window.MSInputMethodContext&&!!document.documentMode;return!!navigator.userAgent.match(/(iPod|iPhone|iPad|Android)/i)||e},pdfRendererUrl:"",pdfRendererTemplate:'<iframe class="kv-preview-data file-preview-pdf" src="{renderer}?file={data}" {style}></iframe>'},K.fn.fileinput.Constructor=p,K(document).ready(function(){var e=K("input.file[type=file]");e.length&&e.fileinput()})})?n.apply(i,a):n)||(t.exports=o)}()},151:function(e,t,i){var r=i(363);"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(113)(r,n);r.locals&&(e.exports=r.locals)},363:function(e,t,i){t=e.exports=i(112)(!1);var r=i(120),n=r(i(364)),a=r(i(365));t.push([e.i,'/*!\r\n * bootstrap-fileinput v4.5.2\r\n * http://plugins.krajee.com/file-input\r\n *\r\n * Krajee default styling for bootstrap-fileinput.\r\n *\r\n * Author: Kartik Visweswaran\r\n * Copyright: 2014 - 2018, Kartik Visweswaran, Krajee.com\r\n *\r\n * Licensed under the BSD 3-Clause\r\n * https://github.com/kartik-v/bootstrap-fileinput/blob/master/LICENSE.md\r\n */\r\n.file-loading input[type=file], input[type=file].file-loading {\r\n    width: 0;\r\n    height: 0;\r\n}\r\n\r\n.file-no-browse {\r\n    position: absolute;\r\n    left: 50%;\r\n    bottom: 20%;\r\n    width: 1px;\r\n    height: 1px;\r\n    font-size: 0;\r\n    opacity: 0;\r\n    border: none;\r\n    background: none;\r\n    outline: none;\r\n    box-shadow: none;\r\n}\r\n\r\n.kv-hidden, .file-caption-icon, .file-zoom-dialog .modal-header:before, .file-zoom-dialog .modal-header:after, .file-input-new .file-preview, .file-input-new .close, .file-input-new .glyphicon-file, .file-input-new .fileinput-remove-button, .file-input-new .fileinput-upload-button, .file-input-new .no-browse .input-group-btn, .file-input-ajax-new .fileinput-remove-button, .file-input-ajax-new .fileinput-upload-button, .file-input-ajax-new .no-browse .input-group-btn, .hide-content .kv-file-content {\r\n    display: none;\r\n}\r\n\r\n.btn-file input[type=file], .file-caption-icon, .file-preview .fileinput-remove, .krajee-default .file-thumb-progress, .file-zoom-dialog .btn-navigate, .file-zoom-dialog .floating-buttons {\r\n    position: absolute;\r\n}\r\n\r\n.file-input, .file-loading:before, .btn-file, .file-caption, .file-preview, .krajee-default.file-preview-frame, .krajee-default .file-thumbnail-footer, .file-zoom-dialog .modal-dialog {\r\n    position: relative;\r\n}\r\n\r\n.file-error-message pre, .file-error-message ul, .krajee-default .file-actions, .krajee-default .file-other-error {\r\n    text-align: left;\r\n}\r\n\r\n.file-error-message pre, .file-error-message ul {\r\n    margin: 0;\r\n}\r\n\r\n.krajee-default .file-drag-handle, .krajee-default .file-upload-indicator {\r\n    float: left;\r\n    margin: 5px 0 -5px;\r\n    width: 16px;\r\n    height: 16px;\r\n}\r\n\r\n.krajee-default .file-thumb-progress .progress, .krajee-default .file-thumb-progress .progress-bar {\r\n    height: 11px;\r\n    font-family: Verdana, Helvetica, sans-serif;\r\n    font-size: 9px;\r\n}\r\n\r\n.krajee-default .file-caption-info, .krajee-default .file-size-info {\r\n    display: block;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    width: 160px;\r\n    height: 15px;\r\n    margin: auto;\r\n}\r\n\r\n.file-zoom-content > .file-object.type-video, .file-zoom-content > .file-object.type-flash, .file-zoom-content > .file-object.type-image {\r\n    max-width: 100%;\r\n    max-height: 100%;\r\n    width: auto;\r\n}\r\n\r\n.file-zoom-content > .file-object.type-video, .file-zoom-content > .file-object.type-flash {\r\n    height: 100%;\r\n}\r\n\r\n.file-zoom-content > .file-object.type-pdf, .file-zoom-content > .file-object.type-html, .file-zoom-content > .file-object.type-text, .file-zoom-content > .file-object.type-default {\r\n    width: 100%;\r\n}\r\n\r\n.file-loading:before {\r\n    content: " Loading...";\r\n    display: inline-block;\r\n    padding-left: 20px;\r\n    line-height: 16px;\r\n    font-size: 13px;\r\n    font-variant: small-caps;\r\n    color: #999;\r\n    background: transparent url('+n+') top left no-repeat;\r\n}\r\n\r\n.file-object {\r\n    margin: 0 0 -5px 0;\r\n    padding: 0;\r\n}\r\n\r\n.btn-file {\r\n    overflow: hidden;\r\n}\r\n\r\n.btn-file input[type=file] {\r\n    top: 0;\r\n    left: 0;\r\n    min-width: 100%;\r\n    min-height: 100%;\r\n    text-align: right;\r\n    opacity: 0;\r\n    background: none repeat scroll 0 0 transparent;\r\n    cursor: inherit;\r\n    display: block;\r\n}\r\n\r\n.btn-file ::-ms-browse {\r\n    font-size: 10000px;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.file-caption .file-caption-name {\r\n    width: 100%;\r\n    margin: 0;\r\n    padding: 0;\r\n    box-shadow: none;\r\n    border: none;\r\n    background: none;\r\n    outline: none;\r\n}\r\n\r\n.file-caption.icon-visible .file-caption-icon {\r\n    display: inline-block;\r\n}\r\n\r\n.file-caption.icon-visible .file-caption-name {\r\n    padding-left: 15px;\r\n}\r\n\r\n.file-caption-icon {\r\n    left: 8px;\r\n}\r\n\r\n.file-error-message {\r\n    color: #a94442;\r\n    background-color: #f2dede;\r\n    margin: 5px;\r\n    border: 1px solid #ebccd1;\r\n    border-radius: 4px;\r\n    padding: 15px;\r\n}\r\n\r\n.file-error-message pre {\r\n    margin: 5px 0;\r\n}\r\n\r\n.file-caption-disabled {\r\n    background-color: #eee;\r\n    cursor: not-allowed;\r\n    opacity: 1;\r\n}\r\n\r\n.file-preview {\r\n    border-radius: 5px;\r\n    border: 1px solid #ddd;\r\n    padding: 8px;\r\n    width: 100%;\r\n    margin-bottom: 5px;\r\n}\r\n\r\n.file-preview .btn-xs {\r\n    padding: 1px 5px;\r\n    font-size: 12px;\r\n    line-height: 1.5;\r\n    border-radius: 3px;\r\n}\r\n\r\n.file-preview .fileinput-remove {\r\n    top: 1px;\r\n    right: 1px;\r\n    line-height: 10px;\r\n}\r\n\r\n.file-preview .clickable {\r\n    cursor: pointer;\r\n}\r\n\r\n.file-preview-image {\r\n    font: 40px Impact, Charcoal, sans-serif;\r\n    color: #008000;\r\n}\r\n\r\n.krajee-default.file-preview-frame {\r\n    margin: 8px;\r\n    border: 1px solid rgba(0,0,0,0.2);\r\n    box-shadow: 0 0 10px 0 rgba(0,0,0,0.2);\r\n    padding: 6px;\r\n    float: left;\r\n    text-align: center;\r\n}\r\n\r\n.krajee-default.file-preview-frame .kv-file-content {\r\n    width: 213px;\r\n    height: 160px;\r\n}\r\n\r\n.krajee-default.file-preview-frame .kv-file-content.kv-pdf-rendered {\r\n    width: 400px;\r\n}\r\n\r\n.krajee-default.file-preview-frame[data-template="audio"] .kv-file-content {\r\n    width: 240px;\r\n    height: 55px;\r\n}\r\n\r\n.krajee-default.file-preview-frame .file-thumbnail-footer {\r\n    height: 70px;\r\n}\r\n\r\n.krajee-default.file-preview-frame:not(.file-preview-error):hover {\r\n    border: 1px solid rgba(0,0,0,0.3);\r\n    box-shadow: 0 0 10px 0 rgba(0,0,0,0.4);\r\n}\r\n\r\n.krajee-default .file-preview-text {\r\n    display: block;\r\n    color: #428bca;\r\n    border: 1px solid #ddd;\r\n    font-family: Menlo, Monaco, Consolas, "Courier New", monospace;\r\n    outline: none;\r\n    padding: 8px;\r\n    resize: none;\r\n}\r\n\r\n.krajee-default .file-preview-html {\r\n    border: 1px solid #ddd;\r\n    padding: 8px;\r\n    overflow: auto;\r\n}\r\n\r\n.krajee-default .file-other-icon {\r\n    font-size: 6em;\r\n}\r\n\r\n.krajee-default .file-footer-buttons {\r\n    float: right;\r\n}\r\n\r\n.krajee-default .file-footer-caption {\r\n    display: block;\r\n    text-align: center;\r\n    padding-top: 4px;\r\n    font-size: 11px;\r\n    color: #777;\r\n    margin-bottom: 15px;\r\n}\r\n\r\n.krajee-default .file-preview-error {\r\n    opacity: 0.65;\r\n    box-shadow: none;\r\n}\r\n\r\n.krajee-default .file-thumb-progress {\r\n    height: 11px;\r\n    top: 37px;\r\n    left: 0;\r\n    right: 0;\r\n}\r\n\r\n.krajee-default.kvsortable-ghost {\r\n    background: #e1edf7;\r\n    border: 2px solid #a1abff;\r\n}\r\n\r\n.krajee-default .file-preview-other:hover {\r\n    opacity: 0.8;\r\n}\r\n\r\n.krajee-default .file-preview-frame:not(.file-preview-error) .file-footer-caption:hover {\r\n    color: #000;\r\n}\r\n\r\n.kv-upload-progress .progress {\r\n    height: 20px;\r\n    margin: 10px 0;\r\n    overflow: hidden;\r\n}\r\n\r\n.kv-upload-progress .progress-bar {\r\n    height: 20px;\r\n    font-family: Verdana, Helvetica, sans-serif;\r\n}\r\n\r\n/*noinspection CssOverwrittenProperties*/\r\n.file-zoom-dialog .file-other-icon {\r\n    font-size: 22em;\r\n    font-size: 50vmin;\r\n}\r\n\r\n.file-zoom-dialog .modal-dialog {\r\n    width: auto;\r\n}\r\n\r\n.file-zoom-dialog .modal-header {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n}\r\n\r\n.file-zoom-dialog .btn-navigate {\r\n    padding: 0;\r\n    margin: 0;\r\n    background: transparent;\r\n    text-decoration: none;\r\n    outline: none;\r\n    opacity: 0.7;\r\n    top: 45%;\r\n    font-size: 4em;\r\n    color: #1c94c4;\r\n}\r\n\r\n.file-zoom-dialog .btn-navigate:not([disabled]):hover {\r\n    outline: none;\r\n    box-shadow: none;\r\n    opacity: 0.6;\r\n}\r\n\r\n.file-zoom-dialog .floating-buttons {\r\n    top: 5px;\r\n    right: 10px;\r\n}\r\n\r\n.file-zoom-dialog .btn-navigate[disabled] {\r\n    opacity: 0.3;\r\n}\r\n\r\n.file-zoom-dialog .btn-prev {\r\n    left: 1px;\r\n}\r\n\r\n.file-zoom-dialog .btn-next {\r\n    right: 1px;\r\n}\r\n\r\n.file-zoom-dialog .kv-zoom-title {\r\n    font-weight: 300;\r\n    color: #999;\r\n    max-width: 50%;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n}\r\n\r\n.file-input-new .no-browse .form-control {\r\n    border-top-right-radius: 4px;\r\n    border-bottom-right-radius: 4px;\r\n}\r\n\r\n.file-input-ajax-new .no-browse .form-control {\r\n    border-top-right-radius: 4px;\r\n    border-bottom-right-radius: 4px;\r\n}\r\n\r\n.file-caption-main {\r\n    width: 100%;\r\n}\r\n\r\n.file-thumb-loading {\r\n    background: transparent url('+n+") no-repeat scroll center center content-box !important;\r\n}\r\n\r\n.file-drop-zone {\r\n    border: 1px dashed #aaa;\r\n    border-radius: 4px;\r\n    height: 100%;\r\n    text-align: center;\r\n    vertical-align: middle;\r\n    margin: 12px 15px 12px 12px;\r\n    padding: 5px;\r\n}\r\n\r\n.file-drop-zone.clickable:hover {\r\n    border: 2px dashed #999;\r\n}\r\n\r\n.file-drop-zone.clickable:focus {\r\n    border: 2px solid #5acde2;\r\n}\r\n\r\n.file-drop-zone .file-preview-thumbnails {\r\n    cursor: default;\r\n}\r\n\r\n.file-drop-zone-title {\r\n    color: #aaa;\r\n    font-size: 1.6em;\r\n    padding: 85px 10px;\r\n    cursor: default;\r\n}\r\n\r\n.file-highlighted {\r\n    border: 2px dashed #999 !important;\r\n    background-color: #eee;\r\n}\r\n\r\n.file-uploading {\r\n    background: url("+a+') no-repeat center bottom 10px;\r\n    opacity: 0.65;\r\n}\r\n\r\n.file-zoom-fullscreen .modal-dialog {\r\n    min-width: 100%;\r\n    margin: 0;\r\n}\r\n\r\n.file-zoom-fullscreen .modal-content {\r\n    border-radius: 0;\r\n    box-shadow: none;\r\n    min-height: 100vh;\r\n}\r\n\r\n.file-zoom-fullscreen .modal-body {\r\n    overflow-y: auto;\r\n}\r\n\r\n.floating-buttons {\r\n    z-index: 3000;\r\n}\r\n\r\n.floating-buttons .btn-kv {\r\n    margin-left: 3px;\r\n    z-index: 3000;\r\n}\r\n\r\n.file-zoom-content {\r\n    height: 480px;\r\n    text-align: center;\r\n}\r\n\r\n.file-zoom-content .file-preview-image {\r\n    max-height: 100%;\r\n}\r\n\r\n.file-zoom-content .file-preview-video {\r\n    max-height: 100%;\r\n}\r\n\r\n.file-zoom-content > .file-object.type-image {\r\n    height: auto;\r\n    min-height: inherit;\r\n}\r\n\r\n.file-zoom-content > .file-object.type-audio {\r\n    width: auto;\r\n    height: 30px;\r\n}\r\n\r\n@media (min-width: 576px) {\r\n    .file-zoom-dialog .modal-dialog {\r\n        max-width: 500px;\r\n    }\r\n}\r\n\r\n@media (min-width: 992px) {\r\n    .file-zoom-dialog .modal-lg {\r\n        max-width: 800px;\r\n    }\r\n}\r\n\r\n@media (max-width: 767px) {\r\n    .file-preview-thumbnails {\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        flex-direction: column;\r\n    }\r\n\r\n    .file-zoom-dialog .modal-header {\r\n        flex-direction: column;\r\n    }\r\n}\r\n\r\n@media (max-width: 350px) {\r\n    .krajee-default.file-preview-frame:not([data-template="audio"]) .kv-file-content {\r\n        width: 160px;\r\n    }\r\n}\r\n\r\n@media (max-width: 420px) {\r\n    .krajee-default.file-preview-frame .kv-file-content.kv-pdf-rendered {\r\n        width: 100%;\r\n    }\r\n}\r\n\r\n.file-loading[dir=rtl]:before {\r\n    background: transparent url('+n+") top right no-repeat;\r\n    padding-left: 0;\r\n    padding-right: 20px;\r\n}\r\n\r\n.file-sortable .file-drag-handle {\r\n    cursor: move;\r\n    opacity: 1;\r\n}\r\n\r\n.file-sortable .file-drag-handle:hover {\r\n    opacity: 0.7;\r\n}\r\n\r\n.clickable .file-drop-zone-title {\r\n    cursor: pointer;\r\n}\r\n\r\n.kv-zoom-actions .btn-kv {\r\n    margin-left: 3px;\r\n}\r\n\r\n.file-preview-initial.sortable-chosen {\r\n    background-color: #d9edf7;\r\n}\r\n",""])},364:function(e,t,i){e.exports=i.p+"loading-13630905267b809161e71d0f8a0c017b.gif"},365:function(e,t,i){e.exports=i.p+"loading-sm-e5ad074b7969cc386b387f08dba4fcec.gif"}}]);
//# sourceMappingURL=vendors~frontdoor-upload-view~sofi-manage-comic-photos-view-1c1d841f79d6f2dae29c.js.map