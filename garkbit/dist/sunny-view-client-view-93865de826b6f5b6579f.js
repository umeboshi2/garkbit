(self.webpackJsonp=self.webpackJsonp||[]).push([[67,8],{167:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditClientView=t.NewClientView=void 0;var r,o,i=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;return void 0!==u?u.call(r):void 0},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=y(n(0)),l=y(n(1)),f=y(n(3)),c=y(n(17)),d=(y(n(5)),y(n(19))),s=y(n(18)),p=n(16);function y(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}l.default.Radio.channel("global"),l.default.Radio.channel("messages"),r=l.default.Radio.channel("sunny"),o=function(){var e=function(e){function t(){return h(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,c.default),u(t,[{key:"templateContext",value:function(){return{fieldList:this.fieldList}}},{key:"ui",value:function(){var e;return e=(0,d.default)(this.fieldList),a.default.extend(e,{description:'textarea[name="description"]'}),e}},{key:"updateModel",value:function(){var e,t,n,r,o,i;for(o=[],t=0,n=(r=this.fieldList.concat(["description"])).length;t<n;t++)e=r[t],i=this.ui[e].val(),"fullname"!==e||i||(console.warn("no fullname here....."),i=(0,s.default)(this.model.get("name"))),o.push(this.model.set(e,i));return o}}]),t}();return e.prototype.fieldList=["name","fullname","email"],e.prototype.template=f.default.renderable(function(e){var t,n,r,o;for(f.default.div(".listview-header","Client"),n=0,r=(o=e.fieldList).length;n<r;n++)t=o[n],(0,p.make_field_input)(t)(e);return(0,p.make_field_textarea)("description")(e),f.default.input(".btn.btn-primary",{type:"submit",value:"Submit"}),f.default.div(".spinner.fa.fa-spinner.fa-spin")}),e}.call(void 0);t.NewClientView=function(e){function t(){return h(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,o),u(t,[{key:"createModel",value:function(){return r.request("db:client:new")}},{key:"saveModel",value:function(){return r.request("db:client:collection").add(this.model),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"saveModel",this).call(this,arguments)}}]),t}(),t.EditClientView=function(e){function t(){return h(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,o),u(t,[{key:"createModel",value:function(){return this.model}}]),t}()},209:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=(l(n(1)),n(2)),a=l(n(3));function l(e){return e&&e.__esModule?e:{default:e}}o=function(e){return e?"on":"off"},r=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.View),i(t,[{key:"templateContext",value:function(){return{toggleState:this.state,toggleText:o(this.state)}}},{key:"toggleState",value:function(){return this.state?this.state=!1:this.state=!0,this.render(),this.trigger("toggle",this)}}]),t}();return e.prototype.state=!1,e.prototype.template=a.default.renderable(function(e){return a.default.span(".mr-1",e.label),a.default.i(".ml-1.pl-1.fa.fa-toggle-"+e.toggleText)}),e.prototype.events={click:"toggleState"},e}.call(void 0),t.default=r},212:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(a(n(1)),n(2)),u=a(n(3));a(n(5));function a(e){return e&&e.__esModule?e:{default:e}}r=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.View),o(t,[{key:"onRender",value:function(){return this.showInfo()}},{key:"showInfo",value:function(){var e;return this.getRegion("infoContainer").empty(),e=new(this.getOption("infoView"))({model:this.model}),this.showChildView("infoContainer",e),this.ui.editBtn.show()}},{key:"showEditor",value:function(){var e;return this.getRegion("infoContainer").empty(),e=new(this.getOption("editView"))({model:this.model}),this.showChildView("infoContainer",e),this.ui.editBtn.hide()}},{key:"editBtnClicked",value:function(){return this.showEditor()}},{key:"editSuccess",value:function(){return this.showInfo()}}]),t}();return e.prototype.state="info",e.prototype.template=u.default.renderable(function(e){return u.default.div(".badge.badge-primary.edit-btn","edit"),u.default.div(".info-container")}),e.prototype.ui={editBtn:".edit-btn",infoContainer:".info-container"},e.prototype.regions={infoContainer:"@ui.infoContainer"},e.prototype.events={"click @ui.editBtn":"editBtnClicked"},e.prototype.childViewEvents={"save:form:success":"editSuccess"},e}.call(void 0),t.default=r},629:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o,i,u,a,l,f,c,d,s,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=m(n(1)),h=n(2),b=m(n(3)),v=(m(n(5)),n(167)),w=m(n(630)),_=m(n(212)),g=m(n(209));function m(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a=b.default.renderable(function(e){return b.default.div(".row.listview-list-entry",function(){return b.default.a({href:"#sunny/yards/view/"+e.id},e.name)})}),b.default.renderable(function(e){return b.default.div(".badge.info-toggle",function(){return b.default.span(".mr-1","info"),b.default.i(".ml-1.pl-1.fa.fa-toggle-off")}),b.default.div(".client-info-container"),b.default.div(".badge.yards-toggle",function(){return b.default.span(".mr-1","("+e.collection.length+") yards"),b.default.i(".ml-1.pl-1.fa.fa-toggle-off")}),b.default.div(".yards-container",function(){})}),i=function(){var e=function(e){function t(){return O(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,h.View),t}();return e.prototype.template=a,e}.call(void 0),u=function(){var e=function(e){function t(){return O(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,h.CollectionView),p(t,[{key:"events",value:function(){return{"click @ui.addyard":"addYard"}}},{key:"addYard",value:function(){return console.log("addYard clicked")}}]),t}();return e.prototype.childView=i,e.prototype.childViewContainer=".client-yards",e.prototype.template=b.default.renderable(function(){return b.default.div(".listview-header",function(){return b.default.span("Yards"),b.default.button(".add-yard-btn.btn.btn-primary.btn-sm.pull-right","Add Yard")}),b.default.div(".row",function(){return b.default.div(".client-yards")})}),e.prototype.ui={addyard:".add-yard-btn"},e}.call(void 0),r=function(){var e=function(e){function t(){return O(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,_.default),t}();return e.prototype.infoView=w.default,e.prototype.editView=v.EditClientView,e}.call(void 0),d={info:r,yards:u},c=function(e){return e+"Toggle"},f=function(e){return e+"Container"},s=function(e){return"."+e+"-toggle"},l=function(e){return"."+e+"-container"},o=function(){var e=function(e){function t(){return O(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,h.View),p(t,[{key:"templateContext",value:function(){return{collection:this.collection}}},{key:"ui",value:function(){var e,t;for(e in t={header:".listview-header"},d)t[c(e)]=s(e),t[f(e)]=l(e);return t}},{key:"regions",value:function(){var e,t;for(e in t={header:"@ui.header"},d)t[c(e)]="@ui."+c(e),t[f(e)]="@ui."+f(e);return t}},{key:"onRender",value:function(){var e,t,n,r,o;for(t in r=[],d)e=new y.default.Model({label:t}),o=new g.default({className:"btn btn-primary btn-sm",model:e,name:t}),n=c(t),r.push(this.showChildView(n,o));return r}},{key:"childToggled",value:function(e){var t,n;return t=(n=e.getOption("name"))+"Container",!e.getOption("state")?this.getRegion(t).empty():(e=new d[n]({model:this.model,collection:this.collection}),this.showChildView(t,e))}}]),t}();return e.prototype.template=b.default.renderable(function(e){var t,n;for(t in b.default.div(".listview-header"),n=[],d)b.default.div(s(t)),n.push(b.default.div(l(t)));return n}),e.prototype.childViewEvents={toggle:"childToggled"},e}.call(void 0),t.default=o},630:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a(n(1));var r,o,i=n(2),u=a(n(3));a(n(5));function a(e){return e&&e.__esModule?e:{default:e}}o=u.default.renderable(function(e){return u.default.table(".table",function(){return u.default.thead(".table-info",function(){return u.default.tr(function(){return u.default.th({scope:"col"},"Option"),u.default.th({scope:"col"},"Value")})}),u.default.tr(function(){return u.default.td("Name:"),u.default.td(""+e.name)}),u.default.tr(function(){return u.default.td("Full Name:"),u.default.td(""+e.fullname)}),u.default.tr(function(){return u.default.td("Email:"),u.default.td(""+e.email)}),u.default.tr(function(){return u.default.td("Description"),u.default.td(e.description)})})}),r=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.View),t}();return e.prototype.template=o,e}.call(void 0),t.default=r}}]);
//# sourceMappingURL=sunny-view-client-view-93865de826b6f5b6579f.js.map