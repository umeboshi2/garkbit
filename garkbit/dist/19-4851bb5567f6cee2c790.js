(self.webpackJsonp=self.webpackJsonp||[]).push([[19],{172:function(e,t,n){var o={"./adminpanel/main":610,"./bumblr/main":616,"./company/main":624,"./dbadmin/main":627,"./dbdocs/main":629,"./eliza/main":631,"./frontdoor/main":633,"./hourly/main":636,"./junk/main":639,"./moviedb/main":645,"./muppy/main":653,"./netark/main":656,"./places/main":659,"./sunny/main":662,"./taxes/main":665,"./terminal/main":667,"./todos/main":669,"./tvmaze/main":672,"./useradmin/main":678,"./userprofile/main":681,"./wikipages/main":684};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=172},457:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(1),i=l(n(92)),u=l(n(88)),a=l(n(170));function l(e){return e&&e.__esModule?e:{default:e}}var c,s,f,p=[].indexOf;s=r.Radio.channel("global"),f=r.Radio.channel("site-nav"),c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"before",value:function(){var e,t,n,o,r,i,l;if(l=s.request("main:app:decode-auth-token"),t=!1,r=this.getOption("permittedGroups")||["admin"],!(0,a.default)(l))for(n=0,o=(i=l.groups).length;n<o;n++)e=i[n],p.call(r,e)>=0&&(t=!0);if(!t)return(0,u.default)("#"),s.request("main:app:show-login")}},{key:"onRoute",value:function(){var e;return e=this.getOption("navbarEntries")||"admin",f.request("set-"+e+"-entries")}}]),t}(i.default),t.default=c},483:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(4),a=n(501),l=(o=a)&&o.__esModule?o:{default:o};n(643),r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"options",value:function(){return{jviewSelector:".jsonview"}}},{key:"ui",value:function(){return{jsonView:this.getOption("jviewSelector")}}},{key:"onDomRefresh",value:function(){var e;return e=this.view.model.toJSON(),this.view.jsonView=new l.default(e),this.ui.jsonView.prepend(this.view.jsonView.dom)}}]),t}(u.Behavior),t.default=r},536:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.documents=void 0;var o,r,i,u,a,l,c,s,f=n(0),p=n(1),d=n(451),h=(o=d)&&o.__esModule?o:{default:o};function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}l=p.Radio.channel("global"),c="/api/dev/sitedocuments",i=l.request("main:app:AuthModel"),r=l.request("main:app:AuthCollection"),s={channelName:"resources"},u=function(){var e=function(e){function t(){return y(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,e),t}(i);return e.prototype.urlRoot=c,e}.call(void 0),a=function(){var e=function(e){function t(){return y(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,e),t}(r);return e.prototype.url=c,e.prototype.model=u,e}.call(void 0);t.documents=new h.default((0,f.extend)(s,{modelName:"document",modelClass:u,collectionClass:a}))},537:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FrontDoorMainView=t.ThemeSwitchView=void 0;var o,r,i,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=p(n(27)),l=n(1),c=n(4),s=p(n(7)),f=p(n(300));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r=l.Radio.channel("global"),console.warn("This needs to be updated or removed"),o=s.default.renderable((function(e){return s.default.article(".document-view.content",(function(){return s.default.div(".body",(function(){return s.default.raw((0,f.default)(e.content))}))}))})),i=["vanilla","cornsilk","BlanchedAlmond","DarkSeaGreen","LavenderBlush"];t.ThemeSwitchView=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,e),u(t,[{key:"events",value:function(){return{"click @ui.theme":"switch_theme"}}},{key:"templateContext",value:function(){return{ui:this.ui}}},{key:"switch_theme",value:function(e){var t;return t=(0,a.default)(e.target).html(),this.performSwitch(t)}},{key:"performSwitch",value:function(e){return console.log("performSwitch",e),r.request("main:app:set-theme",e),r.request("main:app:switch-theme",e)}}]),t}(c.View);return e.prototype.ui={stylesheet:"#main-stylesheet",theme:".theme"},e.prototype.template=s.default.renderable((function(){return s.default.div((function(){return i.forEach((function(e){return s.default.div(".theme.btn.btn-primary",e)}))}))})),e}.call(void 0),t.FrontDoorMainView=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,e),t}(c.View);return e.prototype.template=o,e}.call(void 0)},539:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l=n(0);(o=l)&&o.__esModule;function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}u=n(1).Radio.channel("global"),i=u.request("main:app:AuthModel"),r=u.request("main:app:AuthCollection"),a=function(e){var t,n,o;return o="/api/dev/dbadmin/models/"+e,n=function(){var t=function(e){function t(){return c(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),t}(i);return t.prototype.modelType=e,t.prototype.urlRoot=o,t}.call(this),t=function(){var e=function(e){function t(){return c(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),t}(r);return e.prototype.model=n,e.prototype.url=o,e}.call(this),{modelType:e,modelClass:n,collectionClass:t}},t.default=a},540:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0},l=p(n(541)),c=n(4),s=p(n(7)),f=p(n(300));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,e),u(t,[{key:"link",value:function(e,n,o){var r;return e.startsWith("#")?a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"link",this).call(this,e,n,o):("."===(r=l.default.dirname(location.hash))&&(r="#frontdoor/view"),e.startsWith("http")||(e=l.default.join(r,e)),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"link",this).call(this,e,n,o))}}]),t}(f.default.Renderer),i=new r,o=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,e),t}(c.View);return e.prototype.template=s.default.renderable((function(e){return s.default.article(".document-view.content",(function(){return s.default.div(".body",(function(){return s.default.raw((0,f.default)(e.content,{renderer:i}))}))}))})),e}.call(void 0),t.default=o},542:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatsView=t.ThemeSwitchView=t.FrontDoorMainView=void 0;var o,r,i,u,a,l,c,s,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),p=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0},d=m(n(541)),h=m(n(27)),y=n(1),b=m(n(4)),v=m(n(7)),_=m(n(300)),w=m(n(483));function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=y.Radio.channel("global"),u=function(e){function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,e),f(t,[{key:"link",value:function(e,n,o){var r;return e.startsWith("#")?p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"link",this).call(this,e,n,o):("."===(r=d.default.dirname(location.hash))&&(r="#frontdoor/view"),e.startsWith("http")||(e=d.default.join(r,e)),p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"link",this).call(this,e,n,o))}}]),t}(_.default.Renderer),s=new u,o=v.default.renderable((function(e){return v.default.article(".document-view.content",(function(){return v.default.div(".body",(function(){return v.default.raw((0,_.default)(e.content,{renderer:s}))}))}))})),l=["vanilla","cornsilk","BlanchedAlmond","DarkSeaGreen","LavenderBlush"],t.ThemeSwitchView=c=function(){var e=function(e){function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,e),f(t,[{key:"events",value:function(){return{"click @ui.theme":"switch_theme"}}},{key:"templateContext",value:function(){return{ui:this.ui}}},{key:"switch_theme",value:function(e){var t;return t=(0,h.default)(e.target).html(),this.performSwitch(t)}},{key:"performSwitch",value:function(e){return console.log("performSwitch",e),i.request("main:app:set-theme",e),i.request("main:app:switch-theme",e)}}]),t}(b.default.View);return e.prototype.ui={stylesheet:"#main-stylesheet",theme:".theme"},e.prototype.template=v.default.renderable((function(){return v.default.div((function(){return l.forEach((function(e){return v.default.div(".theme.btn.btn-primary",e)}))}))})),e}.call(void 0),t.FrontDoorMainView=r=function(){var e=function(e){function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,e),t}(b.default.View);return e.prototype.template=o,e}.call(void 0),t.StatsView=a=function(){var e=function(e){function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,e),t}(b.default.View);return e.prototype.template=v.default.renderable((function(){return v.default.div(".jsonview.listview-list-entry",{style:"overflow:auto"})})),e.prototype.behaviors={HasJsonView:{behaviorClass:w.default}},e}.call(void 0),t.FrontDoorMainView=r,t.ThemeSwitchView=c,t.StatsView=a},610:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),c=d(n(299)),s=d(n(457)),f=d(n(611)),p=d(n(614));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=l.Radio.channel("site-nav"),u=[{label:"User Admin",menu:[{label:"List Users",url:"#useradmin/user/list",icon:".fa.fa-list"},{label:"Add New User",url:"#useradmin/user/add",icon:".fa.fa-plus"},{label:"Hubby Dbadmin",url:"#admin/dbadmin/hubby",icon:".fa.fa-database"}]}],r=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,e),t}(s.default);return e.prototype.appRoutes={admin:"frontdoor","admin/view":"frontdoor","admin/login":"show_login","admin/logout":"show_logout","admin/dbadmin/hubby":"viewHubby"},e}.call(void 0),o=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,e),a(t,[{key:"onStart",value:function(){return i.request("set-admin-entries")}},{key:"onStop",value:function(){return console.log("(Child) Stopping admin",this.isRunning()),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onStop",this).call(this)}}]),t}(c.default);return e.prototype.Controller=f.default,e.prototype.Router=r,e.prototype.appletEntries=u,e.prototype.extraRouters={useradmin:p.default},e}.call(void 0),t.default=o},611:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0},i=n(1),u=n(4),a=n(164),l=s(n(169)),c=s(n(88));function s(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(536);var h,y,b,v,_,w,m,g=[].indexOf;y=i.Radio.channel("global"),b=i.Radio.channel("messages"),_=i.Radio.channel("resources"),m=n(7),v=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),o(t,[{key:"fetch",value:function(e){return(e=e||{}).dataType="text",r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fetch",this).call(this,e)}},{key:"parse",value:function(e){return{content:e}}}]),t}(i.Model);return e.prototype.url="/assets/documents/intro-admin.md",e}.call(void 0),w=m.renderable((function(){return m.div(".row",(function(){return m.div("#main-content")}))})),function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),o(t,[{key:"regions",value:function(){return{content:new l.default({el:"#main-content",speed:"slow"})}}},{key:"onBeforeDestroy",value:function(e){0}}]),t}(u.View);return e.prototype.template=w,e}.call(void 0),h=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),o(t,[{key:"setupLayoutIfNeeded",value:function(){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setupLayoutIfNeeded",this).call(this),this.layout.controller=this}},{key:"_view_resource",value:function(e){var t;return this.setupLayoutIfNeeded(),t=new(0,n(537).FrontDoorMainView)({model:e}),this.layout.showChildView("content",t)}},{key:"_view_login",value:function(){var e;return e=new(n(612)),this.layout.showChildView("content",e)}},{key:"_view_upload",value:function(){var e=this;return Promise.all([n.e(16),n.e(40)]).then(function(){var t;return t=new(0,n(687).default),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"upload_view",value:function(){return this.setupLayoutIfNeeded(),this._view_upload()}},{key:"view_page",value:function(e){var t,n,o=this;return(n=(t=_.request("get-document",e)).fetch()).done((function(){return t.get("content")||t.set("content","# Need a front page."),o._view_resource(t)})),n.fail((function(){return b.request("danger","Failed to get document")}))}},{key:"frontdoor_needuser",value:function(){var e;return e=y.request("main:app:decode-auth-token"),g.call(Object.keys(e),"name")>=0?this.frontdoor_hasuser(e):this.show_login()}},{key:"show_login",value:function(){return this.setupLayoutIfNeeded(),this._view_login()}},{key:"show_logout",value:function(){return y.request("main:app:destroy-auth-token"),(0,c.default)("/")}},{key:"frontdoor_hasuser",value:function(e){return this.default_view()}},{key:"view_readme",value:function(){var e,t,n=this;return console.log("view_readme",this),this.setupLayoutIfNeeded(),(t=(e=new v).fetch()).done((function(){return n._view_resource(e)})),t.fail((function(){return b.request("warning","failed to get readme")}))}},{key:"default_view",value:function(){return this.setupLayoutIfNeeded(),this.view_readme()}},{key:"frontdoor",value:function(){var e;return(null!=(e=y.request("main:app:config"))?e.needLogin:void 0)?this.frontdoor_needuser():this.default_view()}},{key:"start",value:function(){return this.frontdoor()}},{key:"themeSwitcher",value:function(){var e;return this.setupLayoutIfNeeded(),e=new(0,n(537).ThemeSwitchView),this.layout.showChildView("content",e),console.log("themeSwitcher")}},{key:"viewHubby",value:function(){var e;return this.setupLayoutIfNeeded(),e=new(n(613)),this.layout.showChildView("content",e)}}]),t}(a.MainController),t.default=h},612:function(e,t,n){"use strict";var o,r,i,u,a,l,c,s,f,p,d,h,y,b,v,_,w=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}o=n(27),r=n(1),s=n(4),v=n(7),y=n(91).default,b=n(88).default;var j=n(89);d=j.form_group_input_div,u=n(90).default,l=r.Radio.channel("global"),f=r.Radio.channel("messages"),h=v.renderable((function(e){return d({input_id:"input_username",label:"User Name",input_attributes:{name:"username",placeholder:"User Name"}}),d({input_id:"input_password",label:"Password",input_attributes:{name:"password",type:"password",placeholder:"Type your password here...."}}),v.input(".btn.btn-primary",{type:"submit",value:"login"}),v.div(".spinner.fa.fa-spinner.fa-spin")})),i=function(e){function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O(t,e),w(t,[{key:"ui",value:function(){return y(this.fieldList)}},{key:"createModel",value:function(){return new r.Model}},{key:"onSuccess",value:function(){return b("/admin")}}]),t}(u),a=function(){var e=function(e){function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O(t,e),w(t,[{key:"updateModel",value:function(){return console.log("updateModel called"),this.model.set("username",this.ui.username.val()),this.model.set("password",this.ui.password.val())}},{key:"saveModel",value:function(){var e,t,n,r=this;return t=this.model.get("username"),e=this.model.get("password"),n=o.ajax({url:"/login",type:"POST",data:{username:t,password:e},dataType:"json",success:function(e){var t;return t=e.token,l.request("main:app:set-auth-token",t),r.trigger("save:form:success",r.model)},error:function(e){var t;return t=e.responseJSON,f.request("danger",t.message),r.trigger("save:form:failure",r.model)}}),console.log("returning xhr",n)}}]),t}(i);return e.prototype.template=h,e.prototype.fieldList=["username","password"],e}.call(void 0),_=v.renderable((function(e){return d({input_id:"input_token",label:"Auth Token",input_attributes:{name:"token",placeholder:"xxxxxxxxxxxxxxx"}}),v.input(".btn.btn-primary",{type:"submit",value:"login"}),v.div(".spinner.fa.fa-spinner.fa-spin")})),p=function(){var e=function(e){function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O(t,e),w(t,[{key:"updateModel",value:function(){return console.log("updateModel called"),this.model.set("token",this.ui.token.val())}},{key:"saveModel",value:function(){var e,t,n=this;return t=this.model.get("token"),l.request("main:app:set-auth-token",t),(e=(new(l.request("main:app:AuthRefresh"))).fetch()).fail((function(){return n.trigger("save:form:failure",n.model)})),e.done((function(){return n.trigger("save:form:success",n.model)}))}}]),t}(i);return e.prototype.template=_,e.prototype.fieldList=["token"],e}.call(void 0),c=function(){var e=function(e){function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O(t,e),w(t,[{key:"onRender",value:function(){return this.showChildView("login",new a),this.showChildView("token",new p)}}]),t}(s.View);return e.prototype.template=v.renderable((function(e){return v.div("#login-form"),v.div("#token-form")})),e.prototype.regions={login:"#login-form",token:"#token-form"},e}.call(void 0),e.exports=c},613:function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,l,c,s,f,p,d,h,y,b,v,_,w,m=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")};n(27),l=n(1),h=n(4),w=n(7),n(300),f=n(481),v=n(538),d=l.Radio.channel("global"),y=l.Radio.channel("messages"),a=d.request("main:app:AuthModel"),d.request("main:app:AuthCollection"),b=function(){var e=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),t}(a);return e.prototype.url="/rest/v0/main/hubby/dbadmin/testme",e}.call(void 0),s=function(){var e=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),t}(a);return e.prototype.url="/rest/v0/main/hubby/dbadmin/delete-all",e}.call(void 0),c=function(){var e=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),t}(a);return e.prototype.url="/rest/v0/main/hubby/dbadmin/testme",e}.call(void 0),_=w.renderable((function(e){return w.div(".dropzone.card",(function(){return w.div(".card-header",(function(){return w.text("drop a dump of meetings to upload")})),w.div(".card-body",(function(){return w.div(".parse-btn.btn.btn-primary",{style:"display:none"},(function(){return w.text("upload dropped meetings")})),w.input(".file-input.input",{type:"file"}),w.span(".parse-chosen-btn.btn.btn-primary",{style:"display:none"},(function(){return w.text("Parse dropped meetings")}))}))}))})),p=function(){var e=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.successfulParse=e.successfulParse.bind(e),e.fileReaderOnLoad=e.fileReaderOnLoad.bind(e),e}return u(t,e),o(t,[{key:"deleteBtnClicked",value:function(){var e;return console.log("deleteBtnClicked"),(e=new s).fetch().done((function(){return y.request("success",e.get("result"))}))}},{key:"fileInputClicked",value:function(e){return console.log("file_input_clicked",e),this.ui.fileInput.val(null),this.ui.chosenBtn.hide()}},{key:"fileInputChanged",value:function(e){return console.log("file_input_changed",e),this.ui.chosenBtn.show()}},{key:"handleDrop",value:function(e){var t;return e.preventDefault(),this.ui.dropzone.css("border","0px"),t=e.originalEvent.dataTransfer.files[0],this.ui.statusMsg.text("File: "+t.name),this.droppedFile=t,this.ui.parseBtn.show()}},{key:"handleDragOver",value:function(e){return e.preventDefault(),e.stopPropagation()}},{key:"handleDragEnter",value:function(e){return e.stopPropagation(),e.preventDefault(),this.ui.dropzone.css("border","2px dotted")}},{key:"successfulParse",value:function(){return m(this,t),this.ui.statusMsg.text("Parse Successful"),y.request("success","successfulParse")}},{key:"fileReaderOnLoad",value:function(e){var n,o,r,i,u=this;return m(this,t),n=e.target.result,o=e.target.fileObject.name,this.ui.statusMsg.text("Retrieved file content of "+o),i=(r=new b({content:btoa(n)})).save(),this.ui.statusMsg.text("Uploaded "+o+"."),i.fail((function(){return y.request("warning","failed to save model")})),i.done((function(){var e;return console.log("MODEL",r),e=r.get("data"),r.get("output"),y.request("success","Finished import year "+e.year),u.ui.statusMsg.text("Finished import year "+e.year)}))}},{key:"readFile",value:function(e){var t;return(t=new FileReader).onload=this.fileReaderOnLoad,t.fileObject=e,t.readAsBinaryString(e)}},{key:"handleChosenFile",value:function(){var e,t;return t=this.ui.fileInput.val(),this.ui.statusMsg.text("Reading chosen file...("+t+")"),e=this.ui.fileInput[0].files[0],this.ui.parseBtn.hide(),this.readFile(e)}},{key:"handleDroppedFile",value:function(){return this.ui.statusMsg.text("Reading dropped file... ("+this.droppedFile.name+")"),this.ui.parseBtn.hide(),this.readFile(this.droppedFile)}},{key:"exportBtnClicked",value:function(){var e;return this.ui.statusMsg.text("Exporting database..."),(e=new c).fetch().done((function(){var t,n;return n={filename:"dbdump.json.xz",type:"application/octet-stream",data:e.get("content")},console.log("content",n.data),t=v(n.data,n.type),console.log("BLOB",t),f.saveAs(t,n.filename),y.request("primary","Exported database...."),console.log("exported",e)}))}}]),t}(h.View);return e.prototype.template=w.renderable((function(e){return w.div(".listview-header","Hubby Dbadmin"),w.button(".delete-btn.btn.btn-danger","Delete"),w.button(".export-btn.btn.btn-info","Export"),_(e)})),e.prototype.ui={header:".listview-header",deleteBtn:".delete-btn",fileInput:".file-input",parseBtn:".parse-btn",chosenBtn:".parse-chosen-btn",exportBtn:".export-btn",dropzone:".dropzone",statusMsg:".card-header"},e.prototype.events={"dragover @ui.dropzone":"handleDragOver","dragenter @ui.dropzone":"handleDragEnter","drop @ui.dropzone":"handleDrop","click @ui.fileInput":"fileInputClicked","change @ui.fileInput":"fileInputChanged","click @ui.parseBtn":"handleDroppedFile","click @ui.chosenBtn":"handleChosenFile","click @ui.deleteBtn":"deleteBtnClicked","click @ui.exportBtn":"exportBtnClicked"},e}.call(void 0),e.exports=p},614:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});u(n(4));var o,r=u(n(615)),i=u(n(457));function u(e){return e&&e.__esModule?e:{default:e}}o=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i.default);return e.prototype.appRoutes={"admin/useradmin":"listUsers","admin/user/list":"listUsers","admin/user/add":"addNewUser","admin/user/view/:id":"viewUser","admin/user/edit/:id":"editUser"},e}.call(void 0),t.default={router:o,controller:r.default}},615:function(e,t,n){"use strict";var o,r,i,u,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(27),o=n(1),n(4),n(7),n(59),n(164).ExtraController,u=o.Radio.channel("global"),i=u.request("crud:Controller"),r=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"initialize",value:function(e){this.applet=u.request("main:applet:get-applet","adminpanel"),this.mainController=this.applet.router.controller}},{key:"listUsers",value:function(){var e=this;n.e(80).then(function(){var t;return t=n(691),e.listItems(t)}.bind(null,n)).catch(n.oe)}},{key:"viewUser",value:function(e){var t=this;n.e(81).then(function(){var o;return o=n(692),t.viewItem(o,e)}.bind(null,n)).catch(n.oe)}},{key:"addNewUser",value:function(){var e;e=u.request("crud:view:new-item"),this.addItem(e)}},{key:"editUser",value:function(e){var t;t=u.request("crud:view:edit-item"),this.editItem(t,e)}}]),t}(i);return e.prototype.defaultColumns=["id","username","fullname"],e.prototype.viewOptions={fieldList:["username","fullname","email"],entryField:"fullname",modelName:"user",label:"user",routeName:"admin"},e.prototype.channelName="useradmin",e}.call(void 0),e.exports=r},624:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u=n(0),a=s(n(299)),l=s(n(457)),c=s(n(625));function s(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=[{label:"Main",url:"#company",icon:".fa.fa-star"},{label:"Add Workers",url:"#company/potential-workers",icon:".fa.fa-plus"}],r=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),t}(l.default);return e.prototype.channelName="company",e.prototype.permittedGroups=["admin","boss","worker"],e.prototype.navbarEntries="index",e.prototype.appRoutes={company:"viewIndex","company/boss/add":"addBoss","company/boss/list":"viewIndex","company/company/list":"listCompanies","company/company/view/:id":"viewCompany","company/company/add":"addCompany","company/worker":"workerIndex","company/session/view/:id":"viewWorkSession"},e}.call(void 0),o=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),t}(a.default);return e.prototype.Controller=c.default,e.prototype.Router=r,e.prototype.appletEntries=[{label:(0,u.capitalize)("company")+" Menu",menu:i}],e}.call(void 0),t.default=o},625:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),c=n(164),s=n(165);n(626),i=l.Radio.channel("global"),u=l.Radio.channel("messages"),o=l.Radio.channel("company"),r=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"viewIndex",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(29).then(function(){var t;return t=new(0,n(702).default),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"addBoss",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(26).then(function(){var t;return t=new(0,n(704).default),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"addCompany",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(27).then(function(){var t;return t=new(0,n(705).default),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"listCompanies",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(30).then(function(){var t,o,r;return t=e.getChannel().request("db:company:collection"),r=new(0,n(707).default)({collection:t}),e.layout.showChildView("content",r),(o=t.fetch()).done((function(){return console.log("models fetched",t)})),o.fail((function(){return u.request("xhr-error",o)}))}.bind(null,n)).catch(n.oe)}},{key:"viewCompany",value:function(e){var t=this;return this.setupLayoutIfNeeded(),n.e(31).then(function(){var r,i,a;return r=n(708).default,i=o.request("db:company:get",e),(a=i.fetch()).done((function(){var e;return e=new r({model:i}),t.layout.showChildView("content",e)})),a.fail((function(){return u.request("xhr-error",a)}))}.bind(null,n)).catch(n.oe)}},{key:"workerIndex",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(1),n.e(3),n.e(2),n.e(85),n.e(33)]).then(function(){var t,r,u;return t=n(710).default,r=i.request("main:app:decode-auth-token"),u=new t({model:o.request("db:worker:get",r.uid)}),e.layout.showChildView("content",u)}.bind(null,n)).catch(n.oe)}},{key:"viewCalendar",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(3),n.e(2),n.e(28)]).then(function(){var t;return t=new(0,n(721).default),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"viewWorkSession",value:function(e){var t=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(2),n.e(32)]).then(function(){var r,i,a;return r=n(722).default,a=o.request("db:worksession:get",e),(i=a.fetch()).fail((function(){return u.request("xhr-error",i)})),i.done((function(){var e;return e=new r({model:a}),t.layout.showChildView("content",e)}))}.bind(null,n)).catch(n.oe)}}]),t}(c.MainController);return e.prototype.channelName="company",e.prototype.layoutClass=s.ToolbarAppletLayout,e}.call(void 0),t.default=r},626:function(e,t,n){"use strict";var o,r,i,u,a,l,c,s,f,p,d,h,y,b,v,_,w,m=n(0),g=n(1),O=j(n(451));j(n(171));function j(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}s=g.Radio.channel("global"),o=g.Radio.channel("company"),v="/api/dev/company",i=s.request("main:app:AuthModel"),r=s.request("main:app:AuthCollection"),_={},w={channelName:"company"},u=function(){var e=function(e){function t(){return P(this,t),k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return C(t,e),t}(i);return e.prototype.urlRoot="/api/dev/company/boss",e.prototype.validation={name:{minLength:2,required:!0}},e}.call(void 0),a=function(){var e=function(e){function t(){return P(this,t),k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return C(t,e),t}(r);return e.prototype.model=u,e.prototype.url="/api/dev/company/boss",e}.call(void 0),_.boss=new O.default((0,m.extend)(w,{modelName:"boss",modelClass:u,collectionClass:a})),l=function(){var e=function(e){function t(){return P(this,t),k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return C(t,e),t}(i);return e.prototype.urlRoot="/api/dev/company/company",e.prototype.validation={name:{required:!0}},e}.call(void 0),c=function(){var e=function(e){function t(){return P(this,t),k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return C(t,e),t}(r);return e.prototype.model=l,e.prototype.url="/api/dev/company/company",e}.call(void 0),_.company=new O.default((0,m.extend)(w,{modelName:"company",modelClass:l,collectionClass:c})),y=function(){var e=function(e){function t(){return P(this,t),k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return C(t,e),t}(i);return e.prototype.urlRoot="/api/dev/company/worker",e}.call(void 0),b=function(){var e=function(e){function t(){return P(this,t),k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return C(t,e),t}(r);return e.prototype.model=y,e.prototype.url="/api/dev/company/worker",e}.call(void 0),_.worker=new O.default((0,m.extend)(w,{modelName:"worker",modelClass:y,collectionClass:b})),d=function(){var e=function(e){function t(){return P(this,t),k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return C(t,e),t}(i);return e.prototype.urlRoot="/api/dev/company/worksession",e}.call(void 0),h=function(){var e=function(e){function t(){return P(this,t),k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return C(t,e),t}(r);return e.prototype.model=d,e.prototype.url="/api/dev/company/worksession",e}.call(void 0),_.workSession=new O.default((0,m.extend)(w,{modelName:"worksession",modelClass:d,collectionClass:h})),f=function(){var e=function(e){function t(){return P(this,t),k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return C(t,e),t}(r);return e.prototype.url=v+"/potential-workers",e}.call(void 0),o.reply("get-potential-workers",(function(){return new f})),p=function(){var e=function(e){function t(){return P(this,t),k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return C(t,e),t}(i);return e.prototype.urlRoot="/api/dev/company/time-clock",e}.call(void 0),o.reply("TimeClock",(function(){return p}))},627:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u=n(0),a=s(n(299)),l=s(n(628)),c=s(n(457));function s(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=[{label:"Main",url:"#dbadmin",icon:".fa.fa-star"},{label:"List Models",url:"#dbadmin/models",icon:".fa.fa-list"}],r=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),t}(c.default);return e.prototype.channelName="dbadmin",e.prototype.appRoutes={dbadmin:"viewIndex","dbadmin/models":"listModelTypes","dbadmin/models/:modelType":"listModels"},e}.call(void 0),o=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),t}(a.default);return e.prototype.Controller=l.default,e.prototype.Router=r,e.prototype.appletEntries=[{label:(0,u.capitalize)("dbadmin")+" Menu",menu:i}],e}.call(void 0),t.default=o},628:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),f=n(164),p=n(165),d=n(539),h=(o=d)&&o.__esModule?o:{default:o};function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}u=s.Radio.channel("global"),a=s.Radio.channel("messages"),r=u.request("main:app:AuthCollection"),l=function(){var e=function(e){function t(){return y(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,e),t}(r);return e.prototype.url="/api/dev/dbadmin/list-models",e}.call(void 0),i=function(){var e=function(e){function t(){return y(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,e),c(t,[{key:"viewIndex",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(5),n.e(86),n.e(34)]).then(function(){var t;return t=new(0,n(723).default),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"listModelTypes",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(35).then(function(){var t;return t=n(803).default,e.collection.fetch().done((function(){var n;return n=new t({collection:e.collection}),e.layout.showChildView("content",n)}))}.bind(null,n)).catch(n.oe)}},{key:"listModels",value:function(e){var t=this;return this.setupLayoutIfNeeded(),n.e(36).then(function(){var o,r,i,u;return o=n(804).default,r=(0,h.default)(e),i=new r.collectionClass,(u=i.fetch()).fail((function(){return a.request("xhr-error",u)})),u.done((function(){var e;return i.forEach((function(e){var t;return t=e.toJSON(),(0,h.default)(t.name)})),e=new o({collection:i}),t.layout.showChildView("content",e)}))}.bind(null,n)).catch(n.oe)}}]),t}(f.MainController);return e.prototype.layoutClass=p.ToolbarAppletLayout,e.prototype.collection=new l,e}.call(void 0),t.default=i},629:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(299)),r=c(n(457));n(536);var i,u,a,l=c(n(630));function c(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a=[{button:"#list-button",label:"List",url:"#dbdocs/documents",icon:".fa.fa-list"},{label:"Add New Document",url:"#dbdocs/documents/new",icon:".fa.fa-plus"}],u=function(){var e=function(e){function t(){return s(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),t}(r.default);return e.prototype.appRoutes={dbdocs:"list_pages","dbdocs/documents":"list_pages","dbdocs/documents/new":"new_page","dbdocs/documents/view/:id":"view_page","dbdocs/documents/edit/:id":"edit_page"},e}.call(void 0),i=function(){var e=function(e){function t(){return s(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),t}(o.default);return e.prototype.Controller=l.default,e.prototype.Router=u,e.prototype.appletEntries=[{label:"Site Doc Menu",menu:a}],e}.call(void 0),t.default=i},630:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l,c,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),f=n(1),p=n(164),d=n(482),h=(o=d)&&o.__esModule?o:{default:o},y=n(165);u=f.Radio.channel("messages"),a=f.Radio.channel("resources"),r=f.Radio.channel("dbdocs"),l=[],c=new f.Collection(l),r.reply("get-toolbar-entries",(function(){return c})),i=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"setupLayoutIfNeeded",value:function(){var e;return function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setupLayoutIfNeeded",this).call(this),e=new h.default({collection:c}),this.layout.showChildView("toolbar",e)}},{key:"list_pages",value:function(){var e=this;return this.setupLayoutIfNeeded(),console.log("List Pages"),n.e(38).then(function(){var t,o,r;return t=n(805).default,r=new t({collection:e.collection}),(o=e.collection.fetch()).done((function(){return e.layout.showChildView("content",r)})),o.fail((function(){return u.request("danger","Failed to load documents.")}))}.bind(null,n)).catch(n.oe)}},{key:"edit_page",value:function(e){var t=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(14),n.e(6)]).then(function(){var o,r;return o=n(588).EditPageView,r=a.request("db:document:get",e),t._loadView(o,r)}.bind(null,n)).catch(n.oe)}},{key:"view_page",value:function(e){var t=this;return this.setupLayoutIfNeeded(),n.e(37).then(function(){var o,r;return o=n(812).default,r=a.request("db:document:get",e),t._loadView(o,r)}.bind(null,n)).catch(n.oe)}},{key:"new_page",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(14),n.e(6)]).then(function(){var t;return t=new(0,n(588).NewPageView),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}}]),t}(p.MainController);return e.prototype.layoutClass=y.ToolbarAppletLayout,e.prototype.collection=a.request("db:document:collection"),e}.call(void 0),t.default=i},631:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l=n(1),c=p(n(299)),s=n(0),f=p(n(632));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=l.Radio.channel("global"),o=i.request("main:app:IndexRouter"),a=[{label:"Main",url:"#eliza",icon:".fa.fa-terminal.text-light.bg-dark"}],u=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,e),t}(o);return e.prototype.channelName="eliza",e.prototype.appRoutes={eliza:"viewIndex"},e}.call(void 0),r=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,e),t}(c.default);return e.prototype.Controller=f.default,e.prototype.Router=u,e.prototype.appletEntries=[{label:(0,s.capitalize)("eliza")+" Menu",menu:a}],e}.call(void 0),t.default=r},632:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(164),u=n(165);o=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"viewIndex",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(15),n.e(39)]).then(function(){var t;return t=new(0,n(813).default),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}}]),t}(i.MainController);return e.prototype.layoutClass=u.ToolbarAppletLayout,e}.call(void 0),t.default=o},633:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(1),s=p(n(299)),f=p(n(634));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=c.Radio.channel("global"),o=i.request("main:app:IndexRouter"),a=[{id:"company",label:"Company",url:"#company",icon:".fa.fa-users"},{id:"places",label:"Places",url:"#places",icon:".fa.fa-globe"},{id:"todos",label:"Todo List",url:"#todos",icon:".fa.fa-list"},{id:"sunny",label:"Sunny",url:"#sunny",icon:".fa.fa-sun-o"}],u=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,e),t}(o);return e.prototype.channelName="frontdoor",e.prototype.appRoutes={"":"frontdoor",frontdoor:"frontdoor","frontdoor/view":"frontdoor","frontdoor/view/*name":"viewPage","frontdoor/login":"showLogin","frontdoor/logout":"showLogout",login:"showLogin",logout:"showLogout","pages/:name":"viewPage"},e}.call(void 0),r=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,e),l(t,[{key:"onStop",value:function(){return console.log("(Child) Stopping frontdoor",this.isRunning()),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onStop",this).call(this)}}]),t}(s.default);return e.prototype.Controller=f.default,e.prototype.Router=u,e.prototype.appletEntries=[{label:"Main Menu",menu:a}],e}.call(void 0),t.default=r},634:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AssetCollection=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0},i=n(1),u=p(n(7)),a=n(164),l=p(n(169)),c=n(165),s=p(n(635)),f=p(n(540));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b,v,_,w,m,g,O,j=[].indexOf;w=i.Radio.channel("global"),m=i.Radio.channel("messages"),O=i.Radio.channel("site-nav"),b=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,e),o(t,[{key:"fetch",value:function(e){return(e=e||{}).dataType="text",r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fetch",this).call(this,e)}},{key:"parse",value:function(e){return{content:e}}}]),t}(i.Model);t.AssetCollection=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,e),t}(i.Collection);return e.prototype.urlRoot="/assets/documents",e}.call(void 0);g=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,e),t}(b);return e.prototype.url="/assets/documents/intro.md",e}.call(void 0),_=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,e),o(t,[{key:"regions",value:function(){return{content:new l.default({el:"#main-content",speed:"slow"})}}}]),t}(c.BaseAppletLayout);return e.prototype.template=u.default.renderable((function(){return u.default.div(".row",(function(){return u.default.div("#main-content")}))})),e}.call(void 0),v=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,e),o(t,[{key:"setupLayoutIfNeeded",value:function(){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setupLayoutIfNeeded",this).call(this),this.layout.controller=this}},{key:"_viewResource",value:function(e){var t;return this.setupLayoutIfNeeded(),t=new f.default({model:e}),this.layout.showChildView("content",t)}},{key:"_viewLogin",value:function(){var e;return e=new s.default,this.layout.showChildView("content",e)}},{key:"frontdoor_needuser",value:function(){var e;return e=w.request("main:app:decode-auth-token"),j.call(Object.keys(e),"name")>=0?this.frontdoor_hasuser(e):this.show_login()}},{key:"showLogin",value:function(){return this.setupLayoutIfNeeded(),this._viewLogin()}},{key:"showLogout",value:function(){return w.request("main:app:destroy-auth-token"),O.request("set-index-entries"),i.history.navigate("#",{trigger:!0})}},{key:"frontdoor_hasuser",value:function(){return this.defaultView()}},{key:"view_readme",value:function(){var e,t,n=this;return this.setupLayoutIfNeeded(),(t=(e=new g).fetch()).done((function(){return n._viewResource(e)})),t.fail((function(){return m.request("warning","failed to get readme")}))}},{key:"viewPage",value:function(e){var t,n,o=this;return this.setupLayoutIfNeeded(),(n=(t=w.request("main:app:get-document",e)).fetch()).done((function(){return o._viewResource(t)})),n.fail((function(){return m.request("warning","failed to get "+e)}))}},{key:"defaultView",value:function(){return this.setupLayoutIfNeeded(),this.view_readme()}},{key:"frontdoor",value:function(){var e;return(null!=(e=w.request("main:app:config"))?e.needLogin:void 0)?this.frontdoor_needuser():this.defaultView()}}]),t}(a.MainController);return e.prototype.layoutClass=_,e}.call(void 0),t.default=v},635:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=_(n(27)),f=n(1),p=n(4),d=_(n(7)),h=_(n(91)),y=_(n(88)),b=n(89),v=_(n(90));function _(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=f.Radio.channel("global"),a=f.Radio.channel("messages"),o=function(e){function t(){return w(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,e),c(t,[{key:"ui",value:function(){return(0,h.default)(this.fieldList)}},{key:"createModel",value:function(){return new f.Model}},{key:"onSuccess",value:function(){return(0,y.default)("#")}}]),t}(v.default),r=function(){var e=function(e){function t(){return w(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,e),c(t,[{key:"updateModel",value:function(){return console.log("updateModel called"),this.model.set("username",this.ui.username.val()),this.model.set("password",this.ui.password.val())}},{key:"saveModel",value:function(){var e,t,n,o=this;return t=this.model.get("username"),e=this.model.get("password"),n=s.default.ajax({url:"/login",type:"POST",data:{username:t,password:e},dataType:"json",success:function(e){var t;return t=e.token,i.request("main:app:set-auth-token",t),o.trigger("save:form:success",o.model)},error:function(e){var t;return t=e.responseJSON,a.request("danger",t.message),o.trigger("save:form:failure",o.model)}}),console.log("returning xhr",n)}}]),t}(o);return e.prototype.template=d.default.renderable((function(){return(0,b.form_group_input_div)({input_id:"input_username",label:"User Name",input_attributes:{name:"username",placeholder:"User Name"}}),(0,b.form_group_input_div)({input_id:"input_password",label:"Password",input_attributes:{name:"password",type:"password"},placeholder:"Type your password here...."}),d.default.input(".btn.btn-primary",{type:"submit",value:"login"}),d.default.div(".spinner.fa.fa-spinner.fa-spin")})),e.prototype.fieldList=["username","password"],e}.call(void 0),l=function(){var e=function(e){function t(){return w(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,e),c(t,[{key:"updateModel",value:function(){return console.log("updateModel called"),this.model.set("token",this.ui.token.val())}},{key:"saveModel",value:function(){var e,t,n,o=this;return n=this.model.get("token"),i.request("main:app:set-auth-token",n),e=new(i.request("main:app:AuthRefresh")),(t=e.fetch()).fail((function(){var e;return e=t.responseJSON,a.request("danger",e.message),o.trigger("save:form:failure",o.model)})),t.done((function(){return o.trigger("save:form:success",o.model)}))}}]),t}(o);return e.prototype.template=d.default.renderable((function(){return(0,b.form_group_input_div)({input_id:"input_token",label:"Auth Token",input_attributes:{name:"token",placeholder:"xxxxxxxxxxxxxxx"}}),d.default.input(".btn.btn-primary",{type:"submit",value:"login"}),d.default.div(".spinner.fa.fa-spinner.fa-spin")})),e.prototype.fieldList=["token"],e}.call(void 0),u=function(){var e=function(e){function t(){return w(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,e),c(t,[{key:"onRender",value:function(){return this.showChildView("login",new r),this.showChildView("token",new l)}}]),t}(p.View);return e.prototype.template=d.default.renderable((function(){return d.default.div("#login-form"),d.default.div("#token-form")})),e.prototype.regions={login:"#login-form",token:"#token-form"},e}.call(void 0),t.default=u},636:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l=n(1),c=n(0),s=p(n(299)),f=p(n(637));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=l.Radio.channel("global"),o=i.request("main:app:IndexRouter"),a=[{label:"Main",url:"#hourly",icon:".fa.fa-star"},{label:"List Workers",url:"#hourly/list-workers",icon:".fa.fa-list"},{label:"Add Workers",url:"#hourly/potential-workers",icon:".fa.fa-plus"},{label:"Calendar",url:"#hourly/calendar",icon:".fa.fa-calendar"}],u=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,e),t}(o);return e.prototype.channelName="hourly",e.prototype.appRoutes={hourly:"viewIndex","hourly/calendar":"viewCalendar","hourly/potential-workers":"viewPotentialWorkers","hourly/list-workers":"viewWorkers"},e}.call(void 0),r=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,e),t}(s.default);return e.prototype.Controller=f.default,e.prototype.Router=u,e.prototype.appletEntries=[{label:(0,c.capitalize)("hourly")+" Menu",menu:a}],e}.call(void 0),t.default=r},637:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(1),l=n(164),c=n(165);n(638),r=a.Radio.channel("global"),i=a.Radio.channel("messages"),o=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),u(t,[{key:"viewIndex",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(1),n.e(42)]).then(function(){var t,o,i;return t=r.request("main:app:decode-auth-token"),i=e.getChannel().request("db:worker:get",t.uid),o=new(0,n(818).default)({model:i}),e.layout.showChildView("content",o)}.bind(null,n)).catch(n.oe)}},{key:"viewCalendar",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(3),n.e(41)]).then(function(){var t;return t=new(0,n(820).default),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"viewWorkers",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(43).then(function(){var t,o,r;return t=e.getChannel().request("db:worker:collection"),r=new(0,n(821).default)({collection:t}),e.layout.showChildView("content",r),(o=t.fetch()).done((function(){return console.log("workers fetched")})),o.fail((function(){return i.request("danger",o.responseJSON.message)}))}.bind(null,n)).catch(n.oe)}},{key:"viewPotentialWorkers",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(44).then(function(){var t,o,r;return t=e.getChannel().request("get-potential-workers"),r=new(0,n(822).default)({collection:t}),(o=t.fetch()).done((function(){return console.log("pworkers fetched",t)})),o.fail((function(){return console.log("pworkers.fetch() failed",o),i.request("danger",o.responseJSON.message)})),e.layout.showChildView("content",r)}.bind(null,n)).catch(n.oe)}}]),t}(l.MainController);return e.prototype.channelName="hourly",e.prototype.layoutClass=c.ToolbarAppletLayout,e}.call(void 0),t.default=o},638:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.workSessions=t.workers=void 0;var o,r,i,u,a,l,c,s,f,p,d,h,y=w(n(27)),b=n(1),v=n(0),_=w(n(451));function w(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}u=b.Radio.channel("global"),o=b.Radio.channel("hourly"),p="/api/dev/hourly",i=u.request("main:app:AuthModel"),r=u.request("main:app:AuthCollection"),h={channelName:"hourly"},s=function(){var e=function(e){function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O(t,e),t}(i);return e.prototype.urlRoot="/api/dev/hourly/crud/workers",e}.call(void 0),f=function(){var e=function(e){function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O(t,e),t}(r);return e.prototype.model=s,e.prototype.url="/api/dev/hourly/crud/workers",e}.call(void 0);t.workers=new _.default((0,v.extend)(h,{modelName:"worker",modelClass:s,collectionClass:f}));l=function(){var e=function(e){function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O(t,e),t}(i);return e.prototype.urlRoot="/api/dev/hourly/crud/worksessions",e}.call(void 0),c=function(){var e=function(e){function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O(t,e),t}(r);return e.prototype.model=l,e.prototype.url="/api/dev/hourly/crud/worksessions",e}.call(void 0);t.workSessions=new _.default((0,v.extend)(h,{modelName:"worksession",modelClass:l,collectionClass:c}));a=function(){var e=function(e){function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O(t,e),t}(r);return e.prototype.url=p+"/potential-workers",e}.call(void 0),o.reply("get-potential-workers",(function(){return new a})),d=void 0,o.reply("maincalendar:set-date",(function(){var e;e=(0,y.default)("#maincalendar"),d=e.fullCalendar("getDate")})),o.reply("maincalendar:get-date",(function(){return d}))},639:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u=n(0),a=s(n(92)),l=s(n(299)),c=s(n(640));function s(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=[{id:"dbadmin",label:"Db Admin",url:"#junk/dbadmin",icon:".fa.fa-database"},{id:"emojilist",label:"List Emojis",url:"#junk/emojilist",icon:".fa.fa-smile-o.text-dark.bg-warning"}],r=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),t}(a.default);return e.prototype.channelName="junk",e.prototype.appRoutes={junk:"viewIndex","junk/upload":"uploadView","junk/themes":"themeSwitcher","junk/emojilist":"viewEmojis","junk/dbadmin":"viewDbAdmin"},e}.call(void 0),o=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),t}(l.default);return e.prototype.Controller=c.default,e.prototype.Router=r,e.prototype.appletEntries=[{label:(0,u.capitalize)("junk")+" Menu",menu:i}],e}.call(void 0),t.default=o},640:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(1),u=n(164),a=n(165);o=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"viewIndex",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(49).then(function(){var t;return t=new(0,n(823).default),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"viewEmojis",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(46).then(function(){var t;return t=new(0,n(824).default),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"viewDbAdmin",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(48).then(function(){var t;return t=new(0,n(825).default),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"uploadView",value:function(){return this.setupLayoutIfNeeded(),this._viewUpload()}},{key:"_viewUpload",value:function(){var e=this;return Promise.all([n.e(16),n.e(47)]).then(function(){var t;return t=new(0,n(826).default),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"themeSwitcher",value:function(){var e;return this.setupLayoutIfNeeded(),e=new(0,n(542).ThemeSwitchView),this.layout.showChildView("content",e),console.log("themeSwitcher")}},{key:"statsView",value:function(){var e,t,o=this;this.setupLayoutIfNeeded();var r=n(542);return e=r.StatsView,(t=new i.Model).url="/stats.json",t.fetch().done((function(){var n;return n=new e({model:t}),o.layout.showChildView("content",n)}))}}]),t}(u.MainController);return e.prototype.channelName="junk",e.prototype.layoutClass=a.ToolbarAppletLayout,e}.call(void 0),t.default=o},643:function(e,t,n){var o=n(644);"string"==typeof o&&(o=[[e.i,o,""]]);var r={insert:"head",singleton:!1};n(303)(o,r);o.locals&&(e.exports=o.locals)},644:function(e,t,n){(e.exports=n(298)(!1)).push([e.i,'.jsonView{\n    margin-left: 20px;\n    font-family: Consolas, "Lucida Console", Menlo, "dejavu sans mono", monospace;\n    font-size: 16px;\n    line-height: 16px;\n    padding: 2px;\n    cursor: default;\n    color: cornsilk;\n    white-space: nowrap;\n    -webkit-user-select: none;\n}\n\n.jsonView>div{\n    display: inline-block;\n}\n\n.jsonView>.children, .jsonView.insert{\n    display: block;\n}\n\n.jsonView>.name{\n    color: mistyrose;\n}\n\n.jsonView>.separator:before{\n    content: ":";\n}\n\n.jsonView>.separator {\n    padding-right: 5px;\n}\n\n.jsonView>.value.null{\n    color: rgb(128, 128, 128);\n}\n\n.jsonView>.value.boolean, .jsonView>.value.number{\n    color: lightseagreen;\n}\n\n.jsonView>.value.string:not(.edit):before, .jsonView>.value.string:not(.edit):after{\n    content: "\\"";\n}\n\n.jsonView>.value.string {\n    color: lightsalmon;\n}\n\n.jsonView>.name:hover, .jsonView>.value:hover{\n    background-color: rgba(56, 121, 217, 0.1);\n}\n\n.jsonView>.jv-expand, .jsonView>.jv-collapse{\n    min-width: 20px;\n    margin-left: -20px;\n    cursor: pointer;\n}\n\n.jsonView>.jv-expand:before{\n    content: \'\\25B6\';\n}\n\n.jsonView>.jv-collapse:before{\n    content: \'\\25BC\';\n}\n\n.jsonView>.edit{\n    padding: 0px 5px 0px 5px;\n    white-space: nowrap;\n    overflow: hidden;\n    background-color: transparent;\n}\n\n.jsonView>.edit br{\n    display: none;\n}\n\n.jsonView>.edit *{\n    display: inline;\n    white-space: nowrap;\n}\n\n.jsonView>.value.edit{\n    color: rgb(0, 0, 0);\n}\n\n.jsonView>.delete:before{\n    content: \'X\';\n}\n\n.jsonView>.delete{\n    opacity: 0;\n    display: inline;\n    padding: 3px;\n    margin-left: 20px;\n    cursor: pointer;\n    color: rgb(150, 150, 150);\n}\n\n.jsonView>.delete:hover{\n    opacity: 1;\n    color: rgb(0, 0, 0);\n    background: rgb(220, 220, 220);\n}\n\n.jsonView>.insert:before{\n    content: \'+\';\n}\n\n.jsonView>.insert{\n    display: none;\n    color: rgb(150, 150, 150);\n    cursor: pointer;\n}\n\n.jsonView.jv-expanded>.insert, .jsonView.jv-expanded>.insert{\n    display: inline-block;\n    margin-left: 20px;\n    padding: 3px;\n}\n\n.jsonView>.insert:hover{\n    color: rgb(0, 0, 0);\n    background: rgb(220, 220, 220);\n}\n',""])},653:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=p(n(1)),i=p(n(299));n(654);var u,a,l,c,s,f=p(n(655));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}l=r.default.Radio.channel("global"),u=l.request("main:app:IndexRouter"),s=[{label:"Muppy Home",url:"#muppy",icon:".fa.fa-home"},{label:"List",url:"#muppy/summaries",icon:".fa.fa-list"},{label:"Calendar",url:"#muppy/calendar",icon:".fa.fa-calendar"}],c=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,e),t}(u);return e.prototype.channelName="muppy",e.prototype.appRoutes={muppy:"viewIndex","muppy/summaries":"listSummaries","muppy/summary/view/:id":"viewSummary"},e}.call(void 0),a=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,e),t}(i.default);return e.prototype.Controller=f.default,e.prototype.Router=c,e.prototype.appletEntries=[{label:(0,o.capitalize)("muppy")+" Menu",menu:s}],e}.call(void 0),t.default=a},654:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sumdiff=t.dbsummary=void 0;var o,r,i,u,a,l,c,s,f,p=n(0),d=n(1),h=n(451),y=(o=h)&&o.__esModule?o:{default:o};function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}u=d.Radio.channel("global"),i=u.request("main:app:AuthModel"),r=u.request("main:app:AuthCollection"),f={channelName:"muppy"},a=function(){var e=function(e){function t(){return b(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _(t,e),t}(i);return e.prototype.urlRoot="/api/dev/memleak/summary",e}.call(void 0),l=function(){var e=function(e){function t(){return b(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _(t,e),t}(r);return e.prototype.url="/api/dev/memleak/summary",e.prototype.model=a,e}.call(void 0);t.dbsummary=new y.default((0,p.extend)(f,{modelName:"summary",modelClass:a,collectionClass:l}));s=function(){var e=function(e){function t(){return b(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _(t,e),t}(i);return e.prototype.urlRoot="/api/dev/memdiff",e}.call(void 0),c=function(){var e=function(e){function t(){return b(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _(t,e),t}(r);return e.prototype.model=s,e.prototype.url="/api/dev/memdiff",e}.call(void 0);t.sumdiff=new y.default((0,p.extend)(f,{modelName:"sumdiff",modelClass:s,collectionClass:c}))},655:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(1),a=n(164),l=n(165);o=u.Radio.channel("muppy"),r=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"viewIndex",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(52).then(function(){var t;return t=new(0,n(847).default),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"viewSummary",value:function(e){var t=this;return this.setupLayoutIfNeeded(),n.e(54).then(function(){var r,i;return r=n(849).default,(i=o.request("db:summary:get",e)).fetch().done((function(){var e;return e=new r({model:i}),t.layout.showChildView("content",e),console.log("SUMMARY",i)}))}.bind(null,n)).catch(n.oe)}},{key:"listSummaries",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(53).then(function(){var t,r;return t=n(850).default,(r=o.request("db:summary:collection")).fetch().done((function(){var n;return n=new t({collection:r}),e.layout.showChildView("content",n)}))}.bind(null,n)).catch(n.oe)}}]),t}(a.MainController);return e.prototype.layoutClass=l.ToolbarAppletLayout,e}.call(void 0),t.default=r},656:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(92)),r=s(n(299)),i=s(n(310));n(657);var u,a,l,c=s(n(658));function s(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}l=[{label:"List",url:"#netark",icon:".fa.fa-list"},{label:"SciFi Movies",url:"#netark/scifi/list",icon:".fa.fa-film"},{label:"Search",url:"#netark/search",icon:".fa.fa-search"}],a=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),t}(o.default);return e.prototype.channelName="netark",e.prototype.appRoutes={netark:"viewIndex","netark/otrr/list":"listOtrr","netark/librivox/list":"listLibrivox","netark/scifi/list":"listSciFiMovies","netark/misc/list":"listMiscStuff","netark/view/:id":"viewMetadata","netark/search":"searchView"},e}.call(void 0),u=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),t}(r.default);return e.prototype.Controller=c.default,e.prototype.Router=a,e.prototype.appletEntries=[{label:(0,i.default)("netark")+" Menu",menu:l}],e}.call(void 0),t.default=u},657:function(e,t,n){"use strict";var o,r,i,u,a,l,c,s=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),p=n(1),d=n(166),h=(o=d)&&o.__esModule?o:{default:o};function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(27),r=p.Radio.channel("netark"),l=function(e,t){var n,o;return o=t.server,n=t.dir,"/api/dev/proxy/","/api/dev/proxy/"+btoa("https://"+o+n+"/"+e)},c=function(e,t){return"//"+t.server+t.dir+"/"+e},i=function(){var e=function(e){function t(){return y(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,e),f(t,[{key:"fileUrl",value:function(e){return l(e,this.toJSON())}}]),t}(p.Model);return e.prototype.urlRoot="https://archive.org/metadata",e}.call(void 0),r.reply("get-file-url",(function(e,t){return l(e,t)})),r.reply("get-image-url",(function(e,t){return c(e,t)})),r.reply("get-metadata-model",(function(){return i})),u=function(){var e=function(e){function t(){return y(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,e),f(t,[{key:"parse",value:function(e){return console.log("PARSE",e),null===this.state.totalRecords&&(this.state.totalRecords=e.total,this._checkState(this.state)),console.log("totalRecords",this.state.totalRecords),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"parse",this).call(this,e.items)}}]),t}(h.default);return e.prototype.mode="server",e.prototype.url="/api/dev/proxy/https://archive.org/services/search/v1/scrape",e.prototype.state={pageSize:100},e.prototype.queryParams={pageSize:"count"},e}.call(void 0),r.reply("Scraper",(function(){return u})),a=function(){var e=function(e){function t(){return y(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,e),f(t,[{key:"parse",value:function(e){return console.log("PARSE",e),null===this.state.totalRecords&&(this.state.totalRecords=e.response.numFound,this._checkState(this.state)),console.log("totalRecords",this.state.totalRecords),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"parse",this).call(this,e.response.docs)}}]),t}(h.default);return e.prototype.mode="server",e.prototype.url="/api/dev/proxy/https://archive.org/advancedsearch.php",e.prototype.state={pageSize:20,firstPage:1},e.prototype.queryParams={pageSize:"rows",output:"json",q:function(){return this.query}},e}.call(void 0),r.reply("SearchResults",(function(){return a}))},658:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(1),a=n(164),l=n(165);o=u.Radio.channel("netark"),r=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"viewIndex",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(56).then(function(){var t;return t=new(0,n(851).default),e.layout.showChildView("content",t),e.scrollTop()}.bind(null,n)).catch(n.oe)}},{key:"listOtrr",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(59).then(function(){var t;return t=new(0,n(854).default),e.layout.showChialdView("content",t),e.scrollTop()}.bind(null,n)).catch(n.oe)}},{key:"listLibrivox",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(59).then(function(){var t;return t=new(0,n(858).default),e.layout.showChildView("content",t),e.scrollTop()}.bind(null,n)).catch(n.oe)}},{key:"listSciFiMovies",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(60).then(function(){var t;return t=new(0,n(862).default),e.layout.showChildView("content",t),e.scrollTop()}.bind(null,n)).catch(n.oe)}},{key:"listMiscStuff",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(58).then(function(){var t;return t=new(0,n(868).default),e.layout.showChildView("content",t),e.scrollTop()}.bind(null,n)).catch(n.oe)}},{key:"searchView",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(55).then(function(){var t;return t=new(0,n(870).default),e.layout.showChildView("content",t),e.scrollTop()}.bind(null,n)).catch(n.oe)}},{key:"viewMetadata",value:function(e){var t,r=this;return this.setupLayoutIfNeeded(),t=o.request("get-metadata-model"),n.e(57).then(function(){var o,i;return o=n(871).default,i=new t({id:e}),console.log("model---",i),i.fetch().done((function(){var e;return console.log("MODEL----------\x3e",i),e=new o({model:i}),r.layout.showChildView("content",e),r.scrollTop()}))}.bind(null,n)).catch(n.oe)}}]),t}(a.MainController);return e.prototype.layoutClass=l.ToolbarAppletLayout,e}.call(void 0),t.default=r},659:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u=s(n(92)),a=s(n(299)),l=s(n(310)),c=s(n(660));function s(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=[{label:"Main",url:"#places",icon:".fa.fa-star"},{label:"Your Places",url:"#places/list",icon:".fa.fa-list"},{label:"All Places",url:"#places/all",icon:".fa.fa-globe"}],r=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),t}(u.default);return e.prototype.channelName="places",e.prototype.appRoutes={places:"viewIndex","places/list":"listPlaces","places/view/:id":"viewPlace","places/all":"viewAllPlaces"},e}.call(void 0),o=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),t}(a.default);return e.prototype.Controller=c.default,e.prototype.Router=r,e.prototype.appletEntries=[{label:(0,l.default)("places")+" Menu",menu:i}],e}.call(void 0),t.default=o},660:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(1),l=n(164),c=n(165);n(661),i=a.Radio.channel("messages"),o=a.Radio.channel("places"),r=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),u(t,[{key:"viewIndex",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(0),n.e(61)]).then(function(){var t,r;return t=o.request("db:userlocation:collection"),(r=t.fetch()).fail((function(){return i.request("xhr-error",r)})),r.done((function(){var o;return o=new(0,n(872).default)({collection:t}),e.layout.showChildView("content",o)}))}.bind(null,n)).catch(n.oe)}},{key:"listPlaces",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(0),n.e(90),n.e(62)]).then(function(){var t,r;return t=o.request("db:userlocation:collection"),(r=t.fetch()).fail((function(){return i.request("xhr-error",r)})),r.done((function(){var o;return o=new(0,n(882).default)({collection:t}),e.layout.showChildView("content",o)}))}.bind(null,n)).catch(n.oe)}},{key:"viewPlace",value:function(e){var t=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(0),n.e(63)]).then(function(){var r,u;return r=o.request("db:userlocation:get",e),(u=r.fetch()).fail((function(){return i.request("xhr-error",u)})),u.done((function(){var e;return e=new(0,n(883).default)({model:r}),t.layout.showChildView("content",e)}))}.bind(null,n)).catch(n.oe)}},{key:"viewAllPlaces",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(0),n.e(90),n.e(62)]).then(function(){var t;return t=new(0,n(884).default),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}}]),t}(l.MainController);return e.prototype.channelName="places",e.prototype.layoutClass=c.ToolbarAppletLayout,e}.call(void 0),t.default=r},661:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l,c,s=d(n(0)),f=n(1),p=d(n(451));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=f.Radio.channel("global"),r=i.request("main:app:AuthModel"),o=i.request("main:app:AuthCollection"),l={},c={channelName:"places"},u=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,e),t}(r);return e.prototype.urlRoot="/api/dev/places/user",e}.call(void 0),a=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,e),t}(o);return e.prototype.model=u,e.prototype.url="/api/dev/places/user",e}.call(void 0),l.userlocation=new p.default(s.default.extend(c,{modelName:"userlocation",modelClass:u,collectionClass:a})),t.default=l},662:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=p(n(299)),i=n(0);n(663);var u,a,l,c,s,f=p(n(664));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}l=o.Radio.channel("global"),u=l.request("main:app:IndexRouter"),s=[{label:"List",url:"#sunny/clients",icon:".fa.fa-list"},{label:"New Client",url:"#sunny/clients/new",icon:".fa.fa-list"},{label:"Map View",url:"#sunny/mapview",icon:".fa.fa-globe"}],c=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,e),t}(u);return e.prototype.channelName="sunny",e.prototype.appRoutes={sunny:"listClients","sunny/clients":"listClients","sunny/clients/new":"newClient","sunny/clients/edit/:id":"editClient","sunny/clients/view/:id":"viewClient","sunny/yards/add/:client_id":"addYard","sunny/yards/view/:id":"viewYard","sunny/yards/routines/:yard_id":"yardRoutines","sunny/mapview":"mapView"},e}.call(void 0),a=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,e),t}(r.default);return e.prototype.Controller=f.default,e.prototype.Router=c,e.prototype.appletEntries=[{label:(0,i.capitalize)("sunny")+" Menu",menu:s}],e}.call(void 0),t.default=a},663:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l,c,s,f,p,d,h,y,b,v,_,w,m,g,O,j,P,k=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),C=n(0),R=n(1),x=n(451),E=(o=x)&&o.__esModule?o:{default:o};function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}f=R.Radio.channel("global"),r=R.Radio.channel("sunny"),g="/api/dev/sunny/crud",u=f.request("main:app:AuthModel"),i=f.request("main:app:AuthCollection"),O={},j={channelName:"sunny"},P=g+"/client",a=function(){var e=function(e){function t(){return M(this,t),N(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return T(t,e),t}(u);return e.prototype.urlRoot=P,e}.call(void 0),l=function(){var e=function(e){function t(){return M(this,t),N(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return T(t,e),t}(i);return e.prototype.model=a,e.prototype.url=P,e}.call(void 0),O.client=new E.default((0,C.extend)(j,{modelName:"client",modelClass:a,collectionClass:l})),P=g+"/yard",p=function(){var e=function(e){function t(){return M(this,t),N(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return T(t,e),t}(u);return e.prototype.urlRoot=P,e}.call(void 0),m=function(){var e=function(e){function t(){return M(this,t),N(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return T(t,e),t}(i);return e.prototype.model=p,e.prototype.url=P,e}.call(void 0),O.yard=new E.default((0,C.extend)(j,{modelName:"yard",modelClass:p,collectionClass:m})),P=g+"/yardroutine",d=function(){var e=function(e){function t(){return M(this,t),N(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return T(t,e),k(t,[{key:"defaults",value:function(){return{frequency:14,leeway:3,rate:50,active:!0,routine_date:new Date}}}]),t}(u);return e.prototype.urlRoot=P,e}.call(void 0),b=function(){var e=function(e){function t(){return M(this,t),N(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return T(t,e),t}(i);return e.prototype.model=d,e.prototype.url=P,e}.call(void 0),O.yardroutine=new E.default((0,C.extend)(j,{modelName:"yardroutine",modelClass:d,collectionClass:b})),P=g+"/yardroutinejob",h=function(){var e=function(e){function t(){return M(this,t),N(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return T(t,e),t}(u);return e.prototype.urlRoot=P,e}.call(void 0),y=function(){var e=function(e){function t(){return M(this,t),N(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return T(t,e),t}(i);return e.prototype.model=h,e.prototype.url=P,e}.call(void 0),O.yardroutinejob=new E.default((0,C.extend)(j,{modelName:"yardroutinejob",modelClass:h,collectionClass:y})),P="/api/dev/sunny/gpslocations",c=function(){var e=function(e){function t(){return M(this,t),N(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return T(t,e),t}(u);return e.prototype.urlRoot=P,e}.call(void 0),s=function(){var e=function(e){function t(){return M(this,t),N(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return T(t,e),t}(i);return e.prototype.model=c,e.prototype.url=P,e}.call(void 0),O.location=new E.default((0,C.extend)(j,{modelName:"location",modelClass:c,collectionClass:s})),P="/api/dev/sunny/yardsession",v=function(){var e=function(e){function t(){return M(this,t),N(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return T(t,e),t}(u);return e.prototype.urlRoot=P,e}.call(void 0),w=function(){var e=function(e){function t(){return M(this,t),N(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return T(t,e),t}(i);return e.prototype.model=v,e.prototype.url=P,e}.call(void 0),O.yardsession=new E.default((0,C.extend)(j,{modelName:"yardsession",modelClass:v,collectionClass:w})),_=function(){var e=function(e){function t(){return M(this,t),N(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return T(t,e),t}(u);return e.prototype.urlRoot="/api/dev/sunny/yard-clock",e}.call(void 0),r.reply("YardSessionClock",(function(){return _})),t.default=O},664:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(1),l=n(164),c=n(165);i=a.Radio.channel("messages"),o=a.Radio.channel("sunny"),r=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),u(t,[{key:"listClients",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(66).then(function(){var t,o,r;return t=n(918).default,r=new t({collection:e.clients}),(o=e.clients.fetch()).done((function(){return e.layout.showChildView("content",r)})),o.fail((function(){return i.request("xhr-error",o)}))}.bind(null,n)).catch(n.oe)}},{key:"newClient",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(8).then(function(){var t;return t=n(496).NewClientView,e.layout.showChildView("content",new t)}.bind(null,n)).catch(n.oe)}},{key:"addYard",value:function(e){var t=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(0),n.e(1),n.e(4),n.e(7)]).then(function(){var r,i,u;return r=n(604).default,console.log("YardView",r),(i=o.request("db:yard:new")).set("sunnyclient_id",e),u=new r({model:i}),t.layout.showChildView("content",u)}.bind(null,n)).catch(n.oe)}},{key:"viewYard",value:function(e){var t=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(0),n.e(1),n.e(4),n.e(7)]).then(function(){var r,u,a;return r=n(604).default,(u=o.request("db:yard:get",e)).has("sunnyclient")?t._show_edit_client(r,u):(a=u.fetch({data:{include:"*"}})).done((function(){return t._show_edit_client(r,u)})),a.fail((function(){return i.request("xhr-error",a)}))}.bind(null,n)).catch(n.oe)}},{key:"yardRoutines",value:function(e){return console.log("yard_routines",e)}},{key:"_show_edit_client",value:function(e,t){var n;return n=new e({model:t}),this.layout.showChildView("content",n)}},{key:"editClient",value:function(e){var t=this;return this.setupLayoutIfNeeded(),n.e(8).then(function(){var r,u,a,l=n(496);return r=l.EditClientView,(u=o.request("db:client:get",e)).has("name")?t._show_edit_client(r,u):((a=u.fetch()).done((function(){return t._show_edit_client(r,u)})),a.fail((function(){return i.request("xhr-error",a)})))}.bind(null,n)).catch(n.oe)}},{key:"_fetch_yards_and_view_client",value:function(e,t){var n,r,u=this;return(r=(n=o.request("db:yard:collection")).fetch({data:{where:{sunnyclient_id:e.id}}})).done((function(){var o;return o=new t({model:e,collection:n}),window.cview=o,u.layout.showChildView("content",o)})),r.fail((function(){return i.request("danger","Failed to load yards.")}))}},{key:"viewClient",value:function(e){var t=this;return this.setupLayoutIfNeeded(),n.e(65).then(function(){var r,u,a;return r=n(925).default,(u=o.request("db:client:get",e)).has("name")?t._fetch_yards_and_view_client(u,r):((a=u.fetch()).done((function(){return t._fetch_yards_and_view_client(u,r)})),a.fail((function(){return i.request("danger","Failed to load client data.")})))}.bind(null,n)).catch(n.oe)}},{key:"mapView",value:function(){var e=this;return this.setupLayoutIfNeeded(),console.log("layout should be ready"),Promise.all([n.e(0),n.e(64)]).then(function(){var t;return t=new(0,n(927).default),e.layout.showChildView("content",t),console.log("view shown?",t)}.bind(null,n)).catch(n.oe)}}]),t}(l.MainController);return e.prototype.layoutClass=c.ToolbarAppletLayout,e.prototype.clients=o.request("db:client:collection"),e}.call(void 0),t.default=r},665:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l=n(1),c=p(n(299)),s=p(n(310)),f=p(n(666));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=l.Radio.channel("global"),o=i.request("main:app:IndexRouter"),a=[{label:"Main Tax Page",url:"#taxes",icon:".fa.fa-newspaper-o"}],u=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,e),t}(o);return e.prototype.channelName="taxes",e.prototype.appRoutes={taxes:"viewIndex","taxes/pages/*name":"viewPage"},e}.call(void 0),r=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,e),t}(c.default);return e.prototype.Controller=f.default,e.prototype.Router=u,e.prototype.appletEntries=[{label:(0,s.default)("taxes")+" Menu",menu:a}],e}.call(void 0),t.default=r},666:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),c=n(164),s=n(165),f=n(540),p=(o=f)&&o.__esModule?o:{default:o};i=l.Radio.channel("global"),u=l.Radio.channel("messages"),r=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"viewPage",value:function(e){var t,n,o=this;return console.log("name is",e),this.setupLayoutIfNeeded(),(n=(t=i.request("main:app:get-document",e)).fetch()).done((function(){var e;return e=new p.default({model:t}),o.layout.showChildView("content",e)})),n.fail((function(){return u.request("warning","failed to get "+e)}))}},{key:"viewIndex",value:function(){return this.viewPage("taxes/index")}}]),t}(c.MainController);return e.prototype.layoutClass=s.ToolbarAppletLayout,e}.call(void 0),t.default=r},667:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u=n(1),a=(f(n(4)),f(n(92))),l=f(n(299)),c=f(n(310)),s=f(n(668));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}u.Radio.channel("global"),u.Radio.channel("terminal"),i=[{label:"Main",url:"#terminal",icon:".fa.fa-star"}],r=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),t}(a.default);return e.prototype.channelName="terminal",e.prototype.appRoutes={terminal:"viewIndex"},e}.call(void 0),o=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),t}(l.default);return e.prototype.Controller=s.default,e.prototype.Router=r,e.prototype.appletEntries=[{label:(0,c.default)("terminal")+" Menu",menu:i}],e}.call(void 0),t.default=o},668:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(1),u=(l(n(7)),l(n(59)),n(164)),a=n(165);function l(e){return e&&e.__esModule?e:{default:e}}i.Radio.channel("global"),i.Radio.channel("messages"),i.Radio.channel("terminal"),o=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"viewIndex",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(15),n.e(67)]).then(function(){var t;return t=new(0,n(929).default)({channelName:"terminal"}),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}}]),t}(u.MainController);return e.prototype.channelName="terminal",e.prototype.layoutClass=a.ToolbarAppletLayout,e}.call(void 0),t.default=o},669:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=s(n(299));n(670);var i,u,a,l,c=s(n(671));function s(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a=o.Radio.channel("global"),i=a.request("main:app:IndexRouter"),l=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),t}(i);return e.prototype.channelName="todos",e.prototype.appRoutes={todos:"list_todos","todos/completed":"list_completed_todos","todos/calendar":"view_calendar","todos/todos/new":"new_todo","todos/todos/edit/:id":"edit_todo","todos/todos/view/:id":"view_todo"},e}.call(void 0),u=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),t}(r.default);return e.prototype.Controller=c.default,e.prototype.Router=l,e.prototype.appletEntries=[{label:"Todos Menu",menu:[{label:"list todos",icon:".fa.fa-list",url:"#todos"},{label:"Calendar",url:"#todos/calendar",icon:".fa.fa-calendar"},{label:"new todo",icon:".fa.fa-plus",url:"#todos/todos/new"}]}],e}.call(void 0),t.default=u},670:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dbcfg=void 0;var o,r,i,u,a,l,c,s,f,p,d,h=_(n(27)),y=n(0),b=n(1),v=_(n(451));function _(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}u=b.Radio.channel("global"),o=b.Radio.channel("todos"),i=u.request("main:app:AuthModel"),r=u.request("main:app:AuthCollection"),d="/api/dev/bapi/todos",f={channelName:"todos"},a=function(){var e=function(e){function t(){return w(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,e),t}(i);return e.prototype.urlRoot=d,e.prototype.defaults={completed:!1},e}.call(void 0),c=function(){var e=function(e){function t(){return w(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,e),t}(r);return e.prototype.url=d,e.prototype.model=a,e}.call(void 0);t.dbcfg=new v.default((0,y.extend)(f,{modelName:"todo",modelClass:a,collectionClass:c}));l=function(){var e=function(e){function t(){return w(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,e),t}(r);return e.prototype.url="/api/dev/basic/todos/create-cal",e.prototype.model=a,e}.call(void 0),p=new l,o.reply("todocal-collection",(function(){return p})),s=void 0,o.reply("maincalendar:set-date",(function(){var e;e=(0,h.default)("#maincalendar"),s=e.fullCalendar("getDate")})),o.reply("maincalendar:get-date",(function(){return s}))},671:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),f=n(482),p=(o=f)&&o.__esModule?o:{default:o},d=n(164),h=n(165);u=s.Radio.channel("messages"),r=s.Radio.channel("todos"),a=[],l=new s.Collection(a),r.reply("get-toolbar-entries",(function(){return l})),i=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"setupLayoutIfNeeded",value:function(){var e;return function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setupLayoutIfNeeded",this).call(this),e=new p.default({collection:l}),this.layout.showChildView("toolbar",e)}},{key:"_isModelPresent",value:function(e){return e.isEmpty()||!e.has("created_at")}},{key:"list_certain_todos",value:function(e){var t=this;return this.setupLayoutIfNeeded(),0,n.e(68).then(function(){var e,o,r;return e=n(934).default,r=new e({collection:t.collection}),(o=t.collection.fetch()).done((function(){return console.log(t.collection),t.layout.showChildView("content",r)})),o.fail((function(){return u.request("danger","Failed to load todos.")}))}.bind(null,n)).catch(n.oe)}},{key:"list_completed_todos",value:function(){return this.list_certain_todos(!0)}},{key:"list_todos",value:function(){return this.list_certain_todos(!1)}},{key:"new_todo",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(9).then(function(){var t;return t=n(605).NewView,e.layout.showChildView("content",new t)}.bind(null,n)).catch(n.oe)}},{key:"edit_todo",value:function(e){var t=this;return this.setupLayoutIfNeeded(),n.e(9).then(function(){var o,i;return o=n(605).EditView,i=r.request("db:todo:get",e),t._loadView(o,i,"todo")}.bind(null,n)).catch(n.oe)}},{key:"view_todo",value:function(e){var t=this;return this.setupLayoutIfNeeded(),n.e(70).then(function(){var o,i;return o=n(935),(i=r.request("db:todo:get",e)).fetch().done((function(){var e;return e=new o({model:i}),t.layout.showChildView("content",e)}))}.bind(null,n)).catch(n.oe)}},{key:"view_calendar",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(1),n.e(4),n.e(69)]).then(function(){var t;return t=n(936),e.layout.showChildView("content",new t)}.bind(null,n)).catch(n.oe)}}]),t}(d.MainController);return e.prototype.layoutClass=h.ToolbarAppletLayout,e.prototype.collection=r.request("db:todo:collection"),e}.call(void 0),t.default=i},672:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});h(n(27));var o,r,i,u,a,l,c,s=n(1),f=h(n(299)),p=h(n(310)),d=h(n(673));h(n(677));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}u=s.Radio.channel("global"),o=s.Radio.channel("tvmaze"),r=u.request("main:app:IndexRouter"),l=[{label:"List Shows",url:"#tvmaze/shows",icon:".fa.fa-list"},{label:"Search Show",url:"#tvmaze/searchshow",icon:".fa.fa-search"},{label:"Import Sample Data",url:"#tvmaze/import-sample-data",icon:".fa.fa-download"},{label:"Calendar",url:"#tvmaze/calendar",icon:".fa.fa-calendar"}],a=function(){var e=function(e){function t(){return y(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,e),t}(r);return e.prototype.channelName="tvmaze",e.prototype.appRoutes={tvmaze:"viewIndex","tvmaze/searchshow":"viewSearchShow","tvmaze/shows":"viewShowList","tvmaze/shows/flat":"viewShowListFlat","tvmaze/shows/view/:id":"viewShow","tvmaze/import-sample-data":"importSampleData","tvmaze/calendar":"viewCalendar"},e}.call(void 0),i=function(){var e=function(e){function t(){return y(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,e),t}(f.default);return e.prototype.Controller=d.default,e.prototype.Router=a,e.prototype.appletEntries=[{label:(0,p.default)("tvmaze")+" Menu",menu:l},{label:"List Shows",url:"#tvmaze/shows"}],e}.call(void 0),c=void 0,o.reply("maincalendar:set-date",(function(e){return c=e.fullCalendar("getDate")})),o.reply("maincalendar:get-date",(function(){return c})),t.default=i},673:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(1),a=n(164),l=n(165);n(674),o=u.Radio.channel("tvmaze"),r=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"viewIndex",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(73).then(function(){var t,r,i;return i=o.request("get-local-tvshows"),t=o.request("tv-show-search-collection"),r=n(937).default,i.fetch().then((function(){var n;return n=new r({collection:new t}),e.layout.showChildView("content",n)}))}.bind(null,n)).catch(n.oe)}},{key:"viewShowList",value:function(){return this.viewShowListCards()}},{key:"viewShowListCards",value:function(){var e,t=this;return this.setupLayoutIfNeeded(),e=o.request("get-local-tvshows"),n.e(76).then(function(){var o;return o=n(941).default,t._loadView(o,e,"tvshow")}.bind(null,n)).catch(n.oe)}},{key:"viewShowListFlat",value:function(){var e,t=this;return this.setupLayoutIfNeeded(),e=o.request("get-local-tvshows"),window.tvshows=e,n.e(77).then(function(){var o;return o=n(943).default,e.fetch().done((function(){var n;return n=new o({collection:e}),t.layout.showChildView("content",n)}))}.bind(null,n)).catch(n.oe)}},{key:"viewSearchShow",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(75).then(function(){var t;return t=new(0,n(944).default),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"viewShow",value:function(e){var t=this;return this.setupLayoutIfNeeded(),n.e(74).then(function(){var r,i;return r=n(945).default,i=new(o.request("get-local-tvshow-model"))({id:e}),t._loadView(r,i,"tvshow")}.bind(null,n)).catch(n.oe)}},{key:"importSampleData",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(71).then(function(){var t,r;return r=o.request("get-all-local-tvshows"),t=n(948).default,r.fetch().then((function(){var n;return n=new t,e.layout.showChildView("content",n)}))}.bind(null,n)).catch(n.oe)}},{key:"viewCalendar",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(1),n.e(4),n.e(72)]).then(function(){var t,r;return r=o.request("get-local-tvshows"),t=n(951).default,r.fetch().then((function(){var n;return n=new t,e.layout.showChildView("content",n)}))}.bind(null,n)).catch(n.oe)}}]),t}(a.MainController);return e.prototype.layoutClass=l.ToolbarAppletLayout,e}.call(void 0),t.default=r},674:function(e,t,n){"use strict";var o,r,i,u,a,l,c,s,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),p=n(27),d=((o=p)&&o.__esModule,n(1));function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(675),n(676),r=d.Radio.channel("tvmaze"),s="//api.tvmaze.com",c=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,e),f(t,[{key:"url",value:function(){var e;return e=this.searchName,s+"/singlesearch/shows?q="+e}}]),t}(d.Model),r.reply("single-show-search",(function(e){var t;return(t=new c).searchName=e,t})),l=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,e),f(t,[{key:"url",value:function(){return s+"/search/shows"}}]),t}(d.Collection),r.reply("new-tv-show-search",(function(e){return new l(e=e||{})})),r.reply("tv-show-search-collection",(function(){return l})),r.reply("search-tv-shows",(function(){return new l})),a=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,e),f(t,[{key:"urlRoot",value:function(){return s+"/shows"}}]),t}(d.Model),r.reply("get-remote-show",(function(e){return new a({id:e})})),i=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,e),f(t,[{key:"url",value:function(){return this.get("_links").self.href}}]),t}(d.Model),u=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,e),f(t,[{key:"url",value:function(){return s+"/shows/"+this.showId+"/episodes"}}]),t}(d.Collection);return e.prototype.model=i,e}.call(void 0),r.reply("get-remote-episodes",(function(e){var t;return(t=new u).showId=e,t}))},675:function(e,t,n){"use strict";var o,r,i,u,a,l,c,s,f,p,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),h=v(n(1)),y=n(498),b=v(n(166));function v(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a=h.default.Radio.channel("global"),r=h.default.Radio.channel("tvmaze"),s=a.request("main:app:dbConn","tvmaze"),l=new y.LoveStore(s,"TVMazeShow"),p=["id","name","url","self","premiered","runtime","network_name","imdb","status","summary","img_med","img_orig","content"],i=function(){var e=function(e){function t(){return _(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,e),d(t,[{key:"toJSON",value:function(){var e,t=this;return e={},p.forEach((function(n){return e[n]=t.get(n)})),e}}]),t}(h.default.Model);return e.prototype.loveStore=l,e}.call(void 0),u=function(){var e=function(e){function t(){return _(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,e),t}(b.default);return e.prototype.loveStore=l,e.prototype.model=i,e.prototype.mode="client",e}.call(void 0),o=function(){var e=function(e){function t(){return _(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,e),t}(h.default.Collection);return e.prototype.loveStore=l,e.prototype.model=i,e}.call(void 0),c=new o,f=new u,r.reply("get-all-local-tvshows",(function(){return c})),r.reply("get-local-tvshows",(function(){return f})),r.reply("get-local-tvshow-model",(function(){return i})),r.reply("get-local-tvshow-collection",(function(){return u})),r.reply("save-local-show",(function(e){var t,n,o,r,u,a;return t=new i({id:e.id,name:e.name,url:e.url,self:e._links.self.href,premiered:new Date(e.premiered),runtime:(null!=e?e.runtime:void 0)||"",network_name:(null!=e&&null!=(n=e.network)?n.name:void 0)||"NO NETWORK",imdb:(null!=(o=e.externals)?o.imdb:void 0)||"",status:(null!=e?e.status:void 0)||"",summary:(null!=e?e.summary:void 0)||"",img_med:(null!=e&&null!=(r=e.image)?r.medium:void 0)||"",img_orig:(null!=e&&null!=(u=e.image)?u.original:void 0)||"",content:e}),a=!0,t.isNew=function(){return!!a&&(a=!1,!0)},f.add(t),t.save()}))},676:function(e,t,n){"use strict";var o,r,i,u,a,l,c,s,f,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=n(1),h=(o=d)&&o.__esModule?o:{default:o},y=n(498);function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a=h.default.Radio.channel("global"),r=h.default.Radio.channel("tvmaze"),c=a.request("main:app:dbConn","tvmaze"),l=new y.LoveStore(c,"TVMazeEpisode"),s=["id","show_id","name","url","self","season","number","airdate","airtime","runtime","summary","img_med","img_orig","content"],i=function(){var e=function(e){function t(){return b(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _(t,e),p(t,[{key:"toJSON",value:function(){var e,t=this;return e={},s.forEach((function(n){return e[n]=t.get(n)})),e}}]),t}(h.default.Model);return e.prototype.loveStore=l,e}.call(void 0),u=function(){var e=function(e){function t(){return b(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _(t,e),t}(h.default.Collection);return e.prototype.loveStore=l,e.prototype.model=i,e}.call(void 0),f=new u,r.reply("get-local-episodes",(function(){return f})),r.reply("get-local-episode-model",(function(){return i})),r.reply("get-local-episode-collection",(function(){return u})),r.reply("save-local-episode",(function(e){var t,n,o,r,u,a,l,c,s;return t=new i({id:e.id,show_id:e.show_id,name:e.content.name,url:e.content.url,self:null!=(n=e.content._links)?n.self.href:void 0,season:e.content.season,number:e.content.number,airdate:new Date(e.content.airdate),airtime:e.content.airtime,runtime:(null!=(o=e.content)?o.runtime:void 0)||"",summary:(null!=(r=e.content)?r.summary:void 0)||"",img_med:(null!=(u=e.content)&&null!=(a=u.image)?a.medium:void 0)||"",img_orig:(null!=(l=e.content)&&null!=(c=l.image)?c.original:void 0)||"",content:e.content}),s=!0,t.isNew=function(){return!!s&&(s=!1,!0)},f.add(t),t.save()}))},677:function(e,t,n){e.exports=function(){return new Worker(n.p+"0a6d6efac69e1c0f6c9e.worker.js")}},678:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u=n(0),a=s(n(299)),l=s(n(679)),c=s(n(457));function s(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=[{label:"Main",url:"#useradmin",icon:".fa.fa-star"},{label:"Users",url:"#useradmin/user/list",icon:".fa.fa-list"},{label:"Add User",url:"#useradmin/user/add",icon:".fa.fa-plus"},{label:"Groups",url:"#useradmin/group/list",icon:".fa.fa-list"},{label:"Add Group",url:"#useradmin/group/add",icon:".fa.fa-plus"}],r=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),t}(c.default);return e.prototype.channelName="useradmin",e.prototype.appRoutes={useradmin:"viewIndex","useradmin/user/list":"listUsers","useradmin/user/add":"addUser","useradmin/user/view/:id":"viewUser","useradmin/user/edit/:id":"editUser","useradmin/group/list":"listGroups","useradmin/group/add":"viewIndex","useradmin/group/view/:id":"viewIndex","useradmin/group/edit/:id":"editGroup"},e}.call(void 0),o=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),t}(a.default);return e.prototype.Controller=l.default,e.prototype.Router=r,e.prototype.appletEntries=[{label:(0,u.capitalize)("useradmin")+" Menu",menu:i}],e}.call(void 0),t.default=o},679:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(1),l=n(164),c=n(165);n(680),r=a.Radio.channel("global"),i=a.Radio.channel("messages"),o=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),u(t,[{key:"editModel",value:function(e){var t=this;return this.setupLayoutIfNeeded(),n.e(10).then(function(){var o,r,u,a;return o=n(607).BaseEditFormView,r=e.model,a=new o(e),(u=r.fetch()).fail((function(){return i.request("danger","failed to get "+e.modelName)})),u.done((function(){return console.log(e.modelName+" fetched",r),t.layout.showChildView("content",a)}))}.bind(null,n)).catch(n.oe)}},{key:"addModel",value:function(e){var t=this;return this.setupLayoutIfNeeded(),n.e(10).then(function(){var o;return o=new(0,n(607).BaseNewFormView)(e),t.layout.showChildView("content",o)}.bind(null,n)).catch(n.oe)}},{key:"viewIndex",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(78).then(function(){var t;return t=new(0,n(952).default),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"listUsers",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(80).then(function(){var t,o,r,u;return o=e.getChannel().request("db:user:collection"),t=n(535).default,u=new t({collection:o}),(r=o.fetch()).fail((function(){return i.request("danger","failed to get users")})),r.done((function(){return console.log("users fetched",o),e.layout.showChildView("content",u)}))}.bind(null,n)).catch(n.oe)}},{key:"viewUser",value:function(e){var t=this;return this.setupLayoutIfNeeded(),n.e(82).then(function(){var o,r,u,a;return r=new(t.getChannel().request("db:user:modelClass"))({id:e}),o=n(953).default,a=new o({model:r}),(u=r.fetch()).fail((function(){return i.request("danger","failed to get user")})),u.done((function(){return t.layout.showChildView("content",a)}))}.bind(null,n)).catch(n.oe)}},{key:"editUser",value:function(e){var t,n;return n={modelName:"user",fieldList:["username","fullname","email"],entryField:"fullname",model:new(this.getChannel().request("db:user:modelClass"))({id:e})},t=r.request("crud:template:form",n),n.template=t,this.editModel(n)}},{key:"addUser",value:function(){var e,t;return t={modelName:"user",fieldList:["username","fullname","email"],entryField:"fullname",channelName:this.channelName},e=r.request("crud:template:form",t),t.template=e,this.addModel(t)}},{key:"listGroups",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(79).then(function(){var t,o,r,u;return o=e.getChannel().request("db:group:collection"),t=n(535).default,u=new t({collection:o}),(r=o.fetch()).fail((function(){return i.request("danger","failed to get groups")})),r.done((function(){return console.log("groups fetched",o),e.layout.showChildView("content",u)}))}.bind(null,n)).catch(n.oe)}},{key:"editGroup",value:function(e){var t,n;return n={modelName:"group",fieldList:["name"],entryField:"name",model:new(this.getChannel().request("db:group:modelClass"))({id:e})},t=r.request("crud:template:form",n),n.template=t,this.editModel(n)}}]),t}(l.MainController);return e.prototype.channelName="useradmin",e.prototype.layoutClass=c.ToolbarAppletLayout,e}.call(void 0),t.default=o},680:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l,c,s,f,p,d,h,y,b,v=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),_=g(n(0)),w=n(1),m=g(n(451));function g(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a=w.Radio.channel("global"),r=a.request("main:app:AuthModel"),o=a.request("main:app:AuthCollection"),d={channelName:"useradmin"},p={},b="/api/dev/useradmin/crud/users",l=function(){var e=function(e){function t(){return O(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P(t,e),v(t,[{key:"itemLabel",value:function(){return this.get("fullname")+" ("+this.get("username")+")"}},{key:"itemViewUrl",value:function(){return"#useradmin/user/view/"+this.get("id")}},{key:"itemEditUrl",value:function(){return"#useradmin/user/edit/"+this.get("id")}}]),t}(r);return e.prototype.urlRoot=b,e.prototype.validation={username:{required:!0},fullname:{required:!0},email:{required:!0}},e}.call(void 0),c=function(){var e=function(e){function t(){return O(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P(t,e),t}(o);return e.prototype.url=b,e.prototype.model=l,e}.call(void 0),p.user=new m.default(_.default.extend(d,{modelName:"user",modelClass:l,collectionClass:c})),h="/api/dev/useradmin/crud/groups",i=function(){var e=function(e){function t(){return O(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P(t,e),v(t,[{key:"itemLabel",value:function(){return this.get("name")}},{key:"itemViewUrl",value:function(){return"#useradmin/group/view/"+this.get("id")}},{key:"itemEditUrl",value:function(){return"#useradmin/group/edit/"+this.get("id")}}]),t}(r);return e.prototype.urlRoot=h,e}.call(void 0),u=function(){var e=function(e){function t(){return O(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P(t,e),t}(o);return e.prototype.url=h,e.prototype.model=i,e}.call(void 0),p.group=new m.default(_.default.extend(d,{modelName:"group",modelClass:i,collectionClass:u})),y="/api/dev/useradmin/usergroup",s=function(){var e=function(e){function t(){return O(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P(t,e),v(t,[{key:"url",value:function(){var e,t,n;return n=this.get("user_id"),e=this.get("group_id"),t=y+"/"+e+"/"+n,t}},{key:"itemLabel",value:function(){var e;return e=this.get("user_id"),this.get("group_id")+", "+e}}]),t}(r);return e.prototype.urlRoot=y,e.prototype.idAttribute="group_id",e}.call(void 0),f=function(){var e=function(e){function t(){return O(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P(t,e),t}(o);return e.prototype.url=y,e.prototype.model=s,e}.call(void 0),p.usergroup=new m.default(_.default.extend(d,{modelName:"usergroup",modelClass:s,collectionClass:f})),t.default=p},681:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0},i=n(1),u=h(n(299));n(682);var a,l,c,s,f,p,d=h(n(683));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}s=i.Radio.channel("global"),a=i.Radio.channel("userprofile"),l=s.request("main:app:IndexRouter"),p=[{label:"Main",url:"#profile"},{label:"Edit Config",url:"#profile/editconfig"},{label:"Change Password",url:"#profile/chpassword"},{label:"View Map",url:"#profile/mapview"}],f=function(){var e=function(e){function t(){return y(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,e),t}(l);return e.prototype.channelName="userprofile",e.prototype.appRoutes={profile:"show_profile","profile/editconfig":"editConfig","profile/chpassword":"change_password","profile/mapview":"view_map"},e}.call(void 0),c=function(){var e=function(e){function t(){return y(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,e),o(t,[{key:"onBeforeStart",value:function(){var e=this;return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onBeforeStart",this).call(this,arguments),a.reply("main-controller",(function(){return console.warn("Stop using 'main-controller' request on AppChannel"),e.router.controller}))}}]),t}(u.default);return e.prototype.Controller=d.default,e.prototype.Router=f,e.prototype.appletEntries=[{label:"User Profile",menu:p}],e}.call(void 0),t.default=c},682:function(e,t,n){"use strict";var o,r,i,u,a,l=n(27),c=(o=l)&&o.__esModule?o:{default:o},s=n(1);u=s.Radio.channel("global"),(r=s.Radio.channel("userprofile")).reply("update-user-config",(function(){return console.log("update-user-config called")})),i=u.request("main:app:AuthModel"),a=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i);return e.prototype.url="/auth/chpass",e.prototype.validation={password:{required:!0,minLength:8},confirm:function(e){var t;return e===(t=(0,c.default)('input[name="password"]').val())&&(0,c.default)('input[type="submit"]').show(),e!==t}},e}.call(void 0),r.reply("new-password-model",(function(){return new a}))},683:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),c=n(4),s=h(n(7)),f=h(n(88)),p=n(164),d=n(165);function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=l.Radio.channel("global"),o=l.Radio.channel("userprofile"),u=s.default.renderable((function(e){return s.default.div(".btn-group.btn-group-justified",(function(){var t,n,o,r,i,u;for(u=[],n=0,r=(i=e.entries).length;n<r;n++)t=i[n],o=(null!=t?t.icon:void 0)||"info",u.push(s.default.div(".toolbar-button.btn.btn-primary",{"button-url":t.url},(function(){return s.default.span(".fa.fa-"+o," "+t.name)})));return u}))})),function(){var e=function(e){function t(){return y(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,e),a(t,[{key:"toolbarButtonPressed",value:function(e){var t;return console.log("toolbarButtonPressed",e),t=e.currentTarget.getAttribute("button-url"),(0,f.default)(t)}}]),t}(c.View);return e.prototype.template=u,e.prototype.ui={toolbarButton:".toolbar-button"},e.prototype.events={"click @ui.toolbarButton":"toolbarButtonPressed"},e}.call(void 0),r=function(){var e=function(e){function t(){return y(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,e),a(t,[{key:"show_profile",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(84).then(function(){var t,o,r;return t=n(956).default,o=i.request("main:app:decode-auth-token"),console.log("TOKEN",o),r=new t({model:new l.Model(o),templateContext:{title:o.fullname,text:o.fullname+" ("+o.name+")"}}),e.layout.showChildView("content",r)}.bind(null,n)).catch(n.oe)}},{key:"view_map",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(0),n.e(12)]).then(function(){var t,o,r;return t=n(608).default,o=i.request("main:app:decode-auth-token"),r=new t({model:new l.Model(o)}),e.layout.showChildView("content",r)}.bind(null,n)).catch(n.oe)}},{key:"editConfig",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(83).then(function(){var t,o,r;return t=n(959).default,o=i.request("main:app:decode-auth-token"),r=new t({model:new l.Model(o)}),e.layout.showChildView("content",r)}.bind(null,n)).catch(n.oe)}},{key:"change_password",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(5),n.e(18),n.e(11)]).then(function(){var t;return t=new(0,n(609).default)({model:o.request("new-password-model")}),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}}]),t}(p.MainController);return e.prototype.layoutClass=d.ToolbarAppletLayout,e}.call(void 0),t.default=r},684:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=f(n(299));n(685);var i,u,a,l,c,s=f(n(686));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a=o.Radio.channel("global"),i=a.request("main:app:IndexRouter"),c=[{button:"#list-button",label:"List",url:"#wikipages",icon:".fa.fa-list"}],l=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),t}(i);return e.prototype.channelName="wikipages",e.prototype.appRoutes={wikipages:"list_wikipages","wikipages/view/:name":"view_wikipage"},e}.call(void 0),u=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),t}(r.default);return e.prototype.Controller=s.default,e.prototype.Router=l,e.prototype.appletEntries=[{label:"Wikipages Menu",menu:c}],e}.call(void 0),t.default=u},685:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dbcfg=void 0;var o,r,i,u,a,l,c,s=d(n(0)),f=n(1),p=d(n(451));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=f.Radio.channel("global"),r=i.request("main:app:AuthModel"),o=i.request("main:app:AuthCollection"),c="/api/dev/bsapi/main/wikipages",l={channelName:"wikipages"},u=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,e),t}(r);return e.prototype.urlRoot=c,e}.call(void 0),a=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,e),t}(o);return e.prototype.url=c,e.prototype.model=u,e}.call(void 0);t.dbcfg=new p.default(s.default.extend(l,{modelName:"wikipage",modelClass:u,collectionClass:a}))},686:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),f=y(n(482)),p=n(164),d=n(165),h=y(n(168));function y(e){return e&&e.__esModule?e:{default:e}}i=s.Radio.channel("global"),u=s.Radio.channel("messages"),o=s.Radio.channel("wikipages"),a=[],l=new s.Collection(a),o.reply("get-toolbar-entries",(function(){return l})),r=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"setupLayoutIfNeeded",value:function(){var e;return function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setupLayoutIfNeeded",this).call(this),e=new f.default({collection:l}),this.layout.showChildView("toolbar",e)}},{key:"_load_view",value:function(e,t,n){var o,r=this;return t.isEmpty()||!t.has("created_at")?((o=t.fetch()).done((function(){return r._show_view(e,t),(0,h.default)()})),o.fail((function(){var e;return e="Failed to load "+n+" data.",u.request("danger",e)}))):this._show_view(e,t)}},{key:"list_wikipages",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(91).then(function(){var t,o,r;return t=n(965).default,r=new t({collection:e.collection}),(o=e.collection.fetch()).done((function(){var t;if(e.layout.showChildView("content",r),!e.collection.length)return u.request("warning","adding initial page"),(t=new(i.request("main:app:AuthModel"))).url="/api/dev/bsapi/main/wikipages/X32_ABI",t.fetch().done((function(){return window.location.hash="#"}))})),o.fail((function(){return u.request("danger","Failed to load wikipages.")}))}.bind(null,n)).catch(n.oe)}},{key:"view_wikipage",value:function(e){var t=this;return this.setupLayoutIfNeeded(),n.e(92).then(function(){var r,i;return r=n(966).default,i=o.request("db:wikipage:get",e),console.log("MODEL",i),t._load_view(r,i,"wikipage")}.bind(null,n)).catch(n.oe)}}]),t}(p.MainController);return e.prototype.layoutClass=d.ToolbarAppletLayout,e.prototype.collection=o.request("db:wikipage:collection"),e}.call(void 0),t.default=r}}]);
//# sourceMappingURL=19-4851bb5567f6cee2c790.js.map