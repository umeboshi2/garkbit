(self.webpackJsonp=self.webpackJsonp||[]).push([[22],Array(45).concat([function(e,t,o){var n={"./adminpanel/main":257,"./bumblr/main":263,"./dbadmin/main":269,"./dbdocs/main":271,"./ebcsv/main":273,"./eliza/main":303,"./freelaw/main":305,"./frontdoor/main":310,"./hourly/main":318,"./hubby/main":321,"./moviedb/main":325,"./msleg/main":333,"./muppy/main":337,"./netark/main":340,"./sofi/main":343,"./sunny/main":363,"./taxes/main":366,"./todos/main":368,"./tvmaze/main":371,"./useradmin/main":377,"./userprofile/main":380,"./usgov/main":384,"./wikipages/main":387};function r(e){var t=i(e);return o(t)}function i(e){if(o.o(n,e))return n[e];var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return Object.keys(n)},r.resolve=i,(e.exports=r).id=45},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),e};function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}l(o(1));var i,a,u=l(o(2));function l(e){return e&&e.__esModule?e:{default:e}}function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}a=o(92),o(93),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,u.default.Behavior),n(c,[{key:"options",value:function(){return{jviewSelector:".jsonview"}}},{key:"ui",value:function(){return{jsonView:this.getOption("jviewSelector")}}},{key:"onDomRefresh",value:function(){var e;return e=this.view.model.toJSON(),this.view.jsonView=new a(e),this.ui.jsonView.prepend(this.view.jsonView.dom)}}]),i=c,t.default=i},,,,,,,,,function(e,t,o){"use strict";var n=function(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),e};function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i,a,u,l,c,s,f,p,d,h,y,v,b,_,w,m;function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function P(){return g(this,P),O(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}function k(){return g(this,k),O(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}a=o(1),m=o(208),i=a.Radio.channel("hubby"),y="/rest/v0/main",j(P,a.Model),j(k,a.Collection),n(k,[{key:"parse",value:function(e){return function e(t,o,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"parse",this).call(this,e.data)}}]),u=k,_=y+"/meeting",h=function(){var e=(j(t,a.Model),t);function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.urlRoot=_,e}.call(void 0),c=function(){var e=(j(t,a.Model),n(t,[{key:"parse",value:function(e){return e.data}}]),t);function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.urlRoot=_,e}.call(void 0),s=function(){var e=(j(t,u),t);function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.model=h,e.prototype.url=_,e}.call(void 0),d=function(){var e=(j(t,a.Model),t);function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.urlRoot="/rest/v0/main/item",e}.call(void 0),l=function(){var e=(j(t,u),n(t,[{key:"url",value:function(){return y+"/item/search?"+m.stringify(this.searchParams)}}]),t);function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.model=d,e}.call(void 0),w=y+"/person",p=function(){var e=(j(t,a.Model),t);function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.urlRoot=w,e}.call(void 0),f=function(){var e=(j(t,u),t);function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.model=p,e.prototype.url=w,e}.call(void 0),b=new f,i.reply("personlist",function(){return b}),v=new s,i.reply("meetinglist",function(){return v}),e.exports={apiroot:y,MeetingCollection:s,MainMeetingModel:c,ItemCollection:l}},,,function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),e};function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}l(o(2));var i=l(o(18)),a=l(o(5)),u=l(o(19));function l(e){return e&&e.__esModule?e:{default:e}}var c,s,f,p,d=[].indexOf;function h(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}s=Backbone.Radio.channel("global"),f=Backbone.Radio.channel("messages"),p=Backbone.Radio.channel("site-nav"),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(h,i.default),n(h,[{key:"before",value:function(e,t){var o,n;if(n=s.request("main:app:decode-auth-token"),o=!1,(0,u.default)(n)||0<=d.call(n.groups,"admin")&&(o=!0),!o)return f.request("warning","Admin access only!"),(0,a.default)("/#frontdoor/login")}},{key:"onRoute",value:function(){return p.request("set-admin-entries")}}]),c=h,t.default=c},,,,,,,,,,,,,,function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatsView=t.ThemeSwitchView=t.FrontDoorMainView=void 0;var n=function(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),e};function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,o){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:a(r,t,o)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(o):void 0}var i,u,l,c,s,f,p,d=m(o(155)),h=m(o(4)),y=m(o(1)),v=m(o(2)),b=m(o(3)),_=m(o(32)),w=m(o(112));function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function P(){return g(this,P),O(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}l=y.default.Radio.channel("global"),j(P,_.default.Renderer),n(P,[{key:"link",value:function(e,t,o){var n;return e.startsWith("#")||("."===(n=d.default.dirname(location.hash))&&(n="#frontdoor/view"),e.startsWith("http")||(e=d.default.join(n,e))),a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"link",this).call(this,e,t,o)}}]),p=new P,i=b.default.renderable(function(e){return b.default.article(".document-view.content",function(){return b.default.div(".body",function(){return b.default.raw((0,_.default)(e.content,{renderer:p}))})})}),s=["vanilla","cornsilk","BlanchedAlmond","DarkSeaGreen","LavenderBlush"],t.ThemeSwitchView=f=function(){var e=(j(t,v.default.View),n(t,[{key:"events",value:function(){return{"click @ui.theme":"switch_theme"}}},{key:"templateContext",value:function(){return{ui:this.ui}}},{key:"switch_theme",value:function(e){var t;return t=(0,h.default)(e.target).html(),this.performSwitch(t)}},{key:"performSwitch",value:function(e){return console.log("performSwitch",e),l.request("main:app:set-theme",e),l.request("main:app:switch-theme",e)}}]),t);function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.ui={stylesheet:"#main-stylesheet",theme:".theme"},e.prototype.template=b.default.renderable(function(e){return b.default.div(function(){return s.forEach(function(e){return b.default.div(".theme.btn.btn-default",e)})})}),e}.call(void 0),t.FrontDoorMainView=u=function(){var e=(j(t,v.default.View),t);function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.template=i,e}.call(void 0),t.StatsView=c=function(){var e=(j(t,v.default.View),t);function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.template=b.default.renderable(function(e){return b.default.div(".jsonview.listview-list-entry",{style:"overflow:auto"})}),e.prototype.behaviors={HasJsonView:{behaviorClass:w.default}},e}.call(void 0),t.FrontDoorMainView=u,t.ThemeSwitchView=f,t.StatsView=c},,,,,,,,,,,function(e,t,o){"use strict";var n,r,i,a,u,l,c,s=d(o(0)),f=d(o(1)),p=(d(o(2)),d(o(104)));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}u=f.default.Radio.channel("global"),f.default.Radio.channel("messages"),l="/api/dev/sitedocuments",r=u.request("main:app:AuthModel"),n=u.request("main:app:AuthCollection"),c={channelName:"resources"},i=function(){var e=(v(t,r),t);function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.urlRoot=l,e}.call(void 0),a=function(){var e=(v(t,n),t);function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.url=l,e.prototype.model=i,e}.call(void 0),new p.default(s.default.extend(c,{modelName:"document",modelClass:i,collectionClass:a}))},,function(e,t,o){"use strict";var n=function(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),e};function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i,a,u,l,c,s,f,p,d,h,y,v,b,w,m,g,O,j,P,k,C,R,E=q(o(4)),x=q(o(1)),M=o(115);function q(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function L(){return S(this,L),N(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}function I(){return S(this,I),N(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}w=x.default.Radio.channel("global"),i=x.default.Radio.channel("ebcsv"),P=w.request("main:app:dbConn","ebcsv"),p=new M.LoveStore(P,"Config"),d=new M.LoveStore(P,"Description"),f=new M.LoveStore(P,"ComicUrl"),h=function(){var e=(T(t,x.default.Model),t);function t(){return S(this,t),N(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.loveStore=p,e}.call(void 0),y=function(){var e=(T(t,x.default.Collection),t);function t(){return S(this,t),N(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.loveStore=p,e.prototype.model=h,e}.call(void 0),b=function(){var e=(T(t,x.default.Model),t);function t(){return S(this,t),N(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.loveStore=d,e}.call(void 0),v=function(){var e=(T(t,x.default.Collection),t);function t(){return S(this,t),N(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.loveStore=d,e.prototype.model=b,e}.call(void 0),c=function(){var e=(T(t,x.default.Model),n(t,[{key:"idAttrubute",value:function(){return"url"}}]),t);function t(){return S(this,t),N(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.loveStore=f,e}.call(void 0),s=function(){var e=(T(t,x.default.Collection),t);function t(){return S(this,t),N(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.loveStore=f,e.prototype.model=c,e}.call(void 0),C=new y,R=new v,j=new s,i.reply("get_local_configs",function(){return C}),i.reply("get-config-model",function(){return h}),i.reply("configCollection",function(){return y}),i.reply("get_local_descriptions",function(){return R}),i.reply("get-description-model",function(){return b}),i.reply("descCollection",function(){return v}),i.reply("get_comic_urls",function(){return j}),i.reply("get-comic-url-model",function(){return c}),i.reply("get-comic-url-collection",function(){return s}),T(L,x.default.Model),n(L,[{key:"initialize",value:function(){return this.fetch(),this.on("change",this.save,this)}},{key:"fetch",value:function(){return this.set(JSON.parse(localStorage.getItem(this.id)))}},{key:"save",value:function(e,t){return localStorage.setItem(this.id,JSON.stringify(this.toJSON())),E.default.ajax({success:t.success,error:t.error})}},{key:"destroy",value:function(e){return localStorage.removeItem(this.id)}},{key:"isEmpty",value:function(){return _.size(this.attributes<=1)}}]),l=L,g=["format","location","returnsacceptedoption","duration","quantity","startprice","dispatchtimemax","conditionid"],i.reply("csv-req-fieldnames-local",function(){return g}),m=["postalcode","paymentprofilename","returnprofilename","shippingprofilename","scheduletime"],i.reply("csv-opt-fieldnames-local",function(){return m}),T(I,l),u=I,function(){var e=(T(t,u),t);function t(){return S(this,t),N(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.fieldType="required",e.prototype.fieldNames=g,e}.call(void 0),function(){var e=(T(t,u),t);function t(){return S(this,t),N(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.fieldType="optional",e.prototype.fieldNames=m,e}.call(void 0),i.reply("get-comic-image-urls",function(){return console.warn("get-comic-image-urls"),new l({id:"comic-image-urls"}).toJSON()}),i.reply("add-comic-image-url",function(e,t){return new l({id:"comic-image-urls"}).set(e,t)}),i.reply("clear-comic-image-urls",function(){var e;return(e=new l({id:"comic-image-urls"})).destroy(),console.log("localStorage",localStorage[e.id])}),a={},i.reply("applet:local:get",function(e){return a[e]}),i.reply("applet:local:set",function(e,t){return a[e]=t}),i.reply("applet:local:delete",function(e){return delete a[e]}),i.reply("set-current-csv-action",function(e){return i.request("applet:local:set","currentCsvAction",e)}),i.reply("get-current-csv-action",function(){return i.request("applet:local:get","currentCsvAction")}),i.reply("set-current-csv-cfg",function(e){return i.request("applet:local:set","currentCsvCfg",e)}),i.reply("get-current-csv-cfg",function(){return i.request("applet:local:get","currentCsvCfg")}),i.reply("set-current-csv-dsc",function(e){return i.request("applet:local:set","currentCsvDsc",e)}),i.reply("get-current-csv-dsc",function(){return i.request("applet:local:get","currentCsvDsc")}),O=function(){var e=(T(t,x.default.Model),t);function t(){return S(this,t),N(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.url="/assets/data/superheroes.json",e}.call(void 0),k=new O,i.reply("get-superheroes-model",function(){return k})},,,,,function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClzPageCollection=t.EbDescCollection=t.EbConfigCollection=void 0;function a(e,t,o){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:a(r,t,o)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(o):void 0}var r=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e};function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i,u,l,c,s,f,p,d,h,y,v,b,_,w,m,g,O,j,P,k,C,R,E,x,M,q,S,N,T,L,I,V,z,D,F,A,B,U,W,J,H,Y=o(104),G=(i=Y)&&i.__esModule?i:{default:i};function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function $(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}L=o(0),f=o(1),W=o(111);var K=o(344);function Q(){return X(this,Q),Z(this,(Q.__proto__||Object.getPrototypeOf(Q)).apply(this,arguments))}C=K.LocalStorage,R=f.Radio.channel("global"),u=f.Radio.channel("sofi"),s=R.request("main:app:AuthModel"),c=R.request("main:app:AuthCollection"),V=(I="/api/dev/bapi/sofi")+"/ebcsvcfg",B=I+"/ebcsvdsc",A={channelName:"sofi"},M=function(){var e=($(t,f.Model),t);function t(){return X(this,t),Z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.url="/assets/data/superheroes.json",e}.call(void 0),U=new M,u.reply("get-superheroes-model",function(){return U}),$(Q,f.Model),r(Q,[{key:"initialize",value:function(){return this.fetch(),this.on("change",this.save,this)}},{key:"fetch",value:function(){return this.set(JSON.parse(localStorage.getItem(this.id)))}},{key:"save",value:function(e,t){return localStorage.setItem(this.id,JSON.stringify(this.toJSON()))}},{key:"destroy",value:function(e){return localStorage.removeItem(this.id)}},{key:"isEmpty",value:function(){return L.size(this.attributes<=1)}}]),p=Q,g=function(){var e=($(t,f.Collection),t);function t(){return X(this,t),Z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.localStorage=new C("ComicPhotoNames"),e}.call(void 0),u.reply("ComicPhotoNames",function(){return g}),u.reply("get-comic-image-urls",function(){return new p({id:"comic-image-urls"}).toJSON()}),u.reply("add-comic-image-url",function(e,t){return new p({id:"comic-image-urls"}).set(e,t)}),u.reply("clear-comic-image-urls",function(){var e;return(e=new p({id:"comic-image-urls"})).destroy(),console.log("localStorage",localStorage[e.id])}),j=function(){var e=($(o,s),r(o,[{key:"parse",value:function(e,t){return"string"==typeof e.content&&(e.content=JSON.parse(e.content)),a(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"parse",this).call(this,e,t)}}]),o);function o(){return X(this,o),Z(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return e.prototype.urlRoot=V,e}.call(void 0),t.EbConfigCollection=O=function(){var e=($(t,c),t);function t(){return X(this,t),Z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.url=V,e.prototype.model=j,e}.call(void 0),new G.default(L.extend(A,{modelName:"ebcfg",modelClass:j,collectionClass:O})),k=function(){var e=($(t,s),t);function t(){return X(this,t),Z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.urlRoot=B,e}.call(void 0),t.EbDescCollection=P=function(){var e=($(t,c),t);function t(){return X(this,t),Z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.url=B,e.prototype.model=k,e}.call(void 0),new G.default(L.extend(A,{modelName:"ebdsc",modelClass:k,collectionClass:P})),b=function(){var e=($(o,s),r(o,[{key:"parse",value:function(e,t){return console.warn("ClzPage is deprecated"),"string"==typeof e.clzdata&&(e.clzdata=JSON.parse(e.clzdata)),a(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"parse",this).call(this,e,t)}}]),o);function o(){return X(this,o),Z(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return e.prototype.urlRoot=I+"/ebclzpage",e}.call(void 0),t.ClzPageCollection=_=function(){var e=($(t,c),r(t,[{key:"fetch",value:function(e){return console.warn("ClzPageCollection is deprecated"),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fetch",this).call(this,e)}}]),t);function t(){return X(this,t),Z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.url=I+"/ebclzpage",e.prototype.model=b,e}.call(void 0),new G.default(L.extend(A,{modelName:"clzpage",modelClass:b,collectionClass:_})),F=["id","comic_id","list_id","bpcomicid","bpseriesid","rare","publisher","releasedate","seriesgroup","series","issue","issueext","quantity","currentprice","url","image_src","created_at","updated_at"],u.reply("dbComicColumns",function(){return F}),D=["collectionStatus","photos","workspace"],z=["ReleaseDate"],y=function(){var e=($(n,s),r(n,[{key:"parse",value:function(e,t){var o;return"string"==typeof e.content&&(e.content=JSON.parse(e.content)),"string"==typeof e.releasedate&&(o=W(e.releasedate),e.ReleaseDate=o.format("ddd MMM DD, YYYY")),a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"parse",this).call(this,e,t)}},{key:"fetch",value:function(e){var t;return(e=e||{}).data=e.data||{},(null!=(t=e.data)?t.withRelated:void 0)||(e.data.withRelated=D),a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"fetch",this).call(this,e)}},{key:"save",value:function(e,t){var o=this;return D.concat(z).forEach(function(e){if(o.has(e))return o.unset(e)}),a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"save",this).call(this,e,t)}}]),n);function n(){return X(this,n),Z(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return e.prototype.urlRoot=I+"/ebclzcomic",e}.call(void 0),v=function(){var e=($(o,c),r(o,[{key:"fetch",value:function(e){var t;return(e=e||{}).data=e.data||{},(null!=(t=e.data)?t.withRelated:void 0)||(e.data.withRelated=D),a(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"fetch",this).call(this,e)}}]),o);function o(){return X(this,o),Z(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return e.prototype.url=I+"/ebclzcomic",e.prototype.model=y,e}.call(void 0),new G.default(L.extend(A,{modelName:"clzcomic",modelClass:y,collectionClass:v})),x=function(){var e=($(t,c),t);function t(){return X(this,t),Z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.url=I+"/ebclzcomic",e.prototype.model=u.request("db:clzcomic:modelClass"),e.prototype.state={firstPage:0,pageSize:1e4,sortColumn:"seriesgroup",sortDirection:"asc"},e}.call(void 0),u.reply("db:clzcomic:SeriesGroupCollection",function(){return x}),E=function(){var e=($(t,c),t);function t(){return X(this,t),Z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.url=I+"/ebclzcomic",e.prototype.model=u.request("db:clzcomic:modelClass"),e.prototype.state={firstPage:0,pageSize:1e4,sortColumn:"publisher",sortDirection:"asc"},e}.call(void 0),u.reply("db:clzcomic:PublisherCollection",function(){return E}),d=function(){var e=($(t,s),t);function t(){return X(this,t),Z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.urlRoot=I+"/clzcollectionstatus",e}.call(void 0),h=function(){var e=($(t,c),t);function t(){return X(this,t),Z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.url=I+"/clzcollectionstatus",e.prototype.model=d,e}.call(void 0),new G.default(L.extend(A,{modelName:"clzcollectionstatus",modelClass:d,collectionClass:h})),H=["comic"],J=[],N=function(){var e=($(n,s),r(n,[{key:"save",value:function(e,t){var o=this;return H.concat(J).forEach(function(e){if(o.has(e))return o.unset(e)}),a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"save",this).call(this,e,t)}}]),n);function n(){return X(this,n),Z(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return e.prototype.urlRoot=I+"/ebcomicworkspace",e}.call(void 0),T=function(){var e=($(o,c),r(o,[{key:"fetch",value:function(e){var t;return(e=e||{}).data=e.data||{},(null!=(t=e.data)?t.withRelated:void 0)||(e.data.withRelated=H),a(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"fetch",this).call(this,e)}}]),o);function o(){return X(this,o),Z(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return e.prototype.url=I+"/ebcomicworkspace",e.prototype.model=N,e}.call(void 0),new G.default(L.extend(A,{modelName:"ebcomicworkspace",modelClass:N,collectionClass:T})),S=function(){var e=($(t,c),t);function t(){return X(this,t),Z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.url=I+"/ebcomicworkspace",e.prototype.model=u.request("db:clzcomic:modelClass"),e.prototype.state={firstPage:0,pageSize:1e4,sortColumn:"name",sortDirection:"asc"},e}.call(void 0),u.reply("db:ebcomicworkspace:WorkspaceCollection",function(){return S}),q=function(){var e=($(t,c),t);function t(){return X(this,t),Z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.url="/api/dev/misc/unattached-comics",e.prototype.model=y,e}.call(void 0),u.reply("db:unattached:collectionClass",function(){return q}),w=function(){var e=($(t,s),t);function t(){return X(this,t),Z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.urlRoot=I+"/comicphotoname",e}.call(void 0),m=function(){var e=($(t,c),t);function t(){return X(this,t),Z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.url=I+"/comicphotoname",e.prototype.model=w,e}.call(void 0),new G.default(L.extend(A,{modelName:"comicphotoname",modelClass:w,collectionClass:m})),l={},u.reply("locals:get",function(e){return l[e]}),u.reply("locals:set",function(e,t){return l[e]=t}),u.reply("locals:delete",function(e){return delete l[e]}),u.request("locals:set","currentQueryWhere",{}),t.EbConfigCollection=O,t.EbDescCollection=P,t.ClzPageCollection=_},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,o){"use strict";var n,r,i,a,u,l,c,s,f,p,d=function(e,t,o){return t&&h(e.prototype,t),o&&h(e,o),e};function h(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n=o(4),r=o(1),l=o(2),p=o(3),f=o(32),u=r.Radio.channel("global"),i=p.renderable(function(e){return p.article(".document-view.content",function(){return p.div(".body",function(){return p.raw(f(e.content))})})}),c=["vanilla","cornsilk","BlanchedAlmond","DarkSeaGreen","LavenderBlush"],s=function(){var e=(b(t,l.View),d(t,[{key:"events",value:function(){return{"click @ui.theme":"switch_theme"}}},{key:"templateContext",value:function(){return{ui:this.ui}}},{key:"switch_theme",value:function(e){var t;return t=n(e.target).html(),this.performSwitch(t)}},{key:"performSwitch",value:function(e){return console.log("performSwitch",e),u.request("main:app:set-theme",e),u.request("main:app:switch-theme",e)}}]),t);function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.ui={stylesheet:"#main-stylesheet",theme:".theme"},e.prototype.template=p.renderable(function(e){return p.div(function(){return c.forEach(function(e){return p.div(".theme.btn.btn-default",e)})})}),e}.call(void 0),a=function(){var e=(b(t,l.View),t);function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.template=i,e}.call(void 0),e.exports={FrontDoorMainView:a,ThemeSwitchView:s}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),e};function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}d(o(2));var i,a,u,l,c=d(o(89)),s=(d(o(5)),d(o(258))),f=d(o(124)),p=d(o(261));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Backbone.Radio.channel("global"),Backbone.Radio.channel("messages"),u=Backbone.Radio.channel("site-nav"),l=[{label:"User Admin",menu:[{label:"List Users",url:"#admin/user/list",icon:".fa.fa-list"},{label:"Add New User",url:"#admin/user/add",icon:".fa.fa-plus"},{label:"Hubby Dbadmin",url:"#admin/dbadmin/hubby",icon:".fa.fa-database"}]}],a=function(){var e=(v(t,f.default),t);function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.appRoutes={admin:"frontdoor","admin/view":"frontdoor","admin/login":"show_login","admin/logout":"show_logout","admin/dbadmin/hubby":"viewHubby"},e}.call(void 0),i=function(){var e=(v(t,c.default),n(t,[{key:"onStart",value:function(){return u.request("set-admin-entries")}},{key:"onStop",value:function(){return console.log("(Child) Stopping admin",this.isRunning()),function e(t,o,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onStop",this).call(this)}}]),t);function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.Controller=s.default,e.prototype.Router=a,e.prototype.appletEntries=l,e.prototype.extraRouters={useradmin:p.default},e}.call(void 0),t.default=i},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),e};function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,o){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:a(r,t,o)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(o):void 0}var i=f(o(1)),u=f(o(2)),l=o(34),c=(o(31),f(o(39))),s=f(o(5));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}o(149);var y,v,b,_,w,m,g,O=[].indexOf;function j(){return p(this,j),d(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}v=i.default.Radio.channel("global"),b=i.default.Radio.channel("messages"),i.default.Radio.channel("static-documents"),w=i.default.Radio.channel("resources"),g=o(3),_=function(){var e=(h(t,i.default.Model),n(t,[{key:"fetch",value:function(e){return(e=e||{}).dataType="text",a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fetch",this).call(this,e)}},{key:"parse",value:function(e){return{content:e}}}]),t);function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.url="/assets/documents/intro-admin.md",e}.call(void 0),m=g.renderable(function(){return g.div(".row",function(){return g.div("#main-content")})}),function(){var e=(h(t,u.default.View),n(t,[{key:"regions",value:function(){return{content:new c.default({el:"#main-content",speed:"slow"})}}},{key:"onBeforeDestroy",value:function(e){}}]),t);function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.template=m,e}.call(void 0),h(j,l.MainController),n(j,[{key:"setupLayoutIfNeeded",value:function(){return a(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"setupLayoutIfNeeded",this).call(this),this.layout.controller=this}},{key:"_view_resource",value:function(e){var t;return this.setupLayoutIfNeeded(),t=new(o(198).FrontDoorMainView)({model:e}),this.layout.showChildView("content",t)}},{key:"_view_login",value:function(){var e;return e=new(o(259)),this.layout.showChildView("content",e)}},{key:"_view_upload",value:function(){var t=this;return Promise.all([o.e(18),o.e(45)]).then(function(){var e;return e=new(o(390)),t.layout.showChildView("content",e)}.bind(null,o)).catch(o.oe)}},{key:"upload_view",value:function(){return this.setupLayoutIfNeeded(),this._view_upload()}},{key:"view_page",value:function(e){var t,o,n=this;return(o=(t=w.request("get-document",e)).fetch()).done(function(){return t.get("content")||t.set("content","# Need a front page."),n._view_resource(t)}),o.fail(function(){return b.request("danger","Failed to get document")})}},{key:"frontdoor_needuser",value:function(){var e;return e=v.request("main:app:decode-auth-token"),0<=O.call(Object.keys(e),"name")?this.frontdoor_hasuser(e):this.show_login()}},{key:"show_login",value:function(){return this.setupLayoutIfNeeded(),this._view_login()}},{key:"show_logout",value:function(){return v.request("main:app:destroy-auth-token"),(0,s.default)("/")}},{key:"frontdoor_hasuser",value:function(e){return this.default_view()}},{key:"view_readme",value:function(){var e,t,o=this;return console.log("view_readme",this),this.setupLayoutIfNeeded(),(t=(e=new _).fetch()).done(function(){return o._view_resource(e)}),t.fail(function(){return b.request("warning","failed to get readme")})}},{key:"default_view",value:function(){return this.setupLayoutIfNeeded(),this.view_readme()}},{key:"frontdoor",value:function(){var e;return(null!=(e=v.request("main:app:config"))?e.needLogin:void 0)?this.frontdoor_needuser():this.default_view()}},{key:"start",value:function(){return this.frontdoor()}},{key:"themeSwitcher",value:function(){var e;return this.setupLayoutIfNeeded(),e=new(o(198).ThemeSwitchView),this.layout.showChildView("content",e),console.log("themeSwitcher")}},{key:"viewHubby",value:function(){var e;return this.setupLayoutIfNeeded(),e=new(o(260)),this.layout.showChildView("content",e)}}]),y=j,t.default=y},function(e,t,o){"use strict";var r,n,i,a,u,l,c,s,f,p,d,h,y,v,b,_,w=function(e,t,o){return t&&m(e.prototype,t),o&&m(e,o),e};function m(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r=o(4),n=o(1),s=o(2),b=o(3),y=o(37).default,v=o(5).default;var P=o(31);function k(){return g(this,k),O(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}d=P.form_group_input_div,a=o(33).default,l=n.Radio.channel("global"),f=n.Radio.channel("messages"),h=b.renderable(function(e){return d({input_id:"input_username",label:"User Name",input_attributes:{name:"username",placeholder:"User Name"}}),d({input_id:"input_password",label:"Password",input_attributes:{name:"password",type:"password",placeholder:"Type your password here...."}}),b.input(".btn.btn-default",{type:"submit",value:"login"}),b.div(".spinner.fa.fa-spinner.fa-spin")}),j(k,a),w(k,[{key:"ui",value:function(){return y(this.fieldList)}},{key:"createModel",value:function(){return new n.Model}},{key:"onSuccess",value:function(){return v("/admin")}}]),i=k,u=function(){var e=(j(t,i),w(t,[{key:"updateModel",value:function(){return console.log("updateModel called"),this.model.set("username",this.ui.username.val()),this.model.set("password",this.ui.password.val())}},{key:"saveModel",value:function(){var e,t,o,n=this;return t=this.model.get("username"),e=this.model.get("password"),o=r.ajax({url:"/login",type:"POST",data:{username:t,password:e},dataType:"json",success:function(e){var t;return t=e.token,l.request("main:app:set-auth-token",t),n.trigger("save:form:success",n.model)},error:function(e){var t;return t=e.responseJSON,f.request("danger",t.message),n.trigger("save:form:failure",n.model)}}),console.log("returning xhr",o)}}]),t);function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.template=h,e.prototype.fieldList=["username","password"],e}.call(void 0),_=b.renderable(function(e){return d({input_id:"input_token",label:"Auth Token",input_attributes:{name:"token",placeholder:"xxxxxxxxxxxxxxx"}}),b.input(".btn.btn-default",{type:"submit",value:"login"}),b.div(".spinner.fa.fa-spinner.fa-spin")}),p=function(){var e=(j(t,i),w(t,[{key:"updateModel",value:function(){return console.log("updateModel called"),this.model.set("token",this.ui.token.val())}},{key:"saveModel",value:function(){var e,t,o=this;return t=this.model.get("token"),l.request("main:app:set-auth-token",t),(e=(new(l.request("main:app:AuthRefresh"))).fetch()).fail(function(){return o.trigger("save:form:failure",o.model)}),e.done(function(){return o.trigger("save:form:success",o.model)})}}]),t);function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.template=_,e.prototype.fieldList=["token"],e}.call(void 0),c=function(){var e=(j(t,s.View),w(t,[{key:"onRender",value:function(){return this.showChildView("login",new u),this.showChildView("token",new p)}}]),t);function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.template=b.renderable(function(e){return b.div("#login-form"),b.div("#token-form")}),e.prototype.regions={login:"#login-form",token:"#token-form"},e}.call(void 0),e.exports=c},function(e,t,o){"use strict";var n=function(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),e};function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")}var a,s,f,p,d,h,y,v,b,_,w,m,g;o(4),s=o(1),v=o(2),g=o(3),o(32),d=o(150),w=o(199),y=s.Radio.channel("global"),b=s.Radio.channel("messages"),a=y.request("main:app:AuthModel"),y.request("main:app:AuthCollection"),_=function(){var e=(l(t,a),t);function t(){return i(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.url="/rest/v0/main/hubby/dbadmin/testme",e}.call(void 0),p=function(){var e=(l(t,a),t);function t(){return i(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.url="/rest/v0/main/hubby/dbadmin/delete-all",e}.call(void 0),f=function(){var e=(l(t,a),t);function t(){return i(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.url="/rest/v0/main/hubby/dbadmin/testme",e}.call(void 0),m=g.renderable(function(e){return g.div(".dropzone.card",function(){return g.div(".card-header",function(){return g.text("drop a dump of meetings to upload")}),g.div(".card-body",function(){return g.div(".parse-btn.btn.btn-primary",{style:"display:none"},function(){return g.text("upload dropped meetings")}),g.input(".file-input.input",{type:"file"}),g.span(".parse-chosen-btn.btn.btn-primary",{style:"display:none"},function(){return g.text("Parse dropped meetings")})})})}),h=function(){var e=(l(a,v.View),n(a,[{key:"deleteBtnClicked",value:function(){var e;return console.log("deleteBtnClicked"),(e=new p).fetch().done(function(){return b.request("success",e.get("result"))})}},{key:"fileInputClicked",value:function(e){return console.log("file_input_clicked",e),this.ui.fileInput.val(null),this.ui.chosenBtn.hide()}},{key:"fileInputChanged",value:function(e){return console.log("file_input_changed",e),this.ui.chosenBtn.show()}},{key:"handleDrop",value:function(e){var t;return e.preventDefault(),this.ui.dropzone.css("border","0px"),t=e.originalEvent.dataTransfer.files[0],this.ui.statusMsg.text("File: "+t.name),this.droppedFile=t,this.ui.parseBtn.show()}},{key:"handleDragOver",value:function(e){return e.preventDefault(),e.stopPropagation()}},{key:"handleDragEnter",value:function(e){return e.stopPropagation(),e.preventDefault(),this.ui.dropzone.css("border","2px dotted")}},{key:"successfulParse",value:function(){return c(this,a),this.ui.statusMsg.text("Parse Successful"),b.request("success","successfulParse")}},{key:"fileReaderOnLoad",value:function(e){var t,o,n,r,i=this;return c(this,a),t=e.target.result,o=e.target.fileObject.name,this.ui.statusMsg.text("Retrieved file content of "+o),r=(n=new _({content:btoa(t)})).save(),this.ui.statusMsg.text("Uploaded "+o+"."),r.fail(function(){return b.request("warning","failed to save model")}),r.done(function(){var e;return console.log("MODEL",n),e=n.get("data"),n.get("output"),b.request("success","Finished import year "+e.year),i.ui.statusMsg.text("Finished import year "+e.year)})}},{key:"readFile",value:function(e){var t;return(t=new FileReader).onload=this.fileReaderOnLoad,t.fileObject=e,t.readAsBinaryString(e)}},{key:"handleChosenFile",value:function(){var e,t;return t=this.ui.fileInput.val(),this.ui.statusMsg.text("Reading chosen file...("+t+")"),e=this.ui.fileInput[0].files[0],this.ui.parseBtn.hide(),this.readFile(e)}},{key:"handleDroppedFile",value:function(){return this.ui.statusMsg.text("Reading dropped file... ("+this.droppedFile.name+")"),this.ui.parseBtn.hide(),this.readFile(this.droppedFile)}},{key:"exportBtnClicked",value:function(){var o;return this.ui.statusMsg.text("Exporting database..."),(o=new f).fetch().done(function(){var e,t;return t={filename:"dbdump.json.xz",type:"application/octet-stream",data:o.get("content")},console.log("content",t.data),e=w(t.data,t.type),console.log("BLOB",e),d.saveAs(e,t.filename),b.request("primary","Exported database...."),console.log("exported",o)})}}]),a);function a(){i(this,a);var e=u(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments));return e.successfulParse=e.successfulParse.bind(e),e.fileReaderOnLoad=e.fileReaderOnLoad.bind(e),e}return e.prototype.template=g.renderable(function(e){return g.div(".listview-header","Hubby Dbadmin"),g.button(".delete-btn.btn.btn-danger","Delete"),g.button(".export-btn.btn.btn-info","Export"),m(e)}),e.prototype.ui={header:".listview-header",deleteBtn:".delete-btn",fileInput:".file-input",parseBtn:".parse-btn",chosenBtn:".parse-chosen-btn",exportBtn:".export-btn",dropzone:".dropzone",statusMsg:".card-header"},e.prototype.events={"dragover @ui.dropzone":"handleDragOver","dragenter @ui.dropzone":"handleDragEnter","drop @ui.dropzone":"handleDrop","click @ui.fileInput":"fileInputClicked","change @ui.fileInput":"fileInputChanged","click @ui.parseBtn":"handleDroppedFile","click @ui.chosenBtn":"handleChosenFile","click @ui.deleteBtn":"deleteBtnClicked","click @ui.exportBtn":"exportBtnClicked"},e}.call(void 0),e.exports=h},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a(o(2));var n,r=a(o(262)),i=a(o(124));function a(e){return e&&e.__esModule?e:{default:e}}n=function(){var e=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),t);function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.appRoutes={"admin/useradmin":"listUsers","admin/user/list":"listUsers","admin/user/add":"addNewUser","admin/user/view/:id":"viewUser","admin/user/edit/:id":"editUser"},e}.call(void 0),t.default={router:n,controller:r.default}},function(e,t,n){"use strict";var o,r,i,a,u=function(e,t,o){return t&&l(e.prototype,t),o&&l(e,o),e};function l(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}n(4),o=n(1),n(2),n(3),n(7),n(34).ExtraController,a=o.Radio.channel("global"),i=a.request("crud:Controller"),r=function(){var e=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),u(t,[{key:"initialize",value:function(e){this.applet=a.request("main:applet:get-applet","adminpanel"),this.mainController=this.applet.router.controller}},{key:"listUsers",value:function(){var t=this;n.e(103).then(function(){var e;return e=n(394),t.listItems(e)}.bind(null,n)).catch(n.oe)}},{key:"viewUser",value:function(t){var o=this;n.e(104).then(function(){var e;return e=n(395),o.viewItem(e,t)}.bind(null,n)).catch(n.oe)}},{key:"addNewUser",value:function(){var e;e=a.request("crud:view:new-item"),this.addItem(e)}},{key:"editUser",value:function(e){var t;t=a.request("crud:view:edit-item"),this.editItem(t,e)}}]),t);function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.defaultColumns=["id","username","fullname"],e.prototype.viewOptions={fieldList:["username","fullname","email"],entryField:"fullname",modelName:"user",label:"user",routeName:"admin"},e.prototype.channelName="useradmin",e}.call(void 0),e.exports=r},,,,,,,function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r,i,a,u=p(o(1)),l=(p(o(2)),p(o(89))),c=p(o(16)),s=p(o(270)),f=p(o(124));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i="dbadmin",u.default.Radio.channel("global"),u.default.Radio.channel(i),a=[{label:"List",url:"#dbadmin",icon:".fa.fa-list"},{label:"Calendar",url:"#dbadmin/calendar",icon:".fa.fa-calendar"}],r=function(){var e=(y(t,f.default),t);function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.appRoutes={dbadmin:"viewIndex"},e}.call(void 0),n=function(){var e=(y(t,l.default),t);function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.Controller=s.default,e.prototype.Router=r,e.prototype.appletEntries=[{label:(0,c.default)(i)+" Menu",menu:a}],e}.call(void 0),t.default=n},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),e};function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i,a=c(o(1)),u=(c(o(2)),c(o(3)),c(o(7)),c(o(88)),o(34)),l=o(35);c(o(5)),c(o(36));function c(e){return e&&e.__esModule?e:{default:e}}a.default.Radio.channel("global"),a.default.Radio.channel("messages"),a.default.Radio.channel("dbadmin"),i=function(){var e=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.MainController),n(t,[{key:"viewIndex",value:function(){var t=this;return this.setupLayoutIfNeeded(),o.e(28).then(function(){var e;return e=new(o(404)),t.layout.showChildView("content",e)}.bind(null,o)).catch(o.oe)}}]),t);function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.layoutClass=l.ToolbarAppletLayout,e}.call(void 0),t.default=i},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});c(o(2));var n=c(o(89)),r=c(o(124));o(149);var i,a,u,l=c(o(272));function c(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Backbone.Radio.channel("global"),Backbone.Radio.channel("resources"),u=[{button:"#list-button",label:"List",url:"#dbdocs/documents",icon:".fa.fa-list"},{label:"Add New Document",url:"#dbdocs/documents/new",icon:".fa.fa-plus"}],a=function(){var e=(p(t,r.default),t);function t(){return s(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.appRoutes={dbdocs:"list_pages","dbdocs/documents":"list_pages","dbdocs/documents/new":"new_page","dbdocs/documents/view/:id":"view_page","dbdocs/documents/edit/:id":"edit_page"},e}.call(void 0),i=function(){var e=(p(t,n.default),t);function t(){return s(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.Controller=l.default,e.prototype.Router=a,e.prototype.appletEntries=[{label:"Site Doc Menu",menu:u}],e}.call(void 0),t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e};function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i,a,u,l,c,s,f,p=r(34),d=r(88),h=(i=d)&&i.__esModule?i:{default:i},y=r(35);Backbone.Radio.channel("global"),l=Backbone.Radio.channel("messages"),c=Backbone.Radio.channel("resources"),a=Backbone.Radio.channel("dbdocs"),s=[],f=new Backbone.Collection(s),a.reply("get-toolbar-entries",function(){return f}),u=function(){var e=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p.MainController),o(t,[{key:"setupLayoutIfNeeded",value:function(){var e;return function e(t,o,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setupLayoutIfNeeded",this).call(this),e=new h.default({collection:f}),this.layout.showChildView("toolbar",e)}},{key:"list_pages",value:function(){var n=this;return this.setupLayoutIfNeeded(),console.log("List Pages"),r.e(30).then(function(){var e,t,o;return e=r(405),o=new e({collection:n.collection}),(t=n.collection.fetch()).done(function(){return n.layout.showChildView("content",o)}),t.fail(function(){return l.request("danger","Failed to load documents.")})}.bind(null,r)).catch(r.oe)}},{key:"edit_page",value:function(o){var n=this;return this.setupLayoutIfNeeded(),Promise.all([r.e(1),r.e(7)]).then(function(){var e,t;return e=r(211).EditPageView,t=c.request("db:document:get",o),n._loadView(e,t)}.bind(null,r)).catch(r.oe)}},{key:"view_page",value:function(o){var n=this;return this.setupLayoutIfNeeded(),r.e(29).then(function(){var e,t;return e=r(410),t=c.request("db:document:get",o),n._loadView(e,t)}.bind(null,r)).catch(r.oe)}},{key:"new_page",value:function(){var t=this;return this.setupLayoutIfNeeded(),Promise.all([r.e(1),r.e(7)]).then(function(){var e;return e=new(r(211).NewPageView),t.layout.showChildView("content",e)}.bind(null,r)).catch(r.oe)}}]),t);function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.layoutClass=y.ToolbarAppletLayout,e.prototype.collection=c.request("db:document:collection"),e}.call(void 0),t.default=u},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r,i,a,u,l=f(o(1)),c=(f(o(2)),f(o(89))),s=f(o(274));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}o(151),o(276),i=l.default.Radio.channel("global"),l.default.Radio.channel("resources"),n=i.request("main:app:IndexRouter"),u=[{id:"main",label:"Main View",url:"#ebcsv",icon:".fa.fa-eye"},{id:"cfglist",label:"Configs",url:"#ebcsv/configs/list",icon:".fa.fa-list"},{id:"dsclist",label:"Descriptions",url:"#ebcsv/descriptions/list",icon:".fa.fa-list"},{id:"uploadxml",label:"Upload CLZ/XML",url:"#ebcsv/xml/upload",icon:".fa.fa-upload"},{id:"mkcsv",label:"Create CSV",url:"#ebcsv/csv/create",icon:".fa.fa-cubes"},{id:"cached",label:"Cached Images",url:"#ebcsv/clzpage",icon:".fa.fa-image"},{id:"addcfg",label:"Create Cfg",url:"#ebcsv/configs/add",icon:".fa.fa-plus"}],a=function(){var e=(h(t,n),t);function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.appRoutes={ebcsv:"main_view","ebcsv/xml/upload":"upload_xml","ebcsv/csv/create":"create_csv","ebcsv/csv/preview":"preview_csv","ebcsv/clzpage":"view_cached_comics","ebcsv/configs":"list_configs","ebcsv/configs/list":"list_configs","ebcsv/configs/add":"add_new_config","ebcsv/configs/view/:name":"view_config","ebcsv/configs/edit/:name":"edit_config","ebcsv/descriptions":"list_descriptions","ebcsv/descriptions/list":"list_descriptions","ebcsv/descriptions/add":"add_new_description","ebcsv/descriptions/view/:name":"view_description","ebcsv/descriptions/edit/:name":"edit_description"},e}.call(void 0),r=function(){var e=(h(t,c.default),t);function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.Controller=s.default,e.prototype.Router=a,e.prototype.appletEntries=[{label:"Ebcsv Menu",menu:u}],e.prototype.state={currentCsvAction:void 0,currentCsvConfig:void 0,currentCsvDsc:void 0},e}.call(void 0),t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e};function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}y(i(4));var r=y(i(1)),a=y(i(2)),u=y(i(3)),l=y(i(7)),c=y(i(88)),s=y(i(42)),f=y(i(39)),p=y(i(5)),d=y(i(36)),h=y(i(275));function y(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function w(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")}var m,g,O,j,P,k,C;function R(){v(this,R);var e=b(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments));return e._showMainView=e._showMainView.bind(e),e._show_create_csv_view=e._show_create_csv_view.bind(e),e._show_preview_csv_view=e._show_preview_csv_view.bind(e),e.create_csv=e.create_csv.bind(e),e}g=i(34).MainController,r.default.Radio.channel("global"),O=r.default.Radio.channel("messages"),r.default.Radio.channel("resources"),j=r.default.Radio.channel("navbar"),P={id:"addcfg",label:"Create Cfg",url:"#ebcsv/configs/add",icon:".fa.fa-plus"},k={id:"adddsc",label:"Create Description",url:"#ebcsv/descriptions/add",icon:".fa.fa-plus"},function(){var e=(_(t,a.default.View),o(t,[{key:"regions",value:function(){var e;return(e=new f.default({el:"#main-content"})).slide_speed=(0,l.default)(".01s"),{content:e,toolbar:"#main-toolbar"}}}]),t);function t(){return v(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.behaviors={ShowInitialEmptyContent:{behaviorClass:s.default}},e.prototype.template=u.default.renderable(function(e){return u.default.div(".col-md-12",function(){return u.default.div(".row",function(){return u.default.div("#main-toolbar.col-md-10.col-md-offset-1")}),u.default.div(".row",function(){return u.default.div("#main-content.col-md-10.col-md-offset-1")})})}),e}.call(void 0),C=new r.default.Collection([]),h.default.reply("get-toolbar-entries",function(){return C}),function(){var e=(_(t,c.default),t);function t(){return v(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.options={entryTemplate:u.default.renderable(function(e){var t;return t={style:"overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"},u.default.span(t,function(){return u.default.i(e.icon),u.default.text(" "),u.default.text(e.label)})})},e}.call(void 0),_(R,g),o(R,[{key:"_showMainView",value:function(){var o=this;return w(this,R),Promise.all([i.e(0),i.e(10),i.e(37)]).then(function(){var e,t;return e=h.default.request("get-comics"),t=new(i(411))({collection:e}),o.layout.showChildView("content",t)}.bind(null,i)).catch(i.oe)}},{key:"_show_create_csv_view",value:function(){var o=this;return w(this,R),Promise.all([i.e(0),i.e(10),i.e(38)]).then(function(){var e,t;return e=h.default.request("get-comics"),t=new(i(413))({collection:e}),o.layout.showChildView("content",t)}.bind(null,i)).catch(i.oe)}},{key:"_show_preview_csv_view",value:function(){var o=this;return w(this,R),Promise.all([i.e(0),i.e(33)]).then(function(){var e,t;return e=h.default.request("get-comics"),t=new(i(414))({collection:e}),o.layout.showChildView("content",t)}.bind(null,i)).catch(i.oe)}},{key:"_needComicsView",value:function(e){return h.default.request("get-comics").length?e():(0,p.default)("#ebcsv/xml/upload")}},{key:"create_csv",value:function(){var e,t,o=this;return w(this,R),this.setupLayoutIfNeeded(),e=h.default.request("get_local_configs"),t=h.default.request("get_local_descriptions"),e.fetch().then(function(){return t.fetch().then(function(){return o._needComicsView(o._show_create_csv_view)})})}},{key:"preview_csv",value:function(){var e,t,o,n=this;if(this.setupLayoutIfNeeded(),e=h.default.request("get-current-csv-cfg"),t=h.default.request("get-current-csv-dsc"),o=h.default.request("get-superheroes-model"),void 0!==e)return e.fetch().then(function(){return t.fetch().then(function(){return o.fetch().then(function(){return n._needComicsView(n._show_preview_csv_view)})})});(0,p.default)("#ebcsv")}},{key:"main_view",value:function(){return this.setupLayoutIfNeeded(),this._needComicsView(this._showMainView)}},{key:"upload_xml",value:function(){var o=this;return this.setupLayoutIfNeeded(),Promise.all([i.e(0),i.e(39)]).then(function(){var e,t;return e=h.default.request("get-comics"),t=new(i(415))({collection:e}),o.layout.showChildView("content",t)}.bind(null,i)).catch(i.oe)}},{key:"view_cached_comics",value:function(){var t=this;return this.setupLayoutIfNeeded(),Promise.all([i.e(0),i.e(31)]).then(function(){var e;return e=new(i(416)),t.layout.showChildView("content",e)}.bind(null,i)).catch(i.oe)}},{key:"_setCfgEntries",value:function(){return j.request("get-entries","view").set([P])}},{key:"list_configs",value:function(){var n=this;return this.setupLayoutIfNeeded(),this._setCfgEntries(),i.e(35).then(function(){var o;return(o=h.default.request("get_local_configs")).fetch().done(function(e){var t;return console.log("ROWS",e,o),t=new(i(418))({collection:o}),n.layout.showChildView("content",t)})}.bind(null,i)).catch(i.oe)}},{key:"add_new_config",value:function(){var t=this;return this.setupLayoutIfNeeded(),this._setCfgEntries(),i.e(8).then(function(){var e;return e=new(i(214).NewFormView),t.layout.showChildView("content",e),(0,d.default)()}.bind(null,i)).catch(i.oe)}},{key:"view_config",value:function(t){var r=this;return this.setupLayoutIfNeeded(),this._setCfgEntries(),i.e(32).then(function(){var o,e,n;return o=i(419),e=h.default.request("get_local_configs"),(n=new e.model({id:t})).fetch().done(function(e){var t;return t=new o({model:n}),r.layout.showChildView("content",t),(0,d.default)()})}.bind(null,i)).catch(i.oe)}},{key:"edit_config",value:function(t){var r=this;return this.setupLayoutIfNeeded(),this._setCfgEntries(),i.e(8).then(function(){var o,e,n;return o=i(214),e=h.default.request("get_local_configs"),(n=new e.model({id:t})).fetch().done(function(e){var t;return t=new o.EditFormView({model:n}),r.layout.showChildView("content",t),(0,d.default)()})}.bind(null,i)).catch(i.oe)}},{key:"_setDscEntries",value:function(){return j.request("get-entries","view").set([k])}},{key:"list_descriptions",value:function(){var n=this;return this.setupLayoutIfNeeded(),this._setDscEntries(),i.e(36).then(function(){var o,e;return(e=(o=h.default.request("get_local_descriptions")).fetch()).done(function(e){var t;return t=new(i(420))({collection:o}),n.layout.showChildView("content",t)}),e.fail(function(){return O.request("danger","Failed to get descriptions")})}.bind(null,i)).catch(i.oe)}},{key:"add_new_description",value:function(){var t=this;return this.setupLayoutIfNeeded(),this._setDscEntries(),Promise.all([i.e(1),i.e(5),i.e(9)]).then(function(){var e;return e=new(i(215).NewFormView),t.layout.showChildView("content",e),(0,d.default)()}.bind(null,i)).catch(i.oe)}},{key:"view_description",value:function(t){var r=this;return this.setupLayoutIfNeeded(),this._setDscEntries(),i.e(34).then(function(){var o,e,n;return o=i(421),e=h.default.request("get_local_descriptions"),(n=new e.model({id:t})).fetch().done(function(e){var t;return t=new o({model:n}),r.layout.showChildView("content",t),(0,d.default)()})}.bind(null,i)).catch(i.oe)}},{key:"edit_description",value:function(e){var t,r=this;return this.setupLayoutIfNeeded(),this._setDscEntries(),t=h.default.request("get_local_descriptions"),Promise.all([i.e(1),i.e(5),i.e(9)]).then(function(){var o,n;return o=i(215),t=h.default.request("get_local_descriptions"),(n=new t.model({id:e})).fetch().done(function(e){var t;return t=new o.EditFormView({model:n}),r.layout.showChildView("content",t),(0,d.default)()})}.bind(null,i)).catch(i.oe)}}]),m=R,t.default=m},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(o(1));r(o(2));function r(e){return e&&e.__esModule?e:{default:e}}t.default=n.default.Radio.channel("ebcsv")},function(e,t,o){"use strict";o(277),o(302)},function(e,t,o){"use strict";var n,r,i,a,u,l,c,s,f,p,d;r=o(1),o(105),o(7),o(90),o(110),o(32),o(16),o(294),p=o(295),f=o(296),s=o(297),l=o(298),c=o(300),d=o(301),r.Radio.channel("messages"),n=r.Radio.channel("ebcsv"),u=n.request("grouped-csv-fields"),i=function(e){var t,o;return o={},t=e.cfg.get("content"),o.action=e.action,u.ReqFieldNames.forEach(function(e){return o[e]=t[e]}),u.OptFieldNames.forEach(function(e){return o[e]=t[e]}),u.EbayFields.forEach(function(e){return o[e]=""}),o},a=function(e){var t,o,n;return t=e.comic,e.cfg.get("content"),(n=i(e)).quantity!==t.quantity&&(n.quantity=t.quantity),p(n,e),f(n,e),s(n,e),l(n,e),c(n,e),(null!=(o=t.mainsection)?o.plot:void 0)&&(t.mainsection.plot=t.mainsection.plot.split("<br>").join("\n"),t.mainsection.plot=t.mainsection.plot.split("<BR>").join("\n")),d(n,e),n},n.reply("create-csv-row-object",function(e){return a(e)}),e.exports={}},,,,,,function(e,t){},,function(e,t){},,,,,,,,,function(e,t,o){"use strict";var n,r,i,l,c,s,f,a;r=o(1),o(105),o(7),o(90),o(110),o(32),f=o(16).default,r.Radio.channel("messages"),n=r.Radio.channel("ebcsv"),l=["Title","PicURL","Description","Product:EAN","Product:UPC","Product:ISBN","*Category"],s=["format","location","returnsacceptedoption","duration","quantity","startprice","dispatchtimemax","conditionid"],n.reply("csv-req-fieldnames",function(){return s}),c=["postalcode","paymentprofilename","returnprofilename","shippingprofilename","scheduletime"],n.reply("csv-opt-fieldnames",function(){return c}),a=function(){var e,t,o,n,r,i,a,u;for(t={action:"*Action"},o=0,i=s.length;o<i;o++)t[e=s[o]]="*"+f(e);for(n=0,a=c.length;n<a;n++)t[e=c[n]]=e;for(r=0,u=l.length;r<u;r++)t[e=l[r]]=e;return t},n.reply("create-csv-header",function(){return create-csv-header()}),i=a(),n.reply("get-csv-header",function(){return i}),n.reply("grouped-csv-fields",function(){return{ReqFieldNames:s,OptFieldNames:c,EbayFields:l}}),e.exports={}},function(e,t,o){"use strict";var n;n=function(e,t){var o,n;if(null!=(o=t.comic)?o.currentprice:void 0){for(n=o.currentprice;n.startsWith("$");)n=n.substring(1,n.length);return e.startprice=n}},e.exports=n},function(e,t,o){"use strict";var i,a,n;a=o(7),i=o(90),n=function(e,t){var o,n,r;return(r=a(e.scheduletime))?(n=(new Date).valueOf()+r,o=new Date(n),"yyyy-mm-dd HH:MM:ss",e.scheduletime=i(o,"yyyy-mm-dd HH:MM:ss")):e.scheduletime=""},e.exports=n},function(e,t,o){"use strict";var n;n=function(e,t){var o,n;if(null!=(o=t.comic)?o.isbn:void 0)return 14===(n=o.isbn).length&&(n=n.substring(0,n.length-2)),13===n.length&&(n=n.substring(1,n.length)),e["Product:UPC"]=n},e.exports=n},function(e,t,o){"use strict";var v,n,b,r;n=o(1),o(151),o(299),b=n.Radio.channel("messages"),v=n.Radio.channel("ebcsv"),r=function(e,t){var o,n,r,i,a,u,l,c,s,f,p,d,h,y;for(n=t.comic,u=v.request("get-superheroes-model").get("rows"),(y=null!=(d=n.publicationdate)?d.year:void 0)||(y=n.releasedate.year,console.warn("Using releasedate")),y||(console.warn("Bad date for comic",n),b.request("danger","Bad Date for comic "+n.id)),y=parseInt(y.displayname),h=n.mainsection.series.displayname.toLowerCase(),o=v.request("find-age",y),p=void 0,a={},s=0,f=(c=v.request("get-heroes-by-age",y,u)).length;s<f;s++)(l=c[s]).superhero.startsWith("Other ")&&(p=l),a[l.superhero.toLowerCase()]=l;for(i in null==p&&b.request("danger","No category found for "+o),r=p,a)if(0<=h.indexOf(i)){r=a[i];break}return e["*Category"]=r.id},e.exports=r},function(e,t,o){"use strict";var n,r,i,a,u;(r=o(1)).Radio.channel("messages"),n=r.Radio.channel("ebcsv"),i={platinum:{start:1897,end:1937},golden:{start:1938,end:1955},silver:{start:1956,end:1969},bronze:{start:1970,end:1983},copper:{start:1984,end:1991},modern:{start:1992,end:2100}},a=function(e){var t,o;for(o in i)if(e>=(t=i[o]).start&&e<=t.end)return o;return!1},n.reply("get-comic-ages",function(){return i}),n.reply("find-age",function(e){return a(e)}),u=function(e,t){var o,n;return o=a(e),n=[],t.forEach(function(e){if(e.age===o)return n.push(e)}),n},n.reply("get-heroes-by-age",function(e,t){return u(e,t)}),e.exports={}},function(e,t,o){"use strict";var i,n,r;n=o(1),o(151),n.Radio.channel("messages"),i=n.Radio.channel("ebcsv"),r=function(e,t){var o,n,r;return o=t.comic,r=i.request("get-comic-image-urls"),n=o.links.link.url,t.image_src=r[n].replace("http://","//"),e.PicURL=r[o.links.link.url]},e.exports=r},function(e,t,o){"use strict";var n,u,l,c,r,s=[].indexOf;n=o(1),l=o(110),c=o(32),u=n.Radio.channel("messages"),n.Radio.channel("ebcsv"),r=function(e,t){var o,n,r,i,a;return t.comic,n=t.desc,80<(a=l.compile(n.get("title"))(t)).length&&(r="Title too long.\n",i=a.substring(0,79),r=r+(a+" ----\x3e ")+i,u.request("danger",r),a=i),e.Title=a,o=l.compile(n.get("content"))(t),32700<(o=(o=(o=c(o)).split("\r").join("")).split("\n").join("")).length&&(r=o.length+" characters in description",u.request("warning",r)),0<=s.call(o,"\n")&&u.request("danger","newline in description"),e.Description=o},e.exports=r},function(e,t,o){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d,a,u,l,h,c,s,f,p;function y(){return n(this,y),r(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}a=o(1),p=o(105),o(7),o(90),o(110),o(32),o(16),h=a.Radio.channel("messages"),d=a.Radio.channel("ebcsv"),f=new p.Parser({explicitArray:!1,async:!1}),d.reply("get-xmlparser",function(){return f}),i(y,a.Model),c=y,s=function(){var e=(i(t,a.Collection),t);function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.model=c,e}.call(void 0),u=new s,d.reply("set-comics",function(e){return u.set(e)}),d.reply("get-comics",function(){return u}),l=new s,d.reply("set-all-comics",function(e){return l.set(e)}),d.reply("get-all-comics",function(){return l}),d.reply("parse-all-comics-xml",function(e,n){return f.parseString(e,function(e,t){var o;return(null!=(o=t.comicinfo.comiclist.comic)?o.length:void 0)||(console.warn("Single comic!"),o=[o]),d.request("set-all-comics",forsale),n()})}),d.reply("parse-comics-for-sale",function(e,p){return f.parseString(e,function(e,t){var o,n,r,i,a,u,l,c,s,f;for((null!=(r=t.comicinfo.comiclist.comic)?r.length:void 0)||(r=[r]),i=[],u=[],o=[],a=0,l=r.length;a<l;a++)"For Sale"===(f=(n=r[a]).collectionstatus._)?n.links?i.push(n):o.push(n):"In Collection"===f?u.push(n):(s="Cannot determine comic status of ("+((c=n.mainsection).series.displayname+" #"+c.issue)+")!",h.request("danger",s));return u.length&&(s=u.length+" ignored!!",h.request("warning",s)),i.length||h.request("danger","No comics for sale!"),o.length&&(s="There was some bad xml, skipped "+o.length+" comics.",h.request("danger",s)),d.request("set-comics",i),p()})}),d.reply("parse-comics-xml",function(e,n){return f.parseString(e,function(e,t){var o;return(null!=(o=t.comicinfo.comiclist.comic)?o.length:void 0)||(o=[o]),d.request("set-comics",o),n()})}),e.exports={}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r,i,a,u,l=p(o(1)),c=(p(o(2)),p(o(89))),s=p(o(16)),f=p(o(304));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=l.default.Radio.channel("global"),l.default.Radio.channel("eliza"),n=i.request("main:app:IndexRouter"),u=[{label:"Main",url:"#eliza",icon:".fa.fa-terminal.text-light.bg-dark"}],a=function(){var e=(y(t,n),t);function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.appRoutes={eliza:"viewIndex"},e}.call(void 0),r=function(){var e=(y(t,c.default),t);function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.Controller=f.default,e.prototype.Router=a,e.prototype.appletEntries=[{label:(0,s.default)("eliza")+" Menu",menu:u}],e}.call(void 0),t.default=r},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),e};function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i,a=s(o(1)),u=(s(o(2)),s(o(3)),s(o(7)),s(o(88))),l=o(34),c=o(35);s(o(5)),s(o(36));function s(e){return e&&e.__esModule?e:{default:e}}a.default.Radio.channel("global"),a.default.Radio.channel("messages"),a.default.Radio.channel("eliza"),i=function(){var e=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.MainController),n(t,[{key:"setupLayoutIfNeededOrig",value:function(){var e;return function e(t,o,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setupLayoutIfNeededOrig",this).call(this),e=new u.default({collection:new a.default.Collection(toolbarEntries)}),this.layout.showChildView("toolbar",e)}},{key:"viewIndex",value:function(){var t=this;return this.setupLayoutIfNeeded(),Promise.all([o.e(111),o.e(40)]).then(function(){var e;return e=new(o(422).default),t.layout.showChildView("content",e)}.bind(null,o)).catch(o.oe)}}]),t);function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.layoutClass=c.ToolbarAppletLayout,e}.call(void 0),t.default=i},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(o(1)),r=(d(o(2)),d(o(89))),i=d(o(16));o(306);var a,u,l,c,s,f,p=d(o(309));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}s="freelaw",l=n.default.Radio.channel("global"),n.default.Radio.channel(s),a=l.request("main:app:IndexRouter"),f=[{label:"List",url:"#freelaw",icon:".fa.fa-list"},{label:"Calendar",url:"#freelaw/calendar",icon:".fa.fa-calendar"}],c=function(){var e=(v(t,a),t);function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.appRoutes={freelaw:"listClusters"},e}.call(void 0),u=function(){var e=(v(t,r.default),t);function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.Controller=p.default,e.prototype.Router=c,e.prototype.appletEntries=[{label:(0,i.default)(s)+" Menu",menu:f}],e}.call(void 0),t.default=u},function(e,t,o){"use strict";var n=function(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),e};function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,o){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:a(r,t,o)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(o):void 0}var i,u,l,c,s,f,p,d,h,y,v,b,_,w,m,g,O,j,P,k;function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function x(){return C(this,x),R(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}function M(){return C(this,M),R(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}b=o(0),u=o(1),o(111),d=o(104).default,l=o(43).default,m=o(307),console.log("clToken "+m),u.Radio.channel("global"),i=u.Radio.channel("freelaw"),o(308),j=function(){return"Token "+m},k=function(e){e.setRequestHeader("Authorization",j())},w=function(e){return(e=e||{}).beforeSend=k,e},E(x,u.Model),n(x,[{key:"sync",value:function(e,t,o){return o=w(o),a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"sync",this).call(this,e,t,o)}}]),s=x,E(M,function(){var e=(E(t,l),n(t,[{key:"parse",value:function(e){var t;return t=e.count,this.state.totalRecords=t,this.state.totalPages=Math.ceil(t/20),this.state.lastPage=this.state.totalPages,e.results}}]),t);function t(){return C(this,t),R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.state={firstPage:1,currentPage:1,sortColumn:"id",pageSize:20},e.prototype.queryParams={page:function(){return this.state.currentPage},format:"json",pageSize:null},e}.call(void 0)),n(M,[{key:"sync",value:function(e,t,o){return console.log("CLCollection options",o),o=w(o),console.log("CLCollection options again",o),o.url||(o.url=this.urlRoot+"/"),a(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"sync",this).call(this,e,t,o)}}]),c=M,O={channelName:"freelaw"},P=(_="http://127.0.0.1:9000/api/rest/v3")+"/opinions",y=function(){var e=(E(t,s),t);function t(){return C(this,t),R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.urlRoot=P,e}.call(void 0),h=function(){var e=(E(t,c),t);function t(){return C(this,t),R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.urlRoot=P,e.prototype.model=y,e}.call(void 0),v=function(){var e=(E(t,s),t);function t(){return C(this,t),R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.url=P,e}.call(void 0),new d(b.extend(O,{modelName:"opinion",modelClass:y,collectionClass:h})),i.reply("db:opinion:list",function(){return new v}),g=_+"/clusters",p=function(){var e=(E(t,s),t);function t(){return C(this,t),R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.urlRoot=g,e}.call(void 0),f=function(){var e=(E(t,c),t);function t(){return C(this,t),R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.urlRoot=g,e.prototype.model=p,e}.call(void 0),function(){var e=(E(t,s),t);function t(){return C(this,t),R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.url=g,e}.call(void 0),new d(b.extend(O,{modelName:"cluster",modelClass:p,collectionClass:f}))},function(e,t,o){"use strict";o.r(t),t.default="a4a26bd256e10cc6247dc5029c32190963bca941"},function(e,t,o){"use strict";o.r(t),t.default="# The Waiter at the End of the Universe \n#### (or just a unique name for an app)\n\nA couple of apps:\n\n1. [Hourly](#hourly)\n\n\tA simple timeclock.\n  \n1. [ELIZA](#eliza)\n\n\tAn implementation of a very old program that simulates\n\ta conversation.\n  \n1. [The Movie DB (tv shows)](#moviedb)\n\n\tSearch for television shows, as well as movies. Shows a\n\tlist of episodes if available.\n  \n1. [TV Maze API demo](#tvmaze)\n\n\tSearch for television shows and store the results in \n\ta local browser database.\n\t\n\n\t\n\nThis site is running:\n\n- [bootstrap](https://getbootstrap.com/) -\n  Twitter Bootstrap is a very popular and useful css framework.\n\n- [backbone.marionette](https://marionettejs.com/)\n  Backbone provides models, collections and basic views.  Marionette \n  helps make view layout and management much easier.\n  \n- [tbirds](https://github.com/umeboshi2/tbirds/)\n  Tbirds is the simple framework I created specifically for creating\n  single page applications using bootstrap and backbone.marionette.\n\n- lovefield\n\n\nThis site was built with:\n\n- webpack\n\n- coffeescript\n\n\n[I Love Lucy](#moviedb/tv/shows/view/2730)\n\n\n\n\nThis is a page that discusses some of the \n[projects](#pages/projects) I placed on github.\n\n[Web Development](#pages/web-development-intro)\n\n"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e};function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i,a,u=s(r(1)),l=(s(r(2)),s(r(3)),s(r(7)),s(r(88)),r(34)),c=r(35);s(r(5)),s(r(36));function s(e){return e&&e.__esModule?e:{default:e}}u.default.Radio.channel("global"),u.default.Radio.channel("messages"),u.default.Radio.channel("resources"),i=u.default.Radio.channel("freelaw"),a=function(){var e=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.MainController),o(t,[{key:"viewIndex",value:function(){var t=this;return this.setupLayoutIfNeeded(),r.e(41).then(function(){var e;return e=new(r(461)),t.layout.showChildView("content",e)}.bind(null,r)).catch(r.oe)}},{key:"viewOpinion",value:function(e){var n=this;return this.setupLayoutIfNeeded(),r.e(43).then(function(){var t,o;return t=r(462),(o=i.request("db:opinion:get",e)).fetch().done(function(){var e;return e=new t({model:o}),n.layout.showChildView("content",e),console.log("OPINION",o)})}.bind(null,r)).catch(r.oe)}},{key:"listOpinions",value:function(){var n=this;return this.setupLayoutIfNeeded(),r.e(42).then(function(){var t,o;return t=r(463),(o=i.request("db:opinion:collection")).fetch().done(function(){var e;return e=new t({collection:o}),n.layout.showChildView("content",e)})}.bind(null,r)).catch(r.oe)}},{key:"listClusters",value:function(){var n=this;return this.setupLayoutIfNeeded(),r.e(42).then(function(){var t,o;return t=r(464),(o=i.request("db:cluster:collection")).fetch().done(function(){var e;return e=new t({collection:o}),n.layout.showChildView("content",e)})}.bind(null,r)).catch(r.oe)}}]),t);function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.layoutClass=c.ToolbarAppletLayout,e}.call(void 0),t.default=a},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),e};function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}p(o(2));var i,a,u,l,c,s=p(o(89)),f=p(o(311));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}u=Backbone.Radio.channel("global"),Backbone.Radio.channel("frontdoor"),i=u.request("main:app:IndexRouter"),c=[{id:"dbadmin",label:"Db Admin",url:"#frontdoor/dbadmin",icon:".fa.fa-database"}],l=function(){var e=(y(t,i),t);function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.appRoutes={"":"frontdoor",frontdoor:"frontdoor","frontdoor/view":"frontdoor","frontdoor/view/*name":"viewPage","frontdoor/login":"showLogin","frontdoor/logout":"showLogout",login:"showLogin",logout:"showLogout","pages/:name":"viewPage","frontdoor/upload":"uploadView","frontdoor/themes":"themeSwitcher","frontdoor/stats":"statsView","frontdoor/emojilist":"viewEmojis","frontdoor/dbadmin":"viewDbAdmin"},e}.call(void 0),a=function(){var e=(y(t,s.default),n(t,[{key:"onStop",value:function(){return console.log("(Child) Stopping frontdoor",this.isRunning()),function e(t,o,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onStop",this).call(this)}}]),t);function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.Controller=f.default,e.prototype.Router=l,e.prototype.appletEntries=[{label:"Main Menu",menu:c}],e}.call(void 0),t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e};function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,o){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:a(r,t,o)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(o):void 0}f(r(155));var i=f(r(1)),u=(f(r(2)),f(r(39))),l=f(r(5)),c=r(35),s=f(r(312));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y,v,b,_,w,m,g,O,j,P,k=[].indexOf,C=r(34);m=C.MainController,r(31).login_form,r(149),w=i.default.Radio.channel("global"),g=i.default.Radio.channel("messages"),i.default.Radio.channel("static-documents"),i.default.Radio.channel("resources"),P=r(3);var R=r(138);function E(){return p(this,E),d(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}b=R.FrontDoorMainView,h(E,i.default.Model),o(E,[{key:"fetch",value:function(e){return(e=e||{}).dataType="text",a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"fetch",this).call(this,e)}},{key:"parse",value:function(e){return{content:e}}}]),y=E,function(){var e=(h(t,i.default.Collection),t);function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.urlRoot="/assets/documents",e}.call(void 0),O=function(){var e=(h(t,y),t);function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.url="/assets/documents/intro.md",e}.call(void 0),j=P.renderable(function(){return P.div(".row",function(){return P.div("#main-content")})}),_=function(){var e=(h(t,c.BaseAppletLayout),o(t,[{key:"regions",value:function(){return{content:new u.default({el:"#main-content",speed:"slow"})}}}]),t);function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.template=j,e}.call(void 0),v=function(){var e=(h(t,m),o(t,[{key:"setupLayoutIfNeeded",value:function(){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setupLayoutIfNeeded",this).call(this),this.layout.controller=this}},{key:"_viewResource",value:function(e){var t;return this.setupLayoutIfNeeded(),t=new b({model:e}),this.layout.showChildView("content",t)}},{key:"_viewLogin",value:function(){var e;return e=new s.default,this.layout.showChildView("content",e)}},{key:"_viewUpload",value:function(){var t=this;return Promise.all([r.e(18),r.e(45)]).then(function(){var e;return e=new(r(465)),t.layout.showChildView("content",e)}.bind(null,r)).catch(r.oe)}},{key:"uploadView",value:function(){return this.setupLayoutIfNeeded(),this._viewUpload()}},{key:"frontdoor_needuser",value:function(){var e;return e=w.request("main:app:decode-auth-token"),0<=k.call(Object.keys(e),"name")?this.frontdoor_hasuser(e):this.show_login()}},{key:"showLogin",value:function(){return this.setupLayoutIfNeeded(),this._viewLogin()}},{key:"showLogout",value:function(){return w.request("main:app:destroy-auth-token"),(0,l.default)("/")}},{key:"frontdoor_hasuser",value:function(e){return this.defaultView()}},{key:"view_readme",value:function(){var e,t,o=this;return this.setupLayoutIfNeeded(),(t=(e=new O).fetch()).done(function(){return o._viewResource(e)}),t.fail(function(){return g.request("warning","failed to get readme")})}},{key:"viewPage",value:function(e){var t,o,n=this;return console.log("NAME IS",e),this.setupLayoutIfNeeded(),t=w.request("main:app:get-document",e),console.log("MODEL IS",t),(o=t.fetch()).done(function(){return n._viewResource(t)}),o.fail(function(){return g.request("warning","failed to get "+e)})}},{key:"defaultView",value:function(){return this.setupLayoutIfNeeded(),this.view_readme()}},{key:"frontdoor",value:function(){var e;return(null!=(e=w.request("main:app:config"))?e.needLogin:void 0)?this.frontdoor_needuser():this.defaultView()}},{key:"themeSwitcher",value:function(){var e;return this.setupLayoutIfNeeded(),e=new(r(138).ThemeSwitchView),this.layout.showChildView("content",e),console.log("themeSwitcher")}},{key:"statsView",value:function(){var t,o,n=this;this.setupLayoutIfNeeded();var e=r(138);return t=e.StatsView,(o=new i.default.Model).url="/stats.json",o.fetch().done(function(){var e;return e=new t({model:o}),n.layout.showChildView("content",e)})}},{key:"viewEmojis",value:function(){var t=this;return this.setupLayoutIfNeeded(),r.e(44).then(function(){var e;return e=new(r(466)),t.layout.showChildView("content",e)}.bind(null,r)).catch(r.oe)}},{key:"viewDbAdmin",value:function(){var t=this;return this.setupLayoutIfNeeded(),r.e(46).then(function(){var e;return e=new(r(467)),t.layout.showChildView("content",e)}.bind(null,r)).catch(r.oe)}}]),t);function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.layoutClass=_,e}.call(void 0),t.default=v},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),e};function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i,a,u,l,c,s,f,p,d,h=g(o(4)),y=g(o(1)),v=g(o(2)),b=g(o(3)),_=g(o(37)),w=g(o(5)),m=g(o(33));function g(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k=o(31);function C(){return O(this,C),j(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}f=k.form_group_input_div,u=y.default.Radio.channel("global"),c=y.default.Radio.channel("messages"),p=b.default.renderable(function(e){return f({input_id:"input_username",label:"User Name",input_attributes:{name:"username",placeholder:"User Name"}}),f({input_id:"input_password",label:"Password",input_attributes:{name:"password",type:"password",placeholder:"Type your password here...."}}),b.default.input(".btn.btn-primary",{type:"submit",value:"login"}),b.default.div(".spinner.fa.fa-spinner.fa-spin")}),P(C,m.default),n(C,[{key:"ui",value:function(){return(0,_.default)(this.fieldList)}},{key:"createModel",value:function(){return new y.default.Model}},{key:"onSuccess",value:function(){return(0,w.default)("/")}}]),i=C,a=function(){var e=(P(t,i),n(t,[{key:"updateModel",value:function(){return console.log("updateModel called"),this.model.set("username",this.ui.username.val()),this.model.set("password",this.ui.password.val())}},{key:"saveModel",value:function(){var e,t,o,n=this;return t=this.model.get("username"),e=this.model.get("password"),o=h.default.ajax({url:"/login",type:"POST",data:{username:t,password:e},dataType:"json",success:function(e){var t;return t=e.token,u.request("main:app:set-auth-token",t),n.trigger("save:form:success",n.model)},error:function(e){var t;return t=e.responseJSON,c.request("danger",t.message),n.trigger("save:form:failure",n.model)}}),console.log("returning xhr",o)}}]),t);function t(){return O(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.template=p,e.prototype.fieldList=["username","password"],e}.call(void 0),d=b.default.renderable(function(e){return f({input_id:"input_token",label:"Auth Token",input_attributes:{name:"token",placeholder:"xxxxxxxxxxxxxxx"}}),b.default.input(".btn.btn-default",{type:"submit",value:"login"}),b.default.div(".spinner.fa.fa-spinner.fa-spin")}),s=function(){var e=(P(t,i),n(t,[{key:"updateModel",value:function(){return console.log("updateModel called"),this.model.set("token",this.ui.token.val())}},{key:"saveModel",value:function(){var e,t,o,n=this;return o=this.model.get("token"),u.request("main:app:set-auth-token",o),e=new(u.request("main:app:AuthRefresh")),(t=e.fetch()).fail(function(){var e;return e=t.responseJSON,c.request("danger",e.message),n.trigger("save:form:failure",n.model)}),t.done(function(){return n.trigger("save:form:success",n.model)})}}]),t);function t(){return O(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.template=d,e.prototype.fieldList=["token"],e}.call(void 0),l=function(){var e=(P(t,v.default.View),n(t,[{key:"onRender",value:function(){return this.showChildView("login",new a),this.showChildView("token",new s)}}]),t);function t(){return O(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.template=b.default.renderable(function(e){return b.default.div("#login-form"),b.default.div("#token-form")}),e.prototype.regions={login:"#login-form",token:"#token-form"},e}.call(void 0),t.default=l},,,,,,function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r,i,a,u,l=p(o(1)),c=(p(o(2)),p(o(89))),s=p(o(16)),f=p(o(319));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=l.default.Radio.channel("global"),l.default.Radio.channel("hourly"),n=i.request("main:app:IndexRouter"),u=[{label:"Main",url:"#hourly",icon:".fa.fa-star"},{label:"List Workers",url:"#hourly/list-workers",icon:".fa.fa-list"},{label:"Add Workers",url:"#hourly/potential-workers",icon:".fa.fa-plus"},{label:"Calendar",url:"#hourly/calendar",icon:".fa.fa-calendar"}],a=function(){var e=(y(t,n),t);function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.appRoutes={hourly:"viewIndex","hourly/calendar":"viewCalendar","hourly/potential-workers":"viewPotentialWorkers","hourly/list-workers":"viewWorkers"},e}.call(void 0),r=function(){var e=(y(t,c.default),t);function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.Controller=f.default,e.prototype.Router=a,e.prototype.appletEntries=[{label:(0,s.default)("hourly")+" Menu",menu:u}],e}.call(void 0),t.default=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e};function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i,a,u,l=f(r(1)),c=(f(r(2)),f(r(3)),f(r(7)),f(r(88)),r(34)),s=r(35);f(r(5)),f(r(36));function f(e){return e&&e.__esModule?e:{default:e}}r(320),a=l.default.Radio.channel("global"),u=l.default.Radio.channel("messages"),l.default.Radio.channel("hourly"),i=function(){var e=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.MainController),o(t,[{key:"viewIndex",value:function(){var n=this;return this.setupLayoutIfNeeded(),r.e(48).then(function(){var e,t,o;return e=a.request("main:app:decode-auth-token"),o=n.getChannel().request("db:worker:get",e.uid),t=new(r(468))({model:o}),n.layout.showChildView("content",t)}.bind(null,r)).catch(r.oe)}},{key:"viewCalendar",value:function(){var t=this;return this.setupLayoutIfNeeded(),Promise.all([r.e(112),r.e(47)]).then(function(){var e;return e=new(r(470).default),t.layout.showChildView("content",e)}.bind(null,r)).catch(r.oe)}},{key:"viewWorkers",value:function(){var n=this;return this.setupLayoutIfNeeded(),r.e(49).then(function(){var e,t,o;return e=n.getChannel().request("db:worker:collection"),o=new(r(480).default)({collection:e}),n.layout.showChildView("content",o),(t=e.fetch()).done(function(){return console.log("workers fetched")}),t.fail(function(){return u.request("danger",t.responseJSON.message)})}.bind(null,r)).catch(r.oe)}},{key:"viewPotentialWorkers",value:function(){var n=this;return this.setupLayoutIfNeeded(),r.e(50).then(function(){var e,t,o;return e=n.getChannel().request("get-potential-workers"),o=new(r(481).default)({collection:e}),(t=e.fetch()).done(function(){return console.log("pworkers fetched",e)}),t.fail(function(){return console.log("pworkers.fetch() failed",t),u.request("danger",t.responseJSON.message)}),n.layout.showChildView("content",o)}.bind(null,r)).catch(r.oe)}}]),t);function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.channelName="hourly",e.prototype.layoutClass=s.ToolbarAppletLayout,e}.call(void 0),t.default=i},function(e,t,o){"use strict";var n,r,i,a,u,l,c,s,f,p,d,h,y,v,b=m(o(0)),_=m(o(1)),w=(m(o(2)),m(o(104)));function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a=_.default.Radio.channel("global"),n=_.default.Radio.channel("hourly"),p="/api/dev/hourly",i=a.request("main:app:AuthModel"),r=a.request("main:app:AuthCollection"),h={channelName:"hourly"},v=p+"/crud/workers",s=function(){var e=(j(t,i),t);function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.urlRoot=v,e}.call(void 0),f=function(){var e=(j(t,r),t);function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.model=s,e.prototype.url=v,e}.call(void 0),new w.default(b.default.extend(h,{modelName:"worker",modelClass:s,collectionClass:f})),y=p+"/crud/worksessions",l=function(){var e=(j(t,i),t);function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.urlRoot=y,e}.call(void 0),c=function(){var e=(j(t,r),t);function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.model=l,e.prototype.url=y,e}.call(void 0),new w.default(b.default.extend(h,{modelName:"worksession",modelClass:l,collectionClass:c})),u=function(){var e=(j(t,r),t);function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.url=p+"/potential-workers",e}.call(void 0),n.reply("get-potential-workers",function(){return new u}),d=void 0,n.reply("maincalendar:set-date",function(){var e;e=$("#maincalendar"),d=e.fullCalendar("getDate")}),n.reply("maincalendar:get-date",function(){return d})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),e};function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=h(o(4)),a=(h(o(2)),h(o(18))),u=h(o(89));o(121);var l,c,s,f,p,d=h(o(324));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Backbone.Radio.channel("global"),l=Backbone.Radio.channel("hubby"),f=[{label:"Main",url:"#hubby"},{label:"list",url:"#hubby/listmeetings"},{label:"People",url:"#hubby/people"},{label:"Departments",url:"#hubby/departments"},{label:"search",url:"#hubby/search"}],s=function(){var e=(b(t,a.default),t);function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.appRoutes={hubby:"mainview","hubby/listmeetings":"list_meetings","hubby/viewmeeting/:id":"view_meeting","hubby/oldviewmeeting/:id":"viewMeetingOld","hubby/search":"view_items","hubby/pdfview":"viewPdfTest","hubby/people":"listPeople"},e}.call(void 0),c=function(){var e=(b(t,u.default),n(t,[{key:"onBeforeStart",value:function(e){var n;return function e(t,o,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onBeforeStart",this).call(this,e),n=this.router.controller,l.reply("main-controller",function(){return n}),l.reply("view-calendar",function(e,t){return n.show_calendar(e,t)}),l.reply("view-meeting-orig",function(e,t,o){return n.show_meeting(e,t,o)}),l.reply("view-meeting",function(e){return n.show_meeting(e.layout,e.region,e.id)}),l.reply("view-items",function(e,t,o){return n.list_items(e,t,o)})}}]),t);function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.Controller=d.default,e.prototype.Router=s,e.prototype.appletEntries=[{label:"Hubby Menu",menu:f}],e}.call(void 0),p=void 0,l.reply("maincalendar:set-date",function(){var e;return e=(0,i.default)("#maincalendar"),p=e.fullCalendar("getDate")}),l.reply("maincalendar:get-date",function(){return p}),t.default=c},,,function(e,t,u){"use strict";var r,n,o,i,a,l,c,s,f=function(e,t,o){return t&&p(e.prototype,t),o&&p(e,o),e};function p(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function v(){return d(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}n=u(1),a=u(2),s=u(3),u(7),i=u(34).MainController,u(35).ToolbarAppletLayout,c=u(5).default,n.Radio.channel("global"),l=n.Radio.channel("messages"),r=n.Radio.channel("hubby"),function(){var e=(y(t,a.View),f(t,[{key:"show_calendar",value:function(){return"#hubby"===window.location.hash?r.request("main-controller").mainview():c("#hubby")}},{key:"list_meetings",value:function(){return c("#hubby/listmeetings")}},{key:"search_hubby",value:function(){var e,t;return e=r.request("main-controller"),t={searchParams:{title:this.ui.search_entry.val()}},console.log("search for",t),e.view_items(t)}}]),t);function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.template=s.renderable(function(){return s.div(".btn-group.btn-group-justified",function(){return s.div("#show-calendar-button.btn.btn-default",function(){return s.i(".fa.fa-calendar"," Calendar")}),s.div("#list-meetings-button.btn.btn-default",function(){return s.i(".fa.fa-list"," List Meetings")})}),s.div(".input-group",function(){return s.input(".form-control",{type:"text",placeholder:"search",name:"search"}),s.span(".input-group-btn",function(){return s.button("#search-button.btn.btn-default",function(){return s.i(".fa.fa-search","Search")})})})}),e.prototype.ui={search_bth:"#search-button",show_cal_btn:"#show-calendar-button",list_btn:"#list-meetings-button",search_entry:".form-control"},e.prototype.events={"click @ui.show_cal_btn":"show_calendar","click @ui.list_btn":"list_meetings","click @ui.search_bth":"search_hubby"},e}.call(void 0),y(v,i),f(v,[{key:"show_calendar",value:function(n,r){return Promise.all([u.e(3),u.e(56)]).then(function(){var e,t,o;return e=u(482),t={},"minicalendar"===r&&(t.minicalendar=!0,t.layout=n),o=new e(t),n.showChildView(r,o)}.bind(null,u)).catch(u.oe)}},{key:"mainview",value:function(){return this.setupLayoutIfNeeded(),this.show_calendar(this.layout,"content"),this.scrollTop()}},{key:"list_meetings",value:function(){var n=this;return this.setupLayoutIfNeeded(),u.e(51).then(function(){var t,o,e;return u(121).MainMeetingModel,o=r.request("meetinglist"),t=u(484),(e=o.fetch()).done(function(){var e;return e=new t({collection:o}),n.layout.showChildView("content",e)}),e.fail(function(){return l.request("danger","Failed to load meeting list")})}.bind(null,u)).catch(u.oe)}},{key:"listPeople",value:function(){var n=this;return this.setupLayoutIfNeeded(),u.e(119).then(function(){var t,o,e;return t=u(485),(e=(o=r.request("personlist")).fetch()).done(function(){var e;return e=new t({collection:o}),n.layout.showChildView("content",e)}),e.fail(function(){return l.request("danger","Failed to load people.")})}.bind(null,u)).catch(u.oe)}},{key:"_loadRegionView",value:function(t,o,n,r){var e,i=this;return(e=r.fetch()).done(function(){var e;return e=new n({model:r}),t.showChildView(o,e),i.scrollTop()}),e.fail(function(){return l.request("danger","failed to load model")})}},{key:"show_meeting",value:function(n,r,i){var a=this;return Promise.all([u.e(2),u.e(19),u.e(52)]).then(function(){var e,t,o;return e=u(121).MainMeetingModel,t=u(486),o=new e({id:i}),a._loadRegionView(n,r,t,o)}.bind(null,u)).catch(u.oe)}},{key:"viewMeetingOld",value:function(n){var r=this;return this.setupLayoutIfNeeded(),Promise.all([u.e(2),u.e(53)]).then(function(){var e,t,o;return e=u(121).MainMeetingModel,t=u(505),o=new e({id:n}),r._loadRegionView(r.layout,"content",t,o)}.bind(null,u)).catch(u.oe)}},{key:"view_meeting",value:function(e){return this.setupLayoutIfNeeded(),this.show_meeting(this.layout,"content",e)}},{key:"view_items",value:function(e){return this.setupLayoutIfNeeded(),this.list_items(this.layout,"content",e)}},{key:"list_items",value:function(r,i,a){return u.e(55).then(function(){var e,t,o,n=this;return e=u(121).ItemCollection,t=u(506),(o=new e([])).searchParams=a.searchParams,console.log("ItemCollection",o),o.fetch().done(function(){var e;return e=new t({collection:o}),r.showChildView(i,e),n.scrollTop()})}.bind(null,u)).catch(u.oe)}},{key:"viewPdfTest",value:function(){var o=this;return this.setupLayoutIfNeeded(),Promise.all([u.e(19),u.e(54)]).then(function(){var e,t;return e=new n.Model({url:"/assets/Minutes.pdf"}),t=new(u(179))({model:e}),console.log("THIS IS",o),o.layout.showChildView("content",t),o.scrollTop()}.bind(null,u)).catch(u.oe)}}]),o=v,e.exports=o},,,,,,,,,function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r,i,a,u,l=p(o(1)),c=(p(o(2)),p(o(89))),s=p(o(16)),f=p(o(334));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}o(336),i=l.default.Radio.channel("global"),l.default.Radio.channel("msleg"),n=i.request("main:app:IndexRouter"),u=[{label:"List House Members",url:"#msleg",icon:".fa.fa-list"},{label:"Calendar",url:"#msleg/calendar",icon:".fa.fa-calendar"}],a=function(){var e=(y(t,n),t);function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.appRoutes={msleg:"viewIndex"},e}.call(void 0),r=function(){var e=(y(t,c.default),t);function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.Controller=f.default,e.prototype.Router=a,e.prototype.appletEntries=[{label:(0,s.default)("msleg")+" Menu",menu:u}],e}.call(void 0),t.default=r},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),e};function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i,a,u,l=f(o(1)),c=(f(o(2)),f(o(3)),f(o(7)),f(o(88)),o(34)),s=o(35);f(o(5)),f(o(36));function f(e){return e&&e.__esModule?e:{default:e}}l.default.Radio.channel("global"),l.default.Radio.channel("messages"),l.default.Radio.channel("resources"),i=l.default.Radio.channel("msleg"),u=o(335).production,i.reply("get-msleg-config",function(){return u}),a=function(){var e=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.MainController),n(t,[{key:"viewIndex",value:function(){var t=this;return this.setupLayoutIfNeeded(),o.e(61).then(function(){var e;return e=new(o(527)),t.layout.showChildView("content",e)}.bind(null,o)).catch(o.oe)}}]),t);function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.layoutClass=s.ToolbarAppletLayout,e}.call(void 0),t.default=a},function(e,t,o){"use strict";var n,r;n="http://billstatus.ls.state.ms.us",r="//cors-anywhere.herokuapp.com",e.exports={production:{allmsrs:r+"/"+n+"/2017/pdf/all_measures/allmsrs.xml",hr_membs:r+"/"+n+"/members/hr_membs.xml"},developmentNew:{allmsrs:r+"/"+n+"/2017/pdf/all_measures/allmsrs.xml",hr_membs:r+"/"+n+"/members/hr_membs.xml"},development:{allmsrs:"/assets/allmsrs.xml",hr_membs:"/assets/hr_membs.xml"}}},function(e,t,o){"use strict";var n=function(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),e};function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i,a,u,l,c,s,f,p,d,h,y=_(o(1)),v=o(115),b=_(o(38));function _(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}c=y.default.Radio.channel("global"),a=y.default.Radio.channel("msleg"),p=c.request("main:app:dbConn","msleg"),s=new v.LoveStore(p,"XMLObject"),h=["url","content"],u=function(){var e=(g(t,y.default.Model),n(t,[{key:"toJSON",value:function(){var t,o=this;return t={},h.forEach(function(e){return t[e]=o.get(e)}),t}}]),t);function t(){return w(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.loveStore=s,e.prototype.idAttribute="url",e}.call(void 0),l=function(){var e=(g(t,b.default),t);function t(){return w(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.loveStore=s,e.prototype.mode="client",e}.call(void 0),i=function(){var e=(g(t,y.default.Collection),t);function t(){return w(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.loveStore=s,e.prototype.model=u,e}.call(void 0),f=new i,d=new l,a.reply("get-all-local-xmlobjects",function(){return f}),a.reply("get-local-xmlobjects",function(){return d}),a.reply("get-local-xmlobject-model",function(){return u}),a.reply("get-local-xmlobject-collection",function(){return l}),a.reply("save-local-xmlObject",function(e){var t,o;return t=new u({url:e.url,content:e}),o=!0,t.isNew=function(){return!!o&&!(o=!1)},local_shows.add(t),t.save()})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(o(1)),r=(p(o(2)),p(o(89))),i=p(o(16));o(338);var a,u,l,c,s,f=p(o(339));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}console.log("dbchannel imported"),l=n.default.Radio.channel("global"),n.default.Radio.channel("muppy"),a=l.request("main:app:IndexRouter"),s=[{label:"Muppy Home",url:"#muppy",icon:".fa.fa-home"},{label:"List",url:"#muppy/summaries",icon:".fa.fa-list"},{label:"Calendar",url:"#muppy/calendar",icon:".fa.fa-calendar"}],c=function(){var e=(y(t,a),t);function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.appRoutes={muppy:"viewIndex","muppy/summaries":"listSummaries","muppy/summary/view/:id":"viewSummary"},e}.call(void 0),u=function(){var e=(y(t,r.default),t);function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.Controller=f.default,e.prototype.Router=c,e.prototype.appletEntries=[{label:(0,i.default)("muppy")+" Menu",menu:s}],e}.call(void 0),t.default=u},function(e,t,o){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,u,l,c,s,f,p,d,h,y,v,b,_;y=o(0),l=o(1),o(111),c=o(104).default,s=l.Radio.channel("global"),l.Radio.channel("muppy"),u=s.request("main:app:AuthModel"),a=s.request("main:app:AuthCollection"),v={channelName:"muppy"},_="/api/dev/memleak/summary",f=function(){var e=(i(t,u),t);function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.urlRoot=_,e}.call(void 0),p=function(){var e=(i(t,a),t);function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.url=_,e.prototype.model=f,e}.call(void 0),new c(y.extend(v,{modelName:"summary",modelClass:f,collectionClass:p})),b="/api/dev/memdiff",h=function(){var e=(i(t,u),t);function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.urlRoot=b,e}.call(void 0),d=function(){var e=(i(t,a),t);function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.model=h,e.prototype.url=b,e}.call(void 0),new c(y.extend(v,{modelName:"sumdiff",modelClass:h,collectionClass:d}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e};function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i,a,u=s(r(1)),l=(s(r(2)),s(r(3)),s(r(7)),s(r(88)),r(34)),c=r(35);s(r(5)),s(r(36));function s(e){return e&&e.__esModule?e:{default:e}}u.default.Radio.channel("global"),u.default.Radio.channel("messages"),i=u.default.Radio.channel("muppy"),a=function(){var e=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.MainController),o(t,[{key:"viewIndex",value:function(){var t=this;return this.setupLayoutIfNeeded(),r.e(62).then(function(){var e;return e=new(r(531).default),t.layout.showChildView("content",e)}.bind(null,r)).catch(r.oe)}},{key:"viewSummary",value:function(e){var n=this;return this.setupLayoutIfNeeded(),r.e(64).then(function(){var t,o;return t=r(533),(o=i.request("db:summary:get",e)).fetch().done(function(){var e;return e=new t({model:o}),n.layout.showChildView("content",e),console.log("SUMMARY",o)})}.bind(null,r)).catch(r.oe)}},{key:"listSummaries",value:function(){var n=this;return this.setupLayoutIfNeeded(),r.e(63).then(function(){var t,o;return t=r(534),(o=i.request("db:summary:collection")).fetch().done(function(){var e;return e=new t({collection:o}),n.layout.showChildView("content",e)})}.bind(null,r)).catch(r.oe)}}]),t);function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.layoutClass=c.ToolbarAppletLayout,e}.call(void 0),t.default=a},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(o(1)),r=(p(o(2)),p(o(89))),i=p(o(16));o(341);var a,u,l,c,s,f=p(o(342));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}l=n.default.Radio.channel("global"),n.default.Radio.channel("netark"),a=l.request("main:app:IndexRouter"),s=[{label:"List",url:"#netark",icon:".fa.fa-list"},{label:"SciFi Movies",url:"#netark/scifi/list",icon:".fa.fa-film"},{label:"Search",url:"#netark/search",icon:".fa.fa-search"}],c=function(){var e=(y(t,a),t);function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.appRoutes={netark:"viewIndex","netark/otrr/list":"listOtrr","netark/librivox/list":"listLibrivox","netark/scifi/list":"listSciFiMovies","netark/misc/list":"listMiscStuff","netark/view/:id":"viewMetadata","netark/search":"searchView"},e}.call(void 0),u=function(){var e=(y(t,r.default),t);function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.Controller=f.default,e.prototype.Router=c,e.prototype.appletEntries=[{label:(0,i.default)("netark")+" Menu",menu:s}],e}.call(void 0),t.default=u},function(e,t,o){"use strict";function a(e,t,o){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:a(r,t,o)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(o):void 0}var n,r,i,u,l,c,s,f,p,d=function(e,t,o){return t&&h(e.prototype,t),o&&h(e,o),e};function h(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}o(4),r=o(1),l=o(38),i=r.Radio.channel("global"),n=r.Radio.channel("netark"),i.request("main:app:AuthModel"),i.request("main:app:AuthCollection"),f=function(e,t){var o,n;return n=t.server,o=t.dir,"/api/dev/proxy/"+btoa("https://"+n+o+"/"+e)},p=function(e,t){return"//"+t.server+t.dir+"/"+e},u=function(){var e=(b(t,r.Model),d(t,[{key:"fileUrl",value:function(e){return f(e,this.toJSON())}}]),t);function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.urlRoot="https://archive.org/metadata",e}.call(void 0),n.reply("get-file-url",function(e,t){return f(e,t)}),n.reply("get-image-url",function(e,t){return p(e,t)}),n.reply("get-metadata-model",function(){return u}),c=function(){var e=(b(t,l),d(t,[{key:"parse",value:function(e){return console.log("PARSE",e),null===this.state.totalRecords&&(this.state.totalRecords=e.total,this._checkState(this.state)),console.log("totalRecords",this.state.totalRecords),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"parse",this).call(this,e.items)}}]),t);function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.mode="server",e.prototype.url="/api/dev/proxy/https://archive.org/services/search/v1/scrape",e.prototype.state={pageSize:100},e.prototype.queryParams={pageSize:"count"},e}.call(void 0),n.reply("Scraper",function(){return c}),s=function(){var e=(b(t,l),d(t,[{key:"parse",value:function(e){return console.log("PARSE",e),null===this.state.totalRecords&&(this.state.totalRecords=e.response.numFound,this._checkState(this.state)),console.log("totalRecords",this.state.totalRecords),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"parse",this).call(this,e.response.docs)}}]),t);function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.mode="server",e.prototype.url="/api/dev/proxy/https://archive.org/advancedsearch.php",e.prototype.state={pageSize:20,firstPage:1},e.prototype.queryParams={pageSize:"rows",output:"json",q:function(){return this.query}},e}.call(void 0),n.reply("SearchResults",function(){return s}),e.exports={TodoCollection:u}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e};function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a,r,u=s(i(1)),l=(s(i(2)),s(i(3)),s(i(7)),s(i(88)),i(34)),c=i(35);s(i(5)),s(i(36));function s(e){return e&&e.__esModule?e:{default:e}}u.default.Radio.channel("global"),u.default.Radio.channel("messages"),u.default.Radio.channel("resources"),a=u.default.Radio.channel("netark"),r=function(){var e=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.MainController),o(t,[{key:"viewIndex",value:function(){var t=this;return this.setupLayoutIfNeeded(),i.e(66).then(function(){var e;return e=new(i(535)),t.layout.showChildView("content",e),t.scrollTop()}.bind(null,i)).catch(i.oe)}},{key:"listOtrr",value:function(){var t=this;return this.setupLayoutIfNeeded(),i.e(69).then(function(){var e;return e=new(i(538)),t.layout.showChildView("content",e),t.scrollTop()}.bind(null,i)).catch(i.oe)}},{key:"listLibrivox",value:function(){var t=this;return this.setupLayoutIfNeeded(),i.e(69).then(function(){var e;return e=new(i(542)),t.layout.showChildView("content",e),t.scrollTop()}.bind(null,i)).catch(i.oe)}},{key:"listSciFiMovies",value:function(){var t=this;return this.setupLayoutIfNeeded(),i.e(70).then(function(){var e;return e=new(i(543)),t.layout.showChildView("content",e),t.scrollTop()}.bind(null,i)).catch(i.oe)}},{key:"listMiscStuff",value:function(){var t=this;return this.setupLayoutIfNeeded(),i.e(68).then(function(){var e;return e=new(i(549)),t.layout.showChildView("content",e),t.scrollTop()}.bind(null,i)).catch(i.oe)}},{key:"searchView",value:function(){var t=this;return this.setupLayoutIfNeeded(),i.e(65).then(function(){var e;return e=new(i(551)),t.layout.showChildView("content",e),t.scrollTop()}.bind(null,i)).catch(i.oe)}},{key:"viewMetadata",value:function(e){var n,r=this;return this.setupLayoutIfNeeded(),n=a.request("get-metadata-model"),i.e(67).then(function(){var t,o;return t=i(552),o=new n({id:e}),console.log("model---",o),o.fetch().done(function(){var e;return console.log("MODEL----------\x3e",o),e=new t({model:o}),r.layout.showChildView("content",e),r.scrollTop()})}.bind(null,i)).catch(i.oe)}}]),t);function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.layoutClass=c.ToolbarAppletLayout,e}.call(void 0),t.default=r},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(o(1)),r=(f(o(2)),f(o(89)));o(156),o(345);var i,a,u,l,c=f(o(356)),s=f(o(357));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}u=n.default.Radio.channel("global"),n.default.Radio.channel("resources"),i=u.request("main:app:IndexRouter"),l=function(){var e=(h(t,i),t);function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.appRoutes={sofi:"main_view","sofi/comics":"dbcomics_main","sofi/comics/local":"view_local_comics","sofi/comics/photos/:comic_id":"manageComicPhotos","sofi/comics/workspace":"showWorkspaceMainView","sofi/comics/workspace/view/:name":"showWorkspaceView","sofi/comics/workspace/create/:name":"createWorkspaceView","sofi/comics/workspace/add/:name":"createWorkspaceView","sofi/xml/upload":"upload_xml","sofi/csv/create":"create_csv","sofi/csv/preview":"preview_csv","sofi/clzpage":"view_cached_comics","sofi/comics/set-photo-names":"setPhotoNames"},e}.call(void 0),a=function(){var e=(h(t,r.default),t);function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.appletName="sofi",e.prototype.channelName="sofi",e.prototype.Controller=s.default,e.prototype.Router=l,e.prototype.extraRouters={cfg:o(359),dsc:o(361)},e.prototype.appletEntries=c.default,e}.call(void 0),t.default=a},,function(e,t,o){"use strict";var n;n=o(1),o(346),o(355),n.Radio.channel("sofi").reply("fix-image-url",function(e){return e.indexOf("/lg/")&&(e=e.replace("/lg/","/sm/")),e.startsWith("http://")&&(e=e.replace("http://","//")),e})},function(e,t,o){"use strict";var n,r,a,i,u,l,c,s,f,p,d;r=o(1),o(105),o(7),o(90),o(110),o(32),o(16),o(347),p=o(348),f=o(349),s=o(350),l=o(351),c=o(353),d=o(354),r.Radio.channel("messages"),n=r.Radio.channel("sofi"),u=n.request("grouped-csv-fields"),a=function(e){var t,o;return o={},t=e.cfg.get("content"),o.action=e.action,u.ReqFieldNames.forEach(function(e){return o[e]=t[e]}),u.OptFieldNames.forEach(function(e){return o[e]=t[e]}),u.EbayFields.forEach(function(e){return o[e]=""}),o},i=function(e){var t,o,n,r,i;return"string"==typeof(t=(o=e.comic).content)&&(t=JSON.parse(t)),e.clzcomic=t,n={},o.photos.forEach(function(e){return n[e.name]=e.filename}),console.log("PHOTOS",n,o),e.photos=n,e.cfg.get("content"),(i=a(e)).quantity!==t.quantity&&(i.quantity=t.quantity),p(i,e),f(i,e),s(i,e),l(i,e),c(i,e),(null!=(r=o.mainsection)?r.plot:void 0)&&(o.mainsection.plot=o.mainsection.plot.split("<br>").join("\n"),o.mainsection.plot=o.mainsection.plot.split("<BR>").join("\n")),d(i,e),i},n.reply("create-csv-row-object",function(e){return i(e)}),e.exports={}},function(e,t,o){"use strict";var n,r,l,c,s,i,a=u(o(1)),f=(u(o(105)),u(o(7)),u(o(90)),u(o(110)),u(o(32)),u(o(16)));function u(e){return e&&e.__esModule?e:{default:e}}a.default.Radio.channel("messages"),n=a.default.Radio.channel("sofi"),l=["Title","PicURL","Description","Product:EAN","Product:UPC","Product:ISBN","*Category"],s=["format","location","returnsacceptedoption","duration","quantity","startprice","dispatchtimemax","conditionid"],n.reply("csv-req-fieldnames",function(){return s}),c=["postalcode","paymentprofilename","returnprofilename","shippingprofilename","scheduletime"],n.reply("csv-opt-fieldnames",function(){return c}),i=function(){var e,t,o,n,r,i,a,u;for(t={action:"*Action"},o=0,i=s.length;o<i;o++)t[e=s[o]]="*"+(0,f.default)(e);for(n=0,a=c.length;n<a;n++)t[e=c[n]]=e;for(r=0,u=l.length;r<u;r++)t[e=l[r]]=e;return t},n.reply("create-csv-header",function(){return create-csv-header()}),r=i(),n.reply("get-csv-header",function(){return r}),n.reply("grouped-csv-fields",function(){return{ReqFieldNames:s,OptFieldNames:c,EbayFields:l}})},function(e,t,o){"use strict";var n;n=function(e,t){var o,n;if(null!=(o=t.clzcomic)?o.currentprice:void 0){for(n=o.currentprice;n.startsWith("$");)n=n.substring(1,n.length);return e.startprice=n}},e.exports=n},function(e,t,o){"use strict";var i,a,n;a=o(7),i=o(90),n=function(e,t){var o,n,r;return(r=a(e.scheduletime))?(n=(new Date).valueOf()+r,o=new Date(n),"yyyy-mm-dd HH:MM:ss",e.scheduletime=i(o,"yyyy-mm-dd HH:MM:ss")):e.scheduletime=""},e.exports=n},function(e,t,o){"use strict";var n;n=function(e,t){var o,n;if(null!=(o=t.comic)?o.isbn:void 0)return 14===(n=o.isbn).length&&(n=n.substring(0,n.length-2)),13===n.length&&(n=n.substring(1,n.length)),e["Product:UPC"]=n},e.exports=n},function(e,t,o){"use strict";var v,n,b,r;n=o(1),o(156),o(352),b=n.Radio.channel("messages"),v=n.Radio.channel("sofi"),r=function(e,t){var o,n,r,i,a,u,l,c,s,f,p,d,h,y;for(n=t.clzcomic,u=v.request("get-superheroes-model").get("rows"),(y=null!=(d=n.publicationdate)?d.year:void 0)||(y=n.releasedate.year,console.warn("Using releasedate")),y||(console.warn("Bad date for comic",n),b.request("danger","Bad Date for comic "+n.id)),y=parseInt(y.displayname),h=n.mainsection.series.displayname.toLowerCase(),o=v.request("find-age",y),p=void 0,a={},s=0,f=(c=v.request("get-heroes-by-age",y,u)).length;s<f;s++)(l=c[s]).superhero.startsWith("Other ")&&(p=l),a[l.superhero.toLowerCase()]=l;for(i in null==p&&b.request("danger","No category found for "+o),r=p,a)if(0<=h.indexOf(i)){r=a[i];break}return e["*Category"]=r.id},e.exports=r},function(e,t,o){"use strict";var n,r,i,a,u;(r=o(1)).Radio.channel("messages"),n=r.Radio.channel("sofi"),i={platinum:{start:1897,end:1937},golden:{start:1938,end:1955},silver:{start:1956,end:1969},bronze:{start:1970,end:1983},copper:{start:1984,end:1991},modern:{start:1992,end:2100}},a=function(e){var t,o;for(o in i)if(e>=(t=i[o]).start&&e<=t.end)return o;return!1},n.reply("get-comic-ages",function(){return i}),n.reply("find-age",function(e){return a(e)}),u=function(e,t){var o,n;return o=a(e),n=[],t.forEach(function(e){if(e.age===o)return n.push(e)}),n},n.reply("get-heroes-by-age",function(e,t){return u(e,t)}),e.exports={}},function(e,t,o){"use strict";var n,r;n=o(1),o(156),n.Radio.channel("messages"),n.Radio.channel("sofi"),r=function(e,t){var o;return o=t.comic,e.PicURL=o.image_src},e.exports=r},function(e,t,o){"use strict";var n,l,c,s,r,f=[].indexOf;n=o(1),c=o(110),s=o(32),l=n.Radio.channel("messages"),n.Radio.channel("sofi"),r=function(e,t){var o,n,r,i,a,u;return o=t.comic,t.clzcomic,o.photos,r=t.desc,80<(u=c.compile(r.get("title"))(t)).length&&(i="Title too long.\n",a=u.substring(0,79),i=i+(u+" ----\x3e ")+a,l.request("danger",i),u=a),e.Title=u,n=c.compile(r.get("content"))(t),32700<(n=(n=(n=s(n)).split("\r").join("")).split("\n").join("")).length&&(i=n.length+" characters in description",l.request("warning",i)),0<=f.call(n,"\n")&&l.request("danger","newline in description"),e.Description=n},e.exports=r},function(e,t,o){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d,a,u,h,l,c,s,f;function p(){return n(this,p),r(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}a=o(1),f=o(105),o(7),o(90),o(110),o(32),o(16),h=a.Radio.channel("messages"),d=a.Radio.channel("sofi"),s=new f.Parser({explicitArray:!1,async:!1}),d.reply("get-xmlparser",function(){return s}),i(p,a.Model),l=p,c=function(){var e=(i(t,a.Collection),t);function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.model=l,e}.call(void 0),u=new c,d.reply("set-comics",function(e){return u.set(e)}),d.reply("get-comics",function(){return u}),d.reply("parse-all-comics-xml",function(e,n){return s.parseString(e,function(e,t){var o;return(null!=(o=t.comicinfo.comiclist.comic)?o.length:void 0)||(console.warn("Single comic!"),o=[o]),d.request("set-comics",o),n()})}),d.reply("parse-comics-xml",function(e,p){return s.parseString(e,function(e,t){var o,n,r,i,a,u,l,c,s,f;for((null!=(r=t.comicinfo.comiclist.comic)?r.length:void 0)||(r=[r]),i=[],u=[],o=[],a=0,l=r.length;a<l;a++)"For Sale"===(f=(n=r[a]).collectionstatus._)?n.links?i.push(n):o.push(n):"In Collection"===f?u.push(n):(s="Cannot determine comic status of ("+((c=n.mainsection).series.displayname+" #"+c.issue)+")!",h.request("danger",s));return u.length&&(s=u.length+" ignored!!",h.request("warning",s)),i.length||h.request("danger","No comics for sale!"),o.length&&(s="There was some bad xml, skipped "+o.length+" comics.",h.request("danger",s)),d.request("set-comics",i),p()})}),e.exports={}},function(e,t,o){"use strict";var n,r;o(4),n=o(1),o(2),o(3),o(7),o(34).MainController,o(88).default,o(42),o(39),o(5),o(36),n.Radio.channel("global"),n.Radio.channel("messages"),n.Radio.channel("resources"),n.Radio.channel("sofi"),r=[{label:"Sofi Menu",menu:[{id:"main",label:"Main View",url:"#sofi",icon:".fa.fa-eye"},{id:"dbcomics",label:"DbComics",url:"#sofi/comics",icon:".fa.fa-list"},{id:"workspace",label:"Workspace",url:"#sofi/comics/workspace",icon:".fa.fa-dashboard"},{id:"cfglist",label:"Configs",url:"#sofi/cfg/list",icon:".fa.fa-list"},{id:"dsclist",label:"Descriptions",url:"#sofi/dsc/list",icon:".fa.fa-list"},{id:"uploadxml",label:"Upload CLZ/XML",url:"#sofi/xml/upload",icon:".fa.fa-upload"},{id:"mkcsv",label:"Create CSV",url:"#sofi/csv/create",icon:".fa.fa-cubes"},{id:"cached",label:"Cached Images",url:"#sofi/clzpage",icon:".fa.fa-image"},{id:"setPhotoNames",label:"Set Photo Names",url:"#sofi/comics/set-photo-names",icon:".fa.fa-photo"}]}],e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),e};function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}p(n(4));var a=p(n(0)),i=p(n(1)),u=(p(n(2)),p(n(3))),l=(p(n(7)),n(34)),c=p(n(88)),s=(p(n(42)),p(n(39)),n(35)),f=p(n(358));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function v(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")}var b,_,w,m,g;i.default.Radio.channel("global"),w=i.default.Radio.channel("messages"),i.default.Radio.channel("resources"),b=i.default.Radio.channel("sofi"),g=["id","name"],m=b.request("dbComicColumns"),function(){var e=(y(t,c.default),t);function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.options={entryTemplate:u.default.renderable(function(e){var t;return t={style:"overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"},u.default.span(t,function(){return u.default.i(e.icon),u.default.text(" "),u.default.text(e.label)})})},e}.call(void 0),_=function(){var e=(y(i,l.MainController),o(i,[{key:"setupLayoutIfNeeded",value:function(){var e;return function e(t,o,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"setupLayoutIfNeeded",this).call(this),e=new f.default({collection:b.request("get-toolbar-entries")}),this.layout.showChildView("toolbar",e)}},{key:"_show_main_view",value:function(){var t=this;return v(this,i),Promise.all([n.e(0),n.e(6),n.e(78)]).then(function(){var e;return b.request("get-comics"),e=new(n(553)),t.layout.showChildView("content",e)}.bind(null,n)).catch(n.oe)}},{key:"_show_create_csv_view",value:function(){var o=this;return v(this,i),Promise.all([n.e(0),n.e(6),n.e(77)]).then(function(){var e,t;return e=b.request("get-comics"),t=new(n(558))({collection:e}),o.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"_show_preview_csv_view",value:function(){var o=this;return v(this,i),Promise.all([n.e(0),n.e(79)]).then(function(){var e,t;return e=b.request("get-comics"),t=new(n(559))({collection:e}),o.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"_need_comics_view",value:function(e){return b.request("get-comics").length?e():this.navigate_to_url("#sofi/xml/upload")}},{key:"create_csv",value:function(){var e,t,o,n,r=this;return v(this,i),this.setupLayoutIfNeeded(),e=b.request("db:ebcfg:collection"),o=b.request("db:ebdsc:collection"),n={data:{columns:g}},t=a.default.clone(n),e.fetch(n).then(function(){return o.fetch(t).then(function(){return r._show_create_csv_view()})})}},{key:"preview_csv",value:function(){var e,t,o,n=this;if(this.setupLayoutIfNeeded(),console.log("preview_csv"),e=b.request("locals:get","currentCsvCfg"),t=b.request("locals:get","currentCsvDsc"),o=b.request("get-superheroes-model"),void 0!==e)return console.log("fetching cfg",e),e.fetch().then(function(e){return console.log("dsc is",t),console.log("foo is",e),t.fetch().then(function(){return o.fetch().then(function(){return n._show_preview_csv_view()})})});this.navigate_to_url("#sofi")}},{key:"main_view",value:function(){return this.setupLayoutIfNeeded(),this._show_main_view()}},{key:"dbcomics_main",value:function(){var o=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(0),n.e(2),n.e(4),n.e(82)]).then(function(){var t,e;return(t=b.request("db:clzcomic:collection")).state.sortColumn=["seriesgroup","series","issue"],(e=t.fetch({data:{columns:m}})).done(function(){var e;return e=new(n(560))({collection:t}),o.layout.showChildView("content",e)}),e.fail(function(){return w.request("danger","Failed to get comics.")})}.bind(null,n)).catch(n.oe)}},{key:"_showLocalComics",value:function(){var o=this;return v(this,i),Promise.all([n.e(0),n.e(6)]).then(function(){var e,t;return e=b.request("get-comics"),t=new(n(190))({collection:e}),o.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"view_local_comics",value:function(){return this.setupLayoutIfNeeded(),this._need_comics_view(this._showLocalComics)}},{key:"upload_xml",value:function(){var o=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(0),n.e(80)]).then(function(){var e,t;return e=b.request("get-comics"),t=new(n(564))({collection:e}),o.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"view_cached_comics",value:function(){var t=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(0),n.e(72)]).then(function(){var e;return e=new(n(565)),t.layout.showChildView("content",e)}.bind(null,n)).catch(n.oe)}},{key:"manageComicPhotos",value:function(e){var o=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(18),n.e(71)]).then(function(){var t;return(t=b.request("db:clzcomic:collection")).fetch({data:{where:{comic_id:e}}}).done(function(){var e;return e=new(n(566))({model:t.pop()}),o.layout.showChildView("content",e)})}.bind(null,n)).catch(n.oe)}},{key:"showWorkspaceMainView",value:function(){var t=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(0),n.e(2),n.e(4),n.e(84)]).then(function(){var e;return e=new(n(568)),t.layout.showChildView("content",e)}.bind(null,n)).catch(n.oe)}},{key:"showWorkspaceView",value:function(t){var o=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(0),n.e(2),n.e(4),n.e(13),n.e(85)]).then(function(){var e;return e=new(n(569))({workspace:t}),o.layout.showChildView("content",e)}.bind(null,n)).catch(n.oe)}},{key:"createWorkspaceView",value:function(t){var o=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(0),n.e(2),n.e(4),n.e(13),n.e(81)]).then(function(){var e;return e=new(n(572))({workspace:t}),o.layout.showChildView("content",e)}.bind(null,n)).catch(n.oe)}},{key:"setPhotoNames",value:function(){var t=this;return this.setupLayoutIfNeeded(),n.e(83).then(function(){var e;return e=new(n(573)),t.layout.showChildView("content",e)}.bind(null,n)).catch(n.oe)}}]),i);function i(){d(this,i);var e=h(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments));return e._show_main_view=e._show_main_view.bind(e),e._show_create_csv_view=e._show_create_csv_view.bind(e),e._show_preview_csv_view=e._show_preview_csv_view.bind(e),e.create_csv=e.create_csv.bind(e),e._showLocalComics=e._showLocalComics.bind(e),e}return e.prototype.layoutClass=s.ToolbarAppletLayout,e}.call(void 0),t.default=_},function(e,t,o){"use strict";var n,r,i,a,u,l,c;o(4),r=o(1),o(2),u=o(3),o(7),o(34).MainController,a=o(88).default,o(42),o(39),o(5),o(36),r.Radio.channel("global"),r.Radio.channel("messages"),r.Radio.channel("resources"),n=r.Radio.channel("sofi"),l=[],c=new r.Collection(l),n.reply("get-toolbar-entries",function(){return c}),i=function(){var e=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),t);function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.options={entryTemplate:u.renderable(function(e){var t;return t={style:"overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"},u.span(t,function(){return u.i(e.icon),u.text(" "),u.text(e.label)})})},e}.call(void 0),e.exports=i},function(e,t,o){"use strict";var n,r,i,a,u=l(o(1));l(o(2));function l(e){return e&&e.__esModule?e:{default:e}}r=o(360),a=u.default.Radio.channel("global"),u.default.Radio.channel("messages"),n=a.request("main:app:IndexRouter"),i=function(){var e=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n),t);function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.appRoutes={"sofi/cfg":"list_configs","sofi/cfg/list":"list_configs","sofi/cfg/add":"add_new_config","sofi/cfg/view/:name":"view_config","sofi/cfg/edit/:name":"edit_config","sofi/ebcfgs/new":"add_new_config","sofi/ebcfgs/view/:id":"view_config","sofi/ebcfgs/edit/:id":"edit_config"},e}.call(void 0),e.exports={router:i,controller:r}},function(e,t,n){"use strict";var o,r,i,a,u=function(e,t,o){return t&&l(e.prototype,t),o&&l(e,o),e};function l(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}n(4),o=n(1),n(2),n(3),n(7),n(34).ExtraController,a=o.Radio.channel("global"),o.Radio.channel("messages"),o.Radio.channel("sofi"),i=a.request("main:app:CrudController"),r=function(){var e=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),u(t,[{key:"initialize",value:function(e){return this.applet=a.request("main:applet:get-applet","sofi"),this.mainController=this.applet.router.controller,this.channel=this.getChannel(),console.log("@channel",this.channel)}},{key:"list_configs",value:function(){var t=this;return n.e(75).then(function(){var e;return e=n(574),t.listItems(e)}.bind(null,n)).catch(n.oe)}},{key:"add_new_config",value:function(){var t=this;return n.e(11).then(function(){var e;return e=n(249).NewFormView,t.addItem(e)}.bind(null,n)).catch(n.oe)}},{key:"view_config",value:function(t){var o=this;return n.e(73).then(function(){var e;return e=n(576),o.viewItem(e,t)}.bind(null,n)).catch(n.oe)}},{key:"edit_config",value:function(t){var o=this;return n.e(11).then(function(){var e;return e=n(249).EditFormView,o.editItem(e,t)}.bind(null,n)).catch(n.oe)}}]),t);function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.channelName="sofi",e.prototype.objName="config",e.prototype.modelName="ebcfg",e}.call(void 0),e.exports=r},function(e,t,o){"use strict";var n,r,i,a,u=l(o(1));l(o(2));function l(e){return e&&e.__esModule?e:{default:e}}r=o(362),a=u.default.Radio.channel("global"),u.default.Radio.channel("messages"),n=a.request("main:app:IndexRouter"),i=function(){var e=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n),t);function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.appRoutes={"sofi/dsc":"list_descriptions","sofi/dsc/list":"list_descriptions","sofi/dsc/add":"add_new_description","sofi/dsc/view/:name":"view_description","sofi/dsc/edit/:name":"edit_description","sofi/ebdscs/new":"add_new_description","sofi/ebdscs/view/:id":"view_description","sofi/ebdscs/edit/:id":"edit_description"},e}.call(void 0),e.exports={router:i,controller:r}},function(e,t,n){"use strict";var o,r,i,a,u=function(e,t,o){return t&&l(e.prototype,t),o&&l(e,o),e};function l(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}n(4),o=n(1),n(2),n(3),n(7),n(34).ExtraController,a=o.Radio.channel("global"),o.Radio.channel("messages"),o.Radio.channel("sofi"),r=a.request("main:app:CrudController"),i=function(){var e=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r),u(t,[{key:"initialize",value:function(e){return this.applet=a.request("main:applet:get-applet","sofi"),this.mainController=this.applet.router.controller,this.channel=this.getChannel()}},{key:"list_descriptions",value:function(){var t=this;return n.e(76).then(function(){var e;return e=n(577),t.listItems(e)}.bind(null,n)).catch(n.oe)}},{key:"add_new_description",value:function(){var t=this;return Promise.all([n.e(1),n.e(5),n.e(12)]).then(function(){var e;return e=n(250).NewFormView,t.addItem(e)}.bind(null,n)).catch(n.oe)}},{key:"view_description",value:function(t){var o=this;return n.e(74).then(function(){var e;return e=n(579),o.viewItem(e,t)}.bind(null,n)).catch(n.oe)}},{key:"edit_description",value:function(t){var o=this;return Promise.all([n.e(1),n.e(5),n.e(12)]).then(function(){var e;return e=n(250).EditFormView,o.editItem(e,t)}.bind(null,n)).catch(n.oe)}}]),t);function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.channelName="sofi",e.prototype.objName="description",e.prototype.modelName="ebdsc",e}.call(void 0),e.exports=i},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(o(1)),r=(p(o(2)),p(o(89))),i=p(o(16));o(364);var a,u,l,c,s,f=p(o(365));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}l=n.default.Radio.channel("global"),n.default.Radio.channel("messages"),n.default.Radio.channel("sunny"),a=l.request("main:app:IndexRouter"),s=[{label:"List",url:"#sunny/clients",icon:".fa.fa-list"},{label:"New Client",url:"#sunny/clients/new",icon:".fa.fa-list"},{label:"Map View",url:"#sunny/mapview",icon:".fa.fa-globe"}],c=function(){var e=(y(t,a),t);function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.appRoutes={sunny:"list_clients","sunny/clients":"listClients","sunny/clients/new":"newClient","sunny/clients/edit/:id":"editClient","sunny/clients/view/:id":"viewClient","sunny/yards/add/:client_id":"addYard","sunny/yards/view/:id":"viewYard","sunny/yards/routines/:yard_id":"yardRoutines","sunny/mapview":"mapView"},e}.call(void 0),u=function(){var e=(y(t,r.default),t);function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.Controller=f.default,e.prototype.Router=c,e.prototype.appletEntries=[{label:(0,i.default)("sunny")+" Menu",menu:s}],e}.call(void 0),t.default=u},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),e};function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i,a,u,l,c,s,f,p,d,h,y,v,b,_,w,m,g,O=k(o(0)),j=k(o(1)),P=(k(o(2)),k(o(104)));function k(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}f=j.default.Radio.channel("global"),j.default.Radio.channel("sunny"),_="/api/dev/sunny/crud",a=f.request("main:app:AuthModel"),i=f.request("main:app:AuthCollection"),w={},m={channelName:"sunny"},g=_+"/client",u=function(){var e=(E(t,a),t);function t(){return C(this,t),R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.urlRoot=g,e}.call(void 0),l=function(){var e=(E(t,i),t);function t(){return C(this,t),R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.model=u,e.prototype.url=g,e}.call(void 0),w.client=new P.default(O.default.extend(m,{modelName:"client",modelClass:u,collectionClass:l})),g=_+"/yard",p=function(){var e=(E(t,a),t);function t(){return C(this,t),R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.urlRoot=g,e}.call(void 0),b=function(){var e=(E(t,i),t);function t(){return C(this,t),R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.model=p,e.prototype.url=g,e}.call(void 0),w.yard=new P.default(O.default.extend(m,{modelName:"yard",modelClass:p,collectionClass:b})),g=_+"/yardroutine",d=function(){var e=(E(t,a),n(t,[{key:"defaults",value:function(){return{frequency:14,leeway:3,rate:50,active:!0,routine_date:new Date}}}]),t);function t(){return C(this,t),R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.urlRoot=g,e}.call(void 0),v=function(){var e=(E(t,i),t);function t(){return C(this,t),R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.model=d,e.prototype.url=g,e}.call(void 0),w.yardroutine=new P.default(O.default.extend(m,{modelName:"yardroutine",modelClass:d,collectionClass:v})),g=_+"/yardroutinejob",h=function(){var e=(E(t,a),t);function t(){return C(this,t),R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.urlRoot=g,e}.call(void 0),y=function(){var e=(E(t,i),t);function t(){return C(this,t),R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.model=h,e.prototype.url=g,e}.call(void 0),w.yardroutinejob=new P.default(O.default.extend(m,{modelName:"yardroutinejob",modelClass:h,collectionClass:y})),g="/api/dev/sunny/gpslocations",c=function(){var e=(E(t,a),t);function t(){return C(this,t),R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.urlRoot=g,e}.call(void 0),s=function(){var e=(E(t,i),t);function t(){return C(this,t),R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.model=c,e.prototype.url=g,e}.call(void 0),w.location=new P.default(O.default.extend(m,{modelName:"location",modelClass:c,collectionClass:s})),t.default=w},function(e,t,a){"use strict";var o=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e};function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u,r,l,i=y(a(1)),c=a(2),s=y(a(3)),f=y(a(7)),p=(y(a(88)),a(34)),d=a(35),h=y(a(39));y(a(5)),y(a(36));function y(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i.default.Radio.channel("global"),l=i.default.Radio.channel("messages"),u=i.default.Radio.channel("sunny"),function(){var e=(_(t,c.View),o(t,[{key:"regions",value:function(){var e;return(e=new h.default({el:"#main-content"})).slide_speed=(0,f.default)(".01s"),{content:e}}}]),t);function t(){return v(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.template=s.default.renderable(function(){return s.default.div("#main-content.col-sm-12")}),e}.call(void 0),r=function(){var e=(_(t,p.MainController),o(t,[{key:"listClients",value:function(){var n=this;return this.setupLayoutIfNeeded(),a.e(88).then(function(){var e,t,o;return e=a(580),o=new e({collection:n.clients}),(t=n.clients.fetch()).done(function(){return n.layout.showChildView("content",o)}),t.fail(function(){return l.request("danger","Failed to load clients.")})}.bind(null,a)).catch(a.oe)}},{key:"newClient",value:function(){var t=this;return this.setupLayoutIfNeeded(),a.e(15).then(function(){var e;return e=a(251).NewClientView,t.layout.showChildView("content",new e)}.bind(null,a)).catch(a.oe)}},{key:"addYard",value:function(n){var r=this;return this.setupLayoutIfNeeded(),Promise.all([a.e(3),a.e(14)]).then(function(){var e,t,o;return e=a(252).default,console.log("YardView",e),(t=u.request("db:yard:new")).set("sunnyclient_id",n),o=new e({model:t}),r.layout.showChildView("content",o)}.bind(null,a)).catch(a.oe)}},{key:"viewYard",value:function(n){var r=this;return this.setupLayoutIfNeeded(),Promise.all([a.e(3),a.e(14)]).then(function(){var e,t,o;return e=a(252),(t=u.request("db:yard:get",n)).has("sunnyclient")?r._show_edit_client(e,t):((o=t.fetch({data:{include:"*"}})).done(function(){return r._show_edit_client(e,t)}),o.fail(function(){return l.request("danger","Failed to load yard data.")}))}.bind(null,a)).catch(a.oe)}},{key:"yardRoutines",value:function(e){return console.log("yard_routines",e)}},{key:"_show_edit_client",value:function(e,t){var o;return o=new e({model:t}),this.layout.showChildView("content",o)}},{key:"editClient",value:function(r){var i=this;return this.setupLayoutIfNeeded(),a.e(15).then(function(){var e,t,o,n=a(251);return e=n.EditClientView,(t=u.request("db:client:get",r)).has("name")?i._show_edit_client(e,t):((o=t.fetch()).done(function(){return i._show_edit_client(e,t)}),o.fail(function(){return l.request("danger","Failed to load client data.")}))}.bind(null,a)).catch(a.oe)}},{key:"_fetch_yards_and_view_client",value:function(t,o){var n,e,r=this;return(e=(n=u.request("db:yard:collection")).fetch({data:{sunnyclient_id:t.id}})).done(function(){var e;return e=new o({model:t,collection:n}),window.cview=e,r.layout.showChildView("content",e)}),e.fail(function(){return l.request("danger","Failed to load yards.")})}},{key:"viewClient",value:function(n){var r=this;return this.setupLayoutIfNeeded(),a.e(87).then(function(){var e,t,o;return e=a(584),(t=u.request("db:client:get",n)).has("name")?r._fetch_yards_and_view_client(t,e):((o=t.fetch()).done(function(){return r._fetch_yards_and_view_client(t,e)}),o.fail(function(){return l.request("danger","Failed to load client data.")}))}.bind(null,a)).catch(a.oe)}},{key:"mapView",value:function(){var t=this;return this.setupLayoutIfNeeded(),console.log("layout should be ready"),Promise.all([a.e(21),a.e(86)]).then(function(){var e;return e=new(a(585)),t.layout.showChildView("content",e),console.log("view shown?",e)}.bind(null,a)).catch(a.oe)}}]),t);function t(){return v(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.layoutClass=d.ToolbarAppletLayout,e.prototype.clients=u.request("db:client:collection"),e}.call(void 0),e.exports=r},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r,i,a,u,l=p(o(1)),c=(p(o(2)),p(o(89))),s=p(o(16)),f=p(o(367));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=l.default.Radio.channel("global"),l.default.Radio.channel("taxes"),n=i.request("main:app:IndexRouter"),u=[{label:"Main Tax Page",url:"#taxes",icon:".fa.fa-newspaper-o"}],a=function(){var e=(y(t,n),t);function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.appRoutes={taxes:"viewIndex","taxes/pages/*name":"viewPage"},e}.call(void 0),r=function(){var e=(y(t,c.default),t);function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.Controller=f.default,e.prototype.Router=a,e.prototype.appletEntries=[{label:(0,s.default)("taxes")+" Menu",menu:u}],e}.call(void 0),t.default=r},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),e};function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i,a,u,l,c=p(o(1)),s=(p(o(2)),p(o(3)),p(o(7)),p(o(88)),o(34)),f=o(35);p(o(5)),p(o(36));function p(e){return e&&e.__esModule?e:{default:e}}var d=o(138);a=d.FrontDoorMainView,u=c.default.Radio.channel("global"),l=c.default.Radio.channel("messages"),c.default.Radio.channel("taxes"),i=function(){var e=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.MainController),n(t,[{key:"viewPage",value:function(e){var t,o,n=this;return console.log("name is",e),this.setupLayoutIfNeeded(),(o=(t=u.request("main:app:get-document",e)).fetch()).done(function(){var e;return e=new a({model:t}),n.layout.showChildView("content",e)}),o.fail(function(){return l.request("warning","failed to get "+e)})}},{key:"viewIndex",value:function(){return this.viewPage("taxes/index")}}]),t);function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.layoutClass=f.ToolbarAppletLayout,e}.call(void 0),t.default=i},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(o(1)),r=(s(o(2)),s(o(89)));o(369);var i,a,u,l,c=s(o(370));function s(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}u=n.default.Radio.channel("global"),n.default.Radio.channel("todos"),i=u.request("main:app:IndexRouter"),l=function(){var e=(d(t,i),t);function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.appRoutes={todos:"list_todos","todos/completed":"list_completed_todos","todos/calendar":"view_calendar","todos/todos/new":"new_todo","todos/todos/edit/:id":"edit_todo","todos/todos/view/:id":"view_todo"},e}.call(void 0),a=function(){var e=(d(t,r.default),t);function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.Controller=c.default,e.prototype.Router=l,e.prototype.appletEntries=[{label:"Todos Menu",menu:[{label:"list todos",icon:".fa.fa-list",url:"#todos"},{label:"Calendar",url:"#todos/calendar",icon:".fa.fa-calendar"},{label:"new todo",icon:".fa.fa-plus",url:"#todos/todos/new"}]}],e}.call(void 0),t.default=a},function(e,t,o){"use strict";var n,r,i,a,u,l,c,s,f,p,d,h,y=_(o(0)),v=_(o(1)),b=(_(o(2)),_(o(104)));function _(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n=o(4),u=v.default.Radio.channel("global"),r=v.default.Radio.channel("todos"),a=u.request("main:app:AuthModel"),i=u.request("main:app:AuthCollection"),h="/api/dev/bapi/todos",p={channelName:"todos"},l=function(){var e=(g(t,a),t);function t(){return w(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.urlRoot=h,e.prototype.defaults={completed:!1},e}.call(void 0),s=function(){var e=(g(t,i),t);function t(){return w(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.url=h,e.prototype.model=l,e}.call(void 0),new b.default(y.default.extend(p,{modelName:"todo",modelClass:l,collectionClass:s})),c=function(){var e=(g(t,i),t);function t(){return w(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.url="/api/dev/basic/todos/create-cal",e.prototype.model=l,e}.call(void 0),d=new c,r.reply("todocal-collection",function(){return d}),f=void 0,r.reply("maincalendar:set-date",function(){var e;e=n("#maincalendar"),f=e.fullCalendar("getDate")}),r.reply("maincalendar:get-date",function(){return f})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e};function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i,a,u,l,c,s=h(r(1)),f=(h(r(2)),h(r(3)),h(r(7)),h(r(88))),p=r(34),d=r(35);h(r(5)),h(r(36));function h(e){return e&&e.__esModule?e:{default:e}}s.default.Radio.channel("global"),u=s.default.Radio.channel("messages"),s.default.Radio.channel("resources"),i=s.default.Radio.channel("todos"),l=[],c=new s.default.Collection(l),i.reply("get-toolbar-entries",function(){return c}),a=function(){var e=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p.MainController),o(t,[{key:"setupLayoutIfNeeded",value:function(){var e;return function e(t,o,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setupLayoutIfNeeded",this).call(this),e=new f.default({collection:c}),this.layout.showChildView("toolbar",e)}},{key:"_isModelPresent",value:function(e){return e.isEmpty()||!e.has("created_at")}},{key:"list_certain_todos",value:function(e){var n=this;return this.setupLayoutIfNeeded(),r.e(89).then(function(){var e,t,o;return e=r(591).default,o=new e({collection:n.collection}),(t=n.collection.fetch()).done(function(){return console.log(n.collection),n.layout.showChildView("content",o)}),t.fail(function(){return u.request("danger","Failed to load todos.")})}.bind(null,r)).catch(r.oe)}},{key:"list_completed_todos",value:function(){return this.list_certain_todos(!0)}},{key:"list_todos",value:function(){return this.list_certain_todos(!1)}},{key:"new_todo",value:function(){var t=this;return this.setupLayoutIfNeeded(),r.e(16).then(function(){var e;return e=r(255).NewView,t.layout.showChildView("content",new e)}.bind(null,r)).catch(r.oe)}},{key:"edit_todo",value:function(o){var n=this;return this.setupLayoutIfNeeded(),r.e(16).then(function(){var e,t;return e=r(255).EditView,t=i.request("db:todo:get",o),n._loadView(e,t,"todo")}.bind(null,r)).catch(r.oe)}},{key:"view_todo",value:function(e){var n=this;return this.setupLayoutIfNeeded(),r.e(91).then(function(){var t,o;return t=r(592),(o=i.request("db:todo:get",e)).fetch().done(function(){var e;return e=new t({model:o}),n.layout.showChildView("content",e)})}.bind(null,r)).catch(r.oe)}},{key:"view_calendar",value:function(){var t=this;return this.setupLayoutIfNeeded(),Promise.all([r.e(3),r.e(90)]).then(function(){var e;return e=r(593),t.layout.showChildView("content",new e)}.bind(null,r)).catch(r.oe)}}]),t);function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.layoutClass=d.ToolbarAppletLayout,e.prototype.collection=i.request("db:todo:collection"),e}.call(void 0),t.default=a},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});h(o(4));var n,r,i,a,u,l,c,s=h(o(1)),f=(h(o(2)),h(o(89))),p=h(o(16)),d=h(o(372));h(o(376));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a=s.default.Radio.channel("global"),n=s.default.Radio.channel("tvmaze"),r=a.request("main:app:IndexRouter"),l=[{label:"List Shows",url:"#tvmaze/shows",icon:".fa.fa-list"},{label:"Search Show",url:"#tvmaze/searchshow",icon:".fa.fa-search"},{label:"Import Sample Data",url:"#tvmaze/import-sample-data",icon:".fa.fa-download"},{label:"Calendar",url:"#tvmaze/calendar",icon:".fa.fa-calendar"}],u=function(){var e=(b(t,r),t);function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.appRoutes={tvmaze:"viewIndex","tvmaze/searchshow":"viewSearchShow","tvmaze/shows":"viewShowList","tvmaze/shows/flat":"viewShowListFlat","tvmaze/shows/view/:id":"viewShow","tvmaze/import-sample-data":"importSampleData","tvmaze/calendar":"viewCalendar"},e}.call(void 0),i=function(){var e=(b(t,f.default),t);function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.Controller=d.default,e.prototype.Router=u,e.prototype.appletEntries=[{label:(0,p.default)("tvmaze")+" Menu",menu:l},{label:"List Shows",url:"#tvmaze/shows"}],e}.call(void 0),c=void 0,n.reply("maincalendar:set-date",function(e){return c=e.fullCalendar("getDate")}),n.reply("maincalendar:get-date",function(){return c}),t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e};function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i,a,u=s(r(1)),l=(s(r(2)),s(r(3)),s(r(7)),s(r(88)),r(34)),c=r(35);s(r(5));function s(e){return e&&e.__esModule?e:{default:e}}r(373),r(36),u.default.Radio.channel("global"),u.default.Radio.channel("messages"),u.default.Radio.channel("resources"),i=u.default.Radio.channel("tvmaze"),a=function(){var e=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.MainController),o(t,[{key:"viewIndex",value:function(){var n=this;return this.setupLayoutIfNeeded(),r.e(94).then(function(){var t,o,e;return e=i.request("get-local-tvshows"),t=i.request("tv-show-search-collection"),o=r(594),e.fetch().then(function(){var e;return e=new o({collection:new t}),n.layout.showChildView("content",e)})}.bind(null,r)).catch(r.oe)}},{key:"viewShowList",value:function(){return this.viewShowListCards()}},{key:"viewShowListCards",value:function(){var t,o=this;return this.setupLayoutIfNeeded(),t=i.request("get-local-tvshows"),r.e(97).then(function(){var e;return e=r(598),o._loadView(e,t,"tvshow")}.bind(null,r)).catch(r.oe)}},{key:"viewShowListPackery",value:function(){var t,o=this;return this.setupLayoutIfNeeded(),t=i.request("get-local-tvshows"),Promise.all([r.e(0),r.e(116),r.e(100)]).then(function(){var e;return e=r(599),o._loadView(e,t,"tvshow")}.bind(null,r)).catch(r.oe)}},{key:"viewShowListMasonry",value:function(){var t,o=this;return this.setupLayoutIfNeeded(),t=i.request("get-local-tvshows"),Promise.all([r.e(0),r.e(99)]).then(function(){var e;return e=r(604),o._loadView(e,t,"tvshow")}.bind(null,r)).catch(r.oe)}},{key:"viewShowListFlat",value:function(){var o,n=this;return this.setupLayoutIfNeeded(),o=i.request("get-local-tvshows"),window.tvshows=o,r.e(98).then(function(){var t;return t=r(605),o.fetch().done(function(){var e;return e=new t({collection:o}),n.layout.showChildView("content",e)})}.bind(null,r)).catch(r.oe)}},{key:"viewSearchShow",value:function(){var t=this;return this.setupLayoutIfNeeded(),r.e(96).then(function(){var e;return e=new(r(606)),t.layout.showChildView("content",e)}.bind(null,r)).catch(r.oe)}},{key:"viewShow",value:function(o){var n=this;return this.setupLayoutIfNeeded(),r.e(95).then(function(){var e,t;return e=r(607),t=new(i.request("get-local-tvshow-model"))({id:o}),n._loadView(e,t,"tvshow")}.bind(null,r)).catch(r.oe)}},{key:"importSampleData",value:function(){var o=this;return this.setupLayoutIfNeeded(),r.e(92).then(function(){var t,e;return e=i.request("get-all-local-tvshows"),i.request("tv-show-search-collection"),t=r(609).default,e.fetch().then(function(){var e;return e=new t,o.layout.showChildView("content",e)})}.bind(null,r)).catch(r.oe)}},{key:"viewCalendar",value:function(){var o=this;return this.setupLayoutIfNeeded(),Promise.all([r.e(3),r.e(93)]).then(function(){var t,e;return e=i.request("get-local-tvshows"),i.request("tv-show-search-collection"),t=r(611),e.fetch().then(function(){var e;return e=new t,o.layout.showChildView("content",e)})}.bind(null,r)).catch(r.oe)}}]),t);function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.layoutClass=c.ToolbarAppletLayout,e}.call(void 0),t.default=a},function(e,t,o){"use strict";var n=function(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),e};function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}d(o(4));var i,a,u,l,c,s,f,p=d(o(1));o(115),d(o(38));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function b(){return h(this,b),y(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}function _(){return h(this,_),y(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}function w(){return h(this,w),y(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}function m(){return h(this,m),y(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}o(374),o(375),p.default.Radio.channel("global"),i=p.default.Radio.channel("tvmaze"),f="//api.tvmaze.com",v(b,p.default.Model),n(b,[{key:"url",value:function(){var e;return e=this.searchName,f+"/singlesearch/shows?q="+e}}]),s=b,i.reply("single-show-search",function(e){var t;return(t=new s).searchName=e,t}),v(_,p.default.Collection),n(_,[{key:"url",value:function(){return f+"/search/shows"}}]),c=_,i.reply("new-tv-show-search",function(e){return new c(e=e||{})}),i.reply("tv-show-search-collection",function(){return c}),i.reply("search-tv-shows",function(e){return new c}),v(w,p.default.Model),n(w,[{key:"urlRoot",value:function(){return f+"/shows"}}]),l=w,i.reply("get-remote-show",function(e){return new l({id:e})}),v(m,p.default.Model),n(m,[{key:"url",value:function(){return this.get("_links").self.href}}]),a=m,u=function(){var e=(v(t,p.default.Collection),n(t,[{key:"url",value:function(){return f+"/shows/"+this.showId+"/episodes"}}]),t);function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.model=a,e}.call(void 0),i.reply("get-remote-episodes",function(e){var t;return(t=new u).showId=e,t})},function(e,t,o){"use strict";var n=function(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),e};function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i,a,u,l,c,s,f,p,d,h,y=_(o(1)),v=o(115),b=_(o(38));function _(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}c=y.default.Radio.channel("global"),a=y.default.Radio.channel("tvmaze"),p=c.request("main:app:dbConn","tvmaze"),s=new v.LoveStore(p,"TVMazeShow"),h=["id","name","url","self","premiered","runtime","network_name","imdb","status","summary","img_med","img_orig","content"],u=function(){var e=(g(t,y.default.Model),n(t,[{key:"toJSON",value:function(){var t,o=this;return t={},h.forEach(function(e){return t[e]=o.get(e)}),t}}]),t);function t(){return w(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.loveStore=s,e}.call(void 0),l=function(){var e=(g(t,b.default),t);function t(){return w(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.loveStore=s,e.prototype.model=u,e.prototype.mode="client",e}.call(void 0),i=function(){var e=(g(t,y.default.Collection),t);function t(){return w(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.loveStore=s,e.prototype.model=u,e}.call(void 0),f=new i,d=new l,a.reply("get-all-local-tvshows",function(){return f}),a.reply("get-local-tvshows",function(){return d}),a.reply("get-local-tvshow-model",function(){return u}),a.reply("get-local-tvshow-collection",function(){return l}),a.reply("save-local-show",function(e){var t,o,n,r,i,a;return t=new u({id:e.id,name:e.name,url:e.url,self:e._links.self.href,premiered:new Date(e.premiered),runtime:(null!=e?e.runtime:void 0)||"",network_name:(null!=e&&null!=(o=e.network)?o.name:void 0)||"NO NETWORK",imdb:(null!=(n=e.externals)?n.imdb:void 0)||"",status:(null!=e?e.status:void 0)||"",summary:(null!=e?e.summary:void 0)||"",img_med:(null!=e&&null!=(r=e.image)?r.medium:void 0)||"",img_orig:(null!=e&&null!=(i=e.image)?i.original:void 0)||"",content:e}),a=!0,t.isNew=function(){return!!a&&!(a=!1)},d.add(t),t.save()})},function(e,t,o){"use strict";var n=function(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),e};function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i,a,s,u,l,c,f,p,d,h=o(1),y=(i=h)&&i.__esModule?i:{default:i},v=o(115);function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}l=y.default.Radio.channel("global"),a=y.default.Radio.channel("tvmaze"),f=l.request("main:app:dbConn","tvmaze"),c=new v.LoveStore(f,"TVMazeEpisode"),p=["id","show_id","name","url","self","season","number","airdate","airtime","runtime","summary","img_med","img_orig","content"],s=function(){var e=(w(t,y.default.Model),n(t,[{key:"toJSON",value:function(){var t,o=this;return t={},p.forEach(function(e){return t[e]=o.get(e)}),t}}]),t);function t(){return b(this,t),_(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.loveStore=c,e}.call(void 0),u=function(){var e=(w(t,y.default.Collection),t);function t(){return b(this,t),_(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.loveStore=c,e.prototype.model=s,e}.call(void 0),d=new u,a.reply("get-local-episodes",function(){return d}),a.reply("get-local-episode-model",function(){return s}),a.reply("get-local-episode-collection",function(){return u}),a.reply("save-local-episode",function(e){var t,o,n,r,i,a,u,l,c;return t=new s({id:e.id,show_id:e.show_id,name:e.content.name,url:e.content.url,self:null!=(o=e.content._links)?o.self.href:void 0,season:e.content.season,number:e.content.number,airdate:new Date(e.content.airdate),airtime:e.content.airtime,runtime:(null!=(n=e.content)?n.runtime:void 0)||"",summary:(null!=(r=e.content)?r.summary:void 0)||"",img_med:(null!=(i=e.content)&&null!=(a=i.image)?a.medium:void 0)||"",img_orig:(null!=(u=e.content)&&null!=(l=u.image)?l.original:void 0)||"",content:e.content}),c=!0,t.isNew=function(){return!!c&&!(c=!1)},d.add(t),t.save()})},function(e,t,o){e.exports=function(){return new Worker(o.p+"2d411a9705d8b1125beb.worker.js")}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r,i,a=f(o(1)),u=(f(o(2)),f(o(18)),f(o(89))),l=f(o(16)),c=f(o(378)),s=f(o(124));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a.default.Radio.channel("global"),a.default.Radio.channel("useradmin"),i=[{label:"Main",url:"#useradmin",icon:".fa.fa-star"},{label:"Users",url:"#useradmin/user/list",icon:".fa.fa-list"},{label:"Add User",url:"#useradmin/user/add",icon:".fa.fa-plus"},{label:"Groups",url:"#useradmin/group/list",icon:".fa.fa-list"},{label:"Add Group",url:"#useradmin/group/add",icon:".fa.fa-plus"}],r=function(){var e=(h(t,s.default),t);function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.appRoutes={useradmin:"viewIndex","useradmin/user/list":"listUsers","useradmin/user/add":"addUser","useradmin/user/view/:id":"viewUser","useradmin/user/edit/:id":"editUser","useradmin/group/list":"listGroups","useradmin/group/add":"viewIndex","useradmin/group/view/:id":"viewIndex","useradmin/group/edit/:id":"editGroup"},e}.call(void 0),n=function(){var e=(h(t,u.default),t);function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.Controller=c.default,e.prototype.Router=r,e.prototype.appletEntries=[{label:(0,l.default)("useradmin")+" Menu",menu:i}],e}.call(void 0),t.default=n},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e};function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r,i,u,l=f(a(1)),c=(f(a(2)),f(a(3)),f(a(7)),f(a(88)),a(34)),s=a(35);f(a(5)),f(a(36));function f(e){return e&&e.__esModule?e:{default:e}}a(379),i=l.default.Radio.channel("global"),u=l.default.Radio.channel("messages"),l.default.Radio.channel("useradmin"),r=function(){var e=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.MainController),o(t,[{key:"editModel",value:function(r){var i=this;return this.setupLayoutIfNeeded(),a.e(17).then(function(){var e,t,o,n;return e=a(256).BaseEditFormView,t=r.model,n=new e(r),(o=t.fetch()).fail(function(){return u.request("danger","failed to get "+r.modelName)}),o.done(function(){return console.log(r.modelName+" fetched",t),i.layout.showChildView("content",n)})}.bind(null,a)).catch(a.oe)}},{key:"addModel",value:function(t){var o=this;return this.setupLayoutIfNeeded(),a.e(17).then(function(){var e;return e=new(a(256).BaseNewFormView)(t),o.layout.showChildView("content",e)}.bind(null,a)).catch(a.oe)}},{key:"viewIndex",value:function(){var t=this;return this.setupLayoutIfNeeded(),a.e(101).then(function(){var e;return e=new(a(612).default),t.layout.showChildView("content",e)}.bind(null,a)).catch(a.oe)}},{key:"listUsers",value:function(){var r=this;return this.setupLayoutIfNeeded(),a.e(103).then(function(){var e,t,o,n;return t=r.getChannel().request("db:user:collection"),e=a(197).default,n=new e({collection:t}),(o=t.fetch()).fail(function(){return u.request("danger","failed to get users")}),o.done(function(){return console.log("users fetched",t),r.layout.showChildView("content",n)})}.bind(null,a)).catch(a.oe)}},{key:"viewUser",value:function(r){var i=this;return this.setupLayoutIfNeeded(),a.e(105).then(function(){var e,t,o,n;return t=new(i.getChannel().request("db:user:modelClass"))({id:r}),e=a(613).default,n=new e({model:t}),(o=t.fetch()).fail(function(){return u.request("danger","failed to get user")}),o.done(function(){return i.layout.showChildView("content",n)})}.bind(null,a)).catch(a.oe)}},{key:"editUser",value:function(e){var t,o;return o={modelName:"user",fieldList:["username","fullname","email"],entryField:"fullname",model:new(this.getChannel().request("db:user:modelClass"))({id:e})},t=i.request("crud:template:form",o),o.template=t,this.editModel(o)}},{key:"addUser",value:function(){var e,t;return this.getChannel().request("db:user:modelClass"),t={modelName:"user",fieldList:["username","fullname","email"],entryField:"fullname",channelName:this.channelName},e=i.request("crud:template:form",t),t.template=e,this.addModel(t)}},{key:"listGroups",value:function(){var r=this;return this.setupLayoutIfNeeded(),a.e(102).then(function(){var e,t,o,n;return t=r.getChannel().request("db:group:collection"),e=a(197).default,n=new e({collection:t}),(o=t.fetch()).fail(function(){return u.request("danger","failed to get groups")}),o.done(function(){return console.log("groups fetched",t),r.layout.showChildView("content",n)})}.bind(null,a)).catch(a.oe)}},{key:"editGroup",value:function(e){var t,o;return o={modelName:"group",fieldList:["name"],entryField:"name",model:new(this.getChannel().request("db:group:modelClass"))({id:e})},t=i.request("crud:template:form",o),o.template=t,this.editModel(o)}}]),t);function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.channelName="useradmin",e.prototype.layoutClass=s.ToolbarAppletLayout,e}.call(void 0),t.default=r},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),e};function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i,a,u,l,c,s,f,p,d,h,y,v,b,_,w,m,g=P(o(0)),O=P(o(1)),j=(P(o(2)),P(o(104)));function P(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function R(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}c=O.default.Radio.channel("global"),O.default.Radio.channel("useradmin"),a=c.request("main:app:AuthModel"),i=c.request("main:app:AuthCollection"),b={channelName:"useradmin"},v={},m=(y=(h="/api/dev/useradmin")+"/crud")+"/users",s=function(){var e=(R(t,a),n(t,[{key:"itemLabel",value:function(){return this.get("fullname")+" ("+this.get("username")+")"}},{key:"itemViewUrl",value:function(){return"#useradmin/user/view/"+this.get("id")}},{key:"itemEditUrl",value:function(){return"#useradmin/user/edit/"+this.get("id")}}]),t);function t(){return k(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.urlRoot=m,e}.call(void 0),f=function(){var e=(R(t,i),t);function t(){return k(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.url=m,e.prototype.model=s,e}.call(void 0),v.user=new j.default(g.default.extend(b,{modelName:"user",modelClass:s,collectionClass:f})),_=y+"/groups",u=function(){var e=(R(t,a),n(t,[{key:"itemLabel",value:function(){return this.get("name")}},{key:"itemViewUrl",value:function(){return"#useradmin/group/view/"+this.get("id")}},{key:"itemEditUrl",value:function(){return"#useradmin/group/edit/"+this.get("id")}}]),t);function t(){return k(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.urlRoot=_,e}.call(void 0),l=function(){var e=(R(t,i),t);function t(){return k(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.url=_,e.prototype.model=u,e}.call(void 0),v.group=new j.default(g.default.extend(b,{modelName:"group",modelClass:u,collectionClass:l})),w=h+"/usergroup",p=function(){var e=(R(t,a),n(t,[{key:"url",value:function(){var e,t,o;return o=this.get("user_id"),e=this.get("group_id"),t=w+"/"+e+"/"+o,t}},{key:"itemLabel",value:function(){return this.get("user_id"),this.get("group_id")+", "+user_id}}]),t);function t(){return k(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.urlRoot=w,e.prototype.idAttribute="group_id",e}.call(void 0),d=function(){var e=(R(t,i),t);function t(){return k(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.url=w,e.prototype.model=p,e}.call(void 0),v.usergroup=new j.default(g.default.extend(b,{modelName:"usergroup",modelClass:p,collectionClass:d})),t.default=v},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),e};function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}d(o(2));var i=d(o(89));o(381);var a,u,l,c,s,f,p=d(o(383));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}c=Backbone.Radio.channel("global"),a=Backbone.Radio.channel("userprofile"),u=c.request("main:app:IndexRouter"),f=[{label:"Main",url:"#profile"},{label:"Edit Config",url:"#profile/editconfig"},{label:"Change Password",url:"#profile/chpassword"},{label:"View Map",url:"#profile/mapview"}],s=function(){var e=(v(t,u),t);function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.appRoutes={profile:"show_profile","profile/editconfig":"editConfig","profile/chpassword":"change_password","profile/mapview":"view_map"},e}.call(void 0),l=function(){var e=(v(t,i.default),n(t,[{key:"onBeforeStart",value:function(){var e=this;return function e(t,o,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onBeforeStart",this).call(this,arguments),a.reply("main-controller",function(){return console.warn("Stop using 'main-controller' request on AppChannel"),e.router.controller})}}]),t);function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.Controller=p.default,e.prototype.Router=s,e.prototype.appletEntries=[{label:"User Profile",menu:f}],e}.call(void 0),t.default=l},function(e,t,o){"use strict";var n,r,i,a,u,l;n=o(4),o(0),a=o(1),o(2);var c=o(382);c.User,c.CurrentUser,u=a.Radio.channel("global"),a.Radio.channel("messages"),(r=a.Radio.channel("userprofile")).reply("update-user-config",function(){return console.log("update-user-config called")}),i=u.request("main:app:AuthModel"),u.request("main:app:AuthCollection"),l=function(){var e=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),t);function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.url="/auth/chpass",e.prototype.validation={password:{required:!0,minLength:8},confirm:function(e){var t;return e===(t=n('input[name="password"]').val())&&n('input[type="submit"]').show(),e!==t}},e}.call(void 0),r.reply("new-password-model",function(){return new l}),e.exports={}},,function(e,t,r){"use strict";var o,i,n,a,u,l,c,s,f,p,d=function(e,t,o){return t&&h(e.prototype,t),o&&h(e,o),e};function h(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=r(1),l=r(2),f=r(3),s=r(5).default;var _=r(34);u=_.MainController;var w=r(35);c=w.ToolbarAppletLayout,a=i.Radio.channel("global"),i.Radio.channel("messages"),o=i.Radio.channel("userprofile"),new i.Model({entries:[{name:"Profile",url:"#profile"},{name:"Map",url:"#profile/mapview"},{name:"Settings",url:"#profile/editconfig"},{name:"Change Password",url:"#profile/chpassword"}]}),p=f.renderable(function(a){return f.div(".btn-group.btn-group-justified",function(){var e,t,o,n,r,i;for(i=[],t=0,n=(r=a.entries).length;t<n;t++)e=r[t],o=(null!=e?e.icon:void 0)||"info",i.push(f.div(".toolbar-button.btn.btn-default",{"button-url":e.url},function(){return f.span(".fa.fa-"+o," "+e.name)}));return i})}),function(){var e=(b(t,l.View),d(t,[{key:"toolbarButtonPressed",value:function(e){var t;return console.log("toolbarButtonPressed",e),t=e.currentTarget.getAttribute("button-url"),s(t)}}]),t);function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.template=p,e.prototype.ui={toolbarButton:".toolbar-button"},e.prototype.events={"click @ui.toolbarButton":"toolbarButtonPressed"},e}.call(void 0),n=function(){var e=(b(t,u),d(t,[{key:"show_profile",value:function(){var n=this;return this.setupLayoutIfNeeded(),r.e(109).then(function(){var e,t,o;return e=r(616),t=a.request("main:app:decode-auth-token"),console.log("TOKEN",t),o=new e({model:new i.Model(t),templateContext:{title:t.fullname,text:t.fullname+" ("+t.name+")"}}),n.layout.showChildView("content",o)}.bind(null,r)).catch(r.oe)}},{key:"view_map",value:function(){var n=this;return this.setupLayoutIfNeeded(),Promise.all([r.e(21),r.e(108)]).then(function(){var e,t,o;return e=r(619),t=a.request("main:app:decode-auth-token"),o=new e({model:new i.Model(t)}),n.layout.showChildView("content",o)}.bind(null,r)).catch(r.oe)}},{key:"editConfig",value:function(){var n=this;return this.setupLayoutIfNeeded(),r.e(107).then(function(){var e,t,o;return e=r(620).default,t=a.request("main:app:decode-auth-token"),o=new e({model:new i.Model(t)}),n.layout.showChildView("content",o)}.bind(null,r)).catch(r.oe)}},{key:"change_password",value:function(){var t=this;return this.setupLayoutIfNeeded(),r.e(106).then(function(){var e;return e=new(r(621).default)({model:o.request("new-password-model")}),t.layout.showChildView("content",e)}.bind(null,r)).catch(r.oe)}}]),t);function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.layoutClass=c,e}.call(void 0),e.exports=n},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r,i,a,u,l=p(o(1)),c=(p(o(2)),p(o(89))),s=p(o(16)),f=p(o(385));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=l.default.Radio.channel("global"),l.default.Radio.channel("usgov"),n=i.request("main:app:IndexRouter"),u=[{button:"#list-button",label:"List",url:"#usgov",icon:".fa.fa-list"},{button:"#calendar-button",label:"Calendar",url:"#usgov/calendar",icon:".fa.fa-calendar"}],a=function(){var e=(y(t,n),t);function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.appRoutes={usgov:"view_index"},e}.call(void 0),r=function(){var e=(y(t,c.default),t);function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.Controller=f.default,e.prototype.Router=a,e.prototype.appletEntries=[{label:(0,s.default)("usgov")+" Menu",menu:u}],e}.call(void 0),t.default=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e};function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i,a,u=s(r(1)),l=(s(r(2)),s(r(3)),s(r(7)),s(r(88)),r(34)),c=r(35);function s(e){return e&&e.__esModule?e:{default:e}}r(386),r(5),r(36),u.default.Radio.channel("global"),u.default.Radio.channel("messages"),u.default.Radio.channel("resources"),i=u.default.Radio.channel("usgov"),a=function(){var e=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.MainController),o(t,[{key:"view_index",value:function(){var n=this;return this.setupLayoutIfNeeded(),r.e(110).then(function(){var t,o;return t=r(622),(o=i.request("get-roles-collection")).fetch().done(function(){var e;return e=new t({collection:o}),n.layout.showChildView("content",e)})}.bind(null,r)).catch(r.oe)}}]),t);function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.layoutClass=c.ToolbarAppletLayout,e}.call(void 0),t.default=a},function(e,t,o){"use strict";var n=function(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),e};function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,o){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:a(r,t,o)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(o):void 0}w(o(4));var i,u,l,c,s,f,p,d,h,y,v=w(o(1)),b=o(115),_=w(o(38));function w(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}c=v.default.Radio.channel("global"),i=v.default.Radio.channel("usgov"),d=c.request("main:app:dbConn","usgov"),s=new b.LoveStore(d,"Role"),u=function(){var e=(O(t,v.default.Model),t);function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.loveStore=s,e}.call(void 0),l=function(){var e=(O(t,v.default.Collection),t);function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.loveStore=s,e.prototype.model=u,e}.call(void 0),h=new l,i.reply("get_local_roles",function(){return h}),i.reply("get-role-model",function(){return u}),i.reply("get-role-collection",function(){return l}),p="https://www.govtrack.us/api/v2",f=function(){var e=(O(o,_.default),n(o,[{key:"url",value:function(){return p+"/role?current=true"}},{key:"fetcher",value:function(e){var t;return e=e||{},t=this.state.currentPage*this.state.pageSize,e.offset=t,e.dataType="jsonp",a(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"fetcher",this).call(this,e)}},{key:"parse",value:function(e){return console.log("parse(response)",e),this.state.pageSize=e.meta.limit,this.state.totalRecords=e.meta.total_count,this.state.totalPages=Math.ceil(this.state.totalRecords/this.state.pageSize),this.state.lastPage=this.state.totalPages-1,a(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"parse",this).call(this,e.objects)}}]),o);function o(){return m(this,o),g(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return e.prototype.mode="server",e.prototype.full=!0,e.prototype.baseURL=p,e.prototype.state={firstPage:0,pageSize:20},e.prototype.queryParams={pageSize:"limit",offset:function(){return this.state.currentPage*this.state.pageSize},currentPage:"offset"},e}.call(void 0),y=new f,i.reply("get-roles-collection",function(){return y})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(o(1)),r=(f(o(2)),f(o(89)));o(388);var i,a,u,l,c,s=f(o(389));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}u=n.default.Radio.channel("global"),n.default.Radio.channel("wikipages"),i=u.request("main:app:IndexRouter"),l=function(){var e=(h(t,i),t);function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.appRoutes={wikipages:"list_wikipages","wikipages/view/:name":"view_wikipage"},e}.call(void 0),c=[{button:"#list-button",label:"List",url:"#wikipages",icon:".fa.fa-list"}],a=function(){var e=(h(t,r.default),t);function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.Controller=s.default,e.prototype.Router=l,e.prototype.appletEntries=[{label:"Wikipages Menu",menu:c}],e}.call(void 0),t.default=a},function(e,t,o){"use strict";var n,r,i,a,u,l,c,s=d(o(0)),f=d(o(1)),p=(d(o(2)),d(o(104)));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=f.default.Radio.channel("global"),f.default.Radio.channel("wikipages"),r=i.request("main:app:AuthModel"),n=i.request("main:app:AuthCollection"),c="/api/dev/bsapi/main/wikipages",l={channelName:"wikipages"},a=function(){var e=(v(t,r),t);function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.urlRoot=c,e}.call(void 0),u=function(){var e=(v(t,n),t);function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.url=c,e.prototype.model=a,e}.call(void 0),new p.default(s.default.extend(l,{modelName:"wikipage",modelClass:a,collectionClass:u}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e};function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i,a,u,l,c,s,f=v(r(1)),p=(v(r(2)),v(r(3)),v(r(7)),v(r(88))),d=r(34),h=r(35),y=(v(r(5)),v(r(36)));function v(e){return e&&e.__esModule?e:{default:e}}u=f.default.Radio.channel("global"),l=f.default.Radio.channel("messages"),i=f.default.Radio.channel("wikipages"),c=[],s=new f.default.Collection(c),i.reply("get-toolbar-entries",function(){return s}),a=function(){var e=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.MainController),o(t,[{key:"setupLayoutIfNeeded",value:function(){var e;return function e(t,o,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setupLayoutIfNeeded",this).call(this),e=new p.default({collection:s}),this.layout.showChildView("toolbar",e)}},{key:"_load_view",value:function(e,t,o){var n,r=this;return t.isEmpty()||!t.has("created_at")?((n=t.fetch()).done(function(){return r._show_view(e,t),(0,y.default)()}),n.fail(function(){var e;return e="Failed to load "+o+" data.",l.request("danger",e)})):this._show_view(e,t)}},{key:"list_wikipages",value:function(){var n=this;return this.setupLayoutIfNeeded(),r.e(117).then(function(){var e,t,o;return e=r(623).default,o=new e({collection:n.collection}),(t=n.collection.fetch()).done(function(){var e;if(n.layout.showChildView("content",o),!n.collection.length)return l.request("warning","adding initial page"),(e=new(u.request("main:app:AuthModel"))).url="/api/dev/bsapi/main/wikipages/X32_ABI",e.fetch().done(function(){return window.location.hash="#"})}),t.fail(function(){return l.request("danger","Failed to load wikipages.")})}.bind(null,r)).catch(r.oe)}},{key:"view_wikipage",value:function(o){var n=this;return this.setupLayoutIfNeeded(),r.e(118).then(function(){var e,t;return e=r(626),t=i.request("db:wikipage:get",o),console.log("MODEL",t),n._load_view(e,t,"wikipage")}.bind(null,r)).catch(r.oe)}}]),t);function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return e.prototype.layoutClass=h.ToolbarAppletLayout,e.prototype.collection=i.request("db:wikipage:collection"),e}.call(void 0),t.default=a}])]);
//# sourceMappingURL=22-a7936758d738be9f0024.js.map