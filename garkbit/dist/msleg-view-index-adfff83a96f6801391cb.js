(self.webpackJsonp=self.webpackJsonp||[]).push([[54],{206:function(e,t,n){"use strict";var r,o,i,u,l;o=n(1),n(2),n(185),l=n(95),o.Radio.channel("global"),r=o.Radio.channel("msleg"),u=function(e,n){return new l.Parser({explicitArray:!1,normalizeTags:!0,async:!1}).parseString(e.responseText,function(e,t){return n(t)})},i=function(e,t){var n;return(n=o.ajax({type:"GET",dataType:"text",url:e})).done(function(){return u(n,t)})},r.reply("get-xml-url",function(e,t){return i(e,t)}),e.exports={get_xml:i,parse_xhr_xml:u}},417:function(e,t,n){"use strict";var c,a,s,r,o,p,i,f,u,l=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a=n(1),o=n(2),u=n(3),n(95),n(5).default,s=n(418),n(206).get_xml,f=n(419),i=n(420),a.Radio.channel("messages"),c=a.Radio.channel("msleg"),p=function(e){function t(){return b(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,i),l(t,[{key:"url",value:function(){return c.request("get-msleg-config").hr_membs}}]),t}(),r=function(){var e=function(e){function t(){return b(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,o.View),l(t,[{key:"onRender",value:function(){var e,t,n,r,o,i,u,l=this;return o=new p,u=o.url(),t=c.request("get-local-xmlobject-model"),console.log("LocalObject",t,u),r=new t({url:u}),e=c.request("get-local-xmlobject-collection"),n=new e,i=n.fetch({data:{url:u}}),console.log("localObject",r),console.log("response",i,r),i.fail(function(){return i=o.fetch({dataType:"text"}),console.log("RESPONSE",i),i.done(function(){var e;return console.log("members",o),console.log("object",o.toJSON()),e={url:u,content:o.toJSON()},c.request("save-local-xmlObject",e).done(function(){var e;return o=f(o.toJSON()),n=new a.Collection(o),e=new s({collection:n}),l.showChildView("houseMembers",e)})}),i.fail(function(){return console.warn("members",o)})})}}]),t}();return e.prototype.template=u.renderable(function(e){return u.h1("MS Legislature Demo"),u.div(".house-members")}),e.prototype.ui={houseMembers:".house-members"},e.prototype.regions={houseMembers:"@ui.houseMembers"},e.prototype.templateContext={appName:"msleg"},e}.call(void 0),e.exports=r},418:function(e,t,n){"use strict";var r,o,i,u,l,c,a=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(0),r=n(1),l=n(2),c=n(3),n(85),n(86),r.Radio.channel("global"),r.Radio.channel("ebcsv"),i=function(){var e=function(e){function t(){return s(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,l.View),a(t,[{key:"linkClicked",value:function(e){return e.preventDefault(),console.log("MODEL",this.model.get("link"))}}]),t}();return e.prototype.tagName="div",e.prototype.className="col-md-3",e.prototype.template=c.renderable(function(e){var t;return t="#FFF5EE"===e.bgc?".bg-body-d10.text-light":"#FFEFD5"===e.bgc?".bg-body-d5":".bg-warning",c.a(t,{href:"#msleg/house/members/view/"+e.id},function(){return c.text(e.name)})}),e.prototype.ui={link:"a"},e.prototype.events={"click @ui.link":"linkClicked"},e}.call(void 0),o=function(){var e=function(e){function t(){return s(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,l.CollectionView),t}();return e.prototype.childView=i,e.prototype.className="row",e}.call(void 0),u=function(){var e=function(e){function t(){return s(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,l.View),a(t,[{key:"onRender",value:function(){var e;return e=new o({collection:this.collection}),this.showChildView("members",e)}}]),t}();return e.prototype.template=c.renderable(function(){return c.div(".members.col-md-10.offset-md-1")}),e.prototype.ui={members:".members"},e.prototype.regions={members:"@ui.members"},e}.call(void 0),e.exports=u},419:function(e,t,n){"use strict";var h,y,l,r;y=["bgc","link","name"],h=function(e,t){return"m"+e+"_"+t},l=function(e){var t,n,r,o,i,u,l,c,a,s,p,f,b;for(c=[],Object.keys(e).length,t=0,i=(p=[1,2,3,4,5]).length;t<i;t++){for(a=p[t],l={},r=0,u=y.length;r<u;r++)b=e[n=h(a,f=y[r])],l[f]=e[n],"link"===f&&b&&(o=(s=b.split("/"))[s.length-1],l.id=o.split(".")[0]);c.push(l)}return c},r=function(e){var t,n,r,o,i,u;for({},i=[],t=0,n=(r=e.legislature.member).length;t<n;t++)u=r[t],o=l(u),i=i.concat(o);return i},e.exports=r},420:function(e,t,n){"use strict";var r,o,i,u=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();r=n(1),n(2),n(41),n(206).parse_xhr_xml,i=n(95),r.Radio.channel("global"),r.Radio.channel("msleg"),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Model),u(t,[{key:"parse",value:function(e){var n=this;return new i.Parser({explicitArray:!1,normalizeTags:!0,async:!1}).parseString(e,function(e,t){return n.unset("content"),n.set(t)}),{content:e}}}]),t}(),e.exports=o}}]);
//# sourceMappingURL=msleg-view-index-adfff83a96f6801391cb.js.map