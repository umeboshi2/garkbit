(self.webpackJsonp=self.webpackJsonp||[]).push([[17],{112:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=(a(n(1)),a(n(2)));function a(e){return e&&e.__esModule?e:{default:e}}r=n(97),n(98),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Behavior),i(t,[{key:"options",value:function(){return{jviewSelector:".jsonview"}}},{key:"ui",value:function(){return{jsonView:this.getOption("jviewSelector")}}},{key:"onDomRefresh",value:function(){var e;return e=this.view.model.toJSON(),this.view.jsonView=new r(e),this.ui.jsonView.prepend(this.view.jsonView.dom)}}]),t}(),t.default=o},121:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=(a(n(2)),a(n(20))),i=a(n(5)),u=a(n(21));function a(e){return e&&e.__esModule?e:{default:e}}var l,c,s,f=[].indexOf;c=Backbone.Radio.channel("global"),Backbone.Radio.channel("messages"),s=Backbone.Radio.channel("site-nav"),l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"before",value:function(e,t){var n,o,r,a,l,s,p;if(p=c.request("main:app:decode-auth-token"),o=!1,l=this.getOption("permittedGroups")||["admin"],!(0,u.default)(p))for(r=0,a=(s=p.groups).length;r<a;r++)n=s[r],f.call(l,n)>=0&&(o=!0);if(!o)return(0,i.default)("#"),c.request("main:app:show-login")}},{key:"onRoute",value:function(){var e;return e=this.getOption("navbarEntries")||"admin",s.request("set-"+e+"-entries")}}]),t}(),t.default=l},168:function(e,t,n){"use strict";var o,r,i,u,a,l,c,s=d(n(0)),f=d(n(1)),p=(d(n(2)),d(n(108)));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a=f.default.Radio.channel("global"),f.default.Radio.channel("messages"),l="/api/dev/sitedocuments",r=a.request("main:app:AuthModel"),o=a.request("main:app:AuthCollection"),c={channelName:"resources"},i=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,r),t}();return e.prototype.urlRoot=l,e}.call(void 0),u=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,o),t}();return e.prototype.url=l,e.prototype.model=i,e}.call(void 0),new p.default(s.default.extend(c,{modelName:"document",modelClass:i,collectionClass:u}))},215:function(e,t,n){"use strict";var o,r,i,u,a,l,c,s,f,p,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}o=n(4),r=n(1),l=n(2),p=n(3),f=n(28),a=r.Radio.channel("global"),i=p.renderable(function(e){return p.article(".document-view.content",function(){return p.div(".body",function(){return p.raw(f(e.content))})})}),c=["vanilla","cornsilk","BlanchedAlmond","DarkSeaGreen","LavenderBlush"],s=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,l.View),d(t,[{key:"events",value:function(){return{"click @ui.theme":"switch_theme"}}},{key:"templateContext",value:function(){return{ui:this.ui}}},{key:"switch_theme",value:function(e){var t;return t=o(e.target).html(),this.performSwitch(t)}},{key:"performSwitch",value:function(e){return console.log("performSwitch",e),a.request("main:app:set-theme",e),a.request("main:app:switch-theme",e)}}]),t}();return e.prototype.ui={stylesheet:"#main-stylesheet",theme:".theme"},e.prototype.template=p.renderable(function(e){return p.div(function(){return c.forEach(function(e){return p.div(".theme.btn.btn-primary",e)})})}),e}.call(void 0),u=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,l.View),t}();return e.prototype.template=i,e}.call(void 0),e.exports={FrontDoorMainView:u,ThemeSwitchView:s}},217:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});l(n(0));var o,r,i,u,a=l(n(1));l(n(2)),l(n(108));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=a.default.Radio.channel("global"),a.default.Radio.channel("dbadmin"),r=i.request("main:app:AuthModel"),o=i.request("main:app:AuthCollection"),u=function(e){var t,n,i;return i="/api/dev/dbadmin/models/"+e,n=function(){var t=function(e){function t(){return c(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,r),t}();return t.prototype.modelType=e,t.prototype.urlRoot=i,t}.call(this),t=function(){var e=function(e){function t(){return c(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,o),t}();return e.prototype.model=n,e.prototype.url=i,e}.call(this),{modelType:e,modelClass:n,collectionClass:t}},t.default=u},218:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0},c=h(n(169)),s=h(n(1)),f=h(n(2)),p=h(n(3)),d=(h(n(8)),h(n(28)));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}s.default.Radio.channel("global"),s.default.Radio.channel("messages"),s.default.Radio.channel("fromtdoor"),i=function(e){function t(){return y(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,d.default.Renderer),a(t,[{key:"link",value:function(e,n,o){var r;return e.startsWith("#")?l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"link",this).call(this,e,n,o):("."===(r=c.default.dirname(location.hash))&&(r="#frontdoor/view"),e.startsWith("http")||(e=c.default.join(r,e)),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"link",this).call(this,e,n,o))}}]),t}(),u=new i,o=p.default.renderable(function(e){return p.default.article(".document-view.content",function(){return p.default.div(".body",function(){return p.default.raw((0,d.default)(e.content,{renderer:u}))})})}),r=function(){var e=function(e){function t(){return y(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,f.default.View),t}();return e.prototype.template=o,e}.call(void 0),t.default=r},219:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatsView=t.ThemeSwitchView=t.FrontDoorMainView=void 0;var o,r,i,u,a,l,c,s,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),p=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0},d=m(n(169)),h=m(n(4)),y=m(n(1)),b=m(n(2)),v=m(n(3)),_=m(n(28)),w=m(n(112));function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=y.default.Radio.channel("global"),u=function(e){function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,_.default.Renderer),f(t,[{key:"link",value:function(e,n,o){var r;return e.startsWith("#")?p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"link",this).call(this,e,n,o):("."===(r=d.default.dirname(location.hash))&&(r="#frontdoor/view"),e.startsWith("http")||(e=d.default.join(r,e)),p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"link",this).call(this,e,n,o))}}]),t}(),s=new u,o=v.default.renderable(function(e){return v.default.article(".document-view.content",function(){return v.default.div(".body",function(){return v.default.raw((0,_.default)(e.content,{renderer:s}))})})}),l=["vanilla","cornsilk","BlanchedAlmond","DarkSeaGreen","LavenderBlush"],t.ThemeSwitchView=c=function(){var e=function(e){function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,b.default.View),f(t,[{key:"events",value:function(){return{"click @ui.theme":"switch_theme"}}},{key:"templateContext",value:function(){return{ui:this.ui}}},{key:"switch_theme",value:function(e){var t;return t=(0,h.default)(e.target).html(),this.performSwitch(t)}},{key:"performSwitch",value:function(e){return console.log("performSwitch",e),i.request("main:app:set-theme",e),i.request("main:app:switch-theme",e)}}]),t}();return e.prototype.ui={stylesheet:"#main-stylesheet",theme:".theme"},e.prototype.template=v.default.renderable(function(e){return v.default.div(function(){return l.forEach(function(e){return v.default.div(".theme.btn.btn-primary",e)})})}),e}.call(void 0),t.FrontDoorMainView=r=function(){var e=function(e){function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,b.default.View),t}();return e.prototype.template=o,e}.call(void 0),t.StatsView=a=function(){var e=function(e){function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,b.default.View),t}();return e.prototype.template=v.default.renderable(function(e){return v.default.div(".jsonview.listview-list-entry",{style:"overflow:auto"})}),e.prototype.behaviors={HasJsonView:{behaviorClass:w.default}},e}.call(void 0),t.FrontDoorMainView=r,t.ThemeSwitchView=c,t.StatsView=a},294:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=(p(n(2)),p(n(93))),c=(p(n(5)),p(n(295))),s=p(n(121)),f=p(n(298));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Backbone.Radio.channel("global"),Backbone.Radio.channel("messages"),i=Backbone.Radio.channel("site-nav"),u=[{label:"User Admin",menu:[{label:"List Users",url:"#useradmin/user/list",icon:".fa.fa-list"},{label:"Add New User",url:"#useradmin/user/add",icon:".fa.fa-plus"},{label:"Hubby Dbadmin",url:"#admin/dbadmin/hubby",icon:".fa.fa-database"}]}],r=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,s.default),t}();return e.prototype.appRoutes={admin:"frontdoor","admin/view":"frontdoor","admin/login":"show_login","admin/logout":"show_logout","admin/dbadmin/hubby":"viewHubby"},e}.call(void 0),o=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,l.default),a(t,[{key:"onStart",value:function(){return i.request("set-admin-entries")}},{key:"onStop",value:function(){return console.log("(Child) Stopping admin",this.isRunning()),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onStop",this).call(this)}}]),t}();return e.prototype.Controller=c.default,e.prototype.Router=r,e.prototype.appletEntries=u,e.prototype.extraRouters={useradmin:f.default},e}.call(void 0),t.default=o},295:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0},i=s(n(1)),u=s(n(2)),a=n(29),l=(n(16),s(n(33))),c=s(n(5));function s(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(168);var h,y,b,v,_,w,m,g=[].indexOf;y=i.default.Radio.channel("global"),b=i.default.Radio.channel("messages"),i.default.Radio.channel("static-documents"),_=i.default.Radio.channel("resources"),m=n(3),v=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,i.default.Model),o(t,[{key:"fetch",value:function(e){return(e=e||{}).dataType="text",r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fetch",this).call(this,e)}},{key:"parse",value:function(e){return{content:e}}}]),t}();return e.prototype.url="/assets/documents/intro-admin.md",e}.call(void 0),w=m.renderable(function(){return m.div(".row",function(){return m.div("#main-content")})}),function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,u.default.View),o(t,[{key:"regions",value:function(){return{content:new l.default({el:"#main-content",speed:"slow"})}}},{key:"onBeforeDestroy",value:function(e){0}}]),t}();return e.prototype.template=w,e}.call(void 0),h=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,a.MainController),o(t,[{key:"setupLayoutIfNeeded",value:function(){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setupLayoutIfNeeded",this).call(this),this.layout.controller=this}},{key:"_view_resource",value:function(e){var t;return this.setupLayoutIfNeeded(),t=new(0,n(215).FrontDoorMainView)({model:e}),this.layout.showChildView("content",t)}},{key:"_view_login",value:function(){var e;return e=new(n(296)),this.layout.showChildView("content",e)}},{key:"_view_upload",value:function(){var e=this;return Promise.all([n.e(14),n.e(38)]).then(function(){var t;return t=new(n(365)),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"upload_view",value:function(){return this.setupLayoutIfNeeded(),this._view_upload()}},{key:"view_page",value:function(e){var t,n,o=this;return(n=(t=_.request("get-document",e)).fetch()).done(function(){return t.get("content")||t.set("content","# Need a front page."),o._view_resource(t)}),n.fail(function(){return b.request("danger","Failed to get document")})}},{key:"frontdoor_needuser",value:function(){var e;return e=y.request("main:app:decode-auth-token"),g.call(Object.keys(e),"name")>=0?this.frontdoor_hasuser(e):this.show_login()}},{key:"show_login",value:function(){return this.setupLayoutIfNeeded(),this._view_login()}},{key:"show_logout",value:function(){return y.request("main:app:destroy-auth-token"),(0,c.default)("/")}},{key:"frontdoor_hasuser",value:function(e){return this.default_view()}},{key:"view_readme",value:function(){var e,t,n=this;return console.log("view_readme",this),this.setupLayoutIfNeeded(),(t=(e=new v).fetch()).done(function(){return n._view_resource(e)}),t.fail(function(){return b.request("warning","failed to get readme")})}},{key:"default_view",value:function(){return this.setupLayoutIfNeeded(),this.view_readme()}},{key:"frontdoor",value:function(){var e;return(null!=(e=y.request("main:app:config"))?e.needLogin:void 0)?this.frontdoor_needuser():this.default_view()}},{key:"start",value:function(){return this.frontdoor()}},{key:"themeSwitcher",value:function(){var e;return this.setupLayoutIfNeeded(),e=new(0,n(215).ThemeSwitchView),this.layout.showChildView("content",e),console.log("themeSwitcher")}},{key:"viewHubby",value:function(){var e;return this.setupLayoutIfNeeded(),e=new(n(297)),this.layout.showChildView("content",e)}}]),t}(),t.default=h},296:function(e,t,n){"use strict";var o,r,i,u,a,l,c,s,f,p,d,h,y,b,v,_,w=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}o=n(4),r=n(1),s=n(2),v=n(3),y=n(19).default,b=n(5).default;var j=n(16);d=j.form_group_input_div,u=n(17).default,l=r.Radio.channel("global"),f=r.Radio.channel("messages"),h=v.renderable(function(e){return d({input_id:"input_username",label:"User Name",input_attributes:{name:"username",placeholder:"User Name"}}),d({input_id:"input_password",label:"Password",input_attributes:{name:"password",type:"password",placeholder:"Type your password here...."}}),v.input(".btn.btn-primary",{type:"submit",value:"login"}),v.div(".spinner.fa.fa-spinner.fa-spin")}),i=function(e){function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O(t,u),w(t,[{key:"ui",value:function(){return y(this.fieldList)}},{key:"createModel",value:function(){return new r.Model}},{key:"onSuccess",value:function(){return b("/admin")}}]),t}(),a=function(){var e=function(e){function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O(t,i),w(t,[{key:"updateModel",value:function(){return console.log("updateModel called"),this.model.set("username",this.ui.username.val()),this.model.set("password",this.ui.password.val())}},{key:"saveModel",value:function(){var e,t,n,r=this;return t=this.model.get("username"),e=this.model.get("password"),n=o.ajax({url:"/login",type:"POST",data:{username:t,password:e},dataType:"json",success:function(e){var t;return t=e.token,l.request("main:app:set-auth-token",t),r.trigger("save:form:success",r.model)},error:function(e){var t;return t=e.responseJSON,f.request("danger",t.message),r.trigger("save:form:failure",r.model)}}),console.log("returning xhr",n)}}]),t}();return e.prototype.template=h,e.prototype.fieldList=["username","password"],e}.call(void 0),_=v.renderable(function(e){return d({input_id:"input_token",label:"Auth Token",input_attributes:{name:"token",placeholder:"xxxxxxxxxxxxxxx"}}),v.input(".btn.btn-primary",{type:"submit",value:"login"}),v.div(".spinner.fa.fa-spinner.fa-spin")}),p=function(){var e=function(e){function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O(t,i),w(t,[{key:"updateModel",value:function(){return console.log("updateModel called"),this.model.set("token",this.ui.token.val())}},{key:"saveModel",value:function(){var e,t,n=this;return t=this.model.get("token"),l.request("main:app:set-auth-token",t),(e=(new(l.request("main:app:AuthRefresh"))).fetch()).fail(function(){return n.trigger("save:form:failure",n.model)}),e.done(function(){return n.trigger("save:form:success",n.model)})}}]),t}();return e.prototype.template=_,e.prototype.fieldList=["token"],e}.call(void 0),c=function(){var e=function(e){function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O(t,s.View),w(t,[{key:"onRender",value:function(){return this.showChildView("login",new a),this.showChildView("token",new p)}}]),t}();return e.prototype.template=v.renderable(function(e){return v.div("#login-form"),v.div("#token-form")}),e.prototype.regions={login:"#login-form",token:"#token-form"},e}.call(void 0),e.exports=c},297:function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,l,c,s,f,p,d,h,y,b,v,_,w,m=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")};n(4),l=n(1),h=n(2),w=n(3),n(28),f=n(154),v=n(216),d=l.Radio.channel("global"),y=l.Radio.channel("messages"),a=d.request("main:app:AuthModel"),d.request("main:app:AuthCollection"),b=function(){var e=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,a),t}();return e.prototype.url="/rest/v0/main/hubby/dbadmin/testme",e}.call(void 0),s=function(){var e=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,a),t}();return e.prototype.url="/rest/v0/main/hubby/dbadmin/delete-all",e}.call(void 0),c=function(){var e=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,a),t}();return e.prototype.url="/rest/v0/main/hubby/dbadmin/testme",e}.call(void 0),_=w.renderable(function(e){return w.div(".dropzone.card",function(){return w.div(".card-header",function(){return w.text("drop a dump of meetings to upload")}),w.div(".card-body",function(){return w.div(".parse-btn.btn.btn-primary",{style:"display:none"},function(){return w.text("upload dropped meetings")}),w.input(".file-input.input",{type:"file"}),w.span(".parse-chosen-btn.btn.btn-primary",{style:"display:none"},function(){return w.text("Parse dropped meetings")})})})}),p=function(){var e=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.successfulParse=e.successfulParse.bind(e),e.fileReaderOnLoad=e.fileReaderOnLoad.bind(e),e}return u(t,h.View),o(t,[{key:"deleteBtnClicked",value:function(){var e;return console.log("deleteBtnClicked"),(e=new s).fetch().done(function(){return y.request("success",e.get("result"))})}},{key:"fileInputClicked",value:function(e){return console.log("file_input_clicked",e),this.ui.fileInput.val(null),this.ui.chosenBtn.hide()}},{key:"fileInputChanged",value:function(e){return console.log("file_input_changed",e),this.ui.chosenBtn.show()}},{key:"handleDrop",value:function(e){var t;return e.preventDefault(),this.ui.dropzone.css("border","0px"),t=e.originalEvent.dataTransfer.files[0],this.ui.statusMsg.text("File: "+t.name),this.droppedFile=t,this.ui.parseBtn.show()}},{key:"handleDragOver",value:function(e){return e.preventDefault(),e.stopPropagation()}},{key:"handleDragEnter",value:function(e){return e.stopPropagation(),e.preventDefault(),this.ui.dropzone.css("border","2px dotted")}},{key:"successfulParse",value:function(){return m(this,t),this.ui.statusMsg.text("Parse Successful"),y.request("success","successfulParse")}},{key:"fileReaderOnLoad",value:function(e){var n,o,r,i,u=this;return m(this,t),n=e.target.result,o=e.target.fileObject.name,this.ui.statusMsg.text("Retrieved file content of "+o),i=(r=new b({content:btoa(n)})).save(),this.ui.statusMsg.text("Uploaded "+o+"."),i.fail(function(){return y.request("warning","failed to save model")}),i.done(function(){var e;return console.log("MODEL",r),e=r.get("data"),r.get("output"),y.request("success","Finished import year "+e.year),u.ui.statusMsg.text("Finished import year "+e.year)})}},{key:"readFile",value:function(e){var t;return(t=new FileReader).onload=this.fileReaderOnLoad,t.fileObject=e,t.readAsBinaryString(e)}},{key:"handleChosenFile",value:function(){var e,t;return t=this.ui.fileInput.val(),this.ui.statusMsg.text("Reading chosen file...("+t+")"),e=this.ui.fileInput[0].files[0],this.ui.parseBtn.hide(),this.readFile(e)}},{key:"handleDroppedFile",value:function(){return this.ui.statusMsg.text("Reading dropped file... ("+this.droppedFile.name+")"),this.ui.parseBtn.hide(),this.readFile(this.droppedFile)}},{key:"exportBtnClicked",value:function(){var e;return this.ui.statusMsg.text("Exporting database..."),(e=new c).fetch().done(function(){var t,n;return n={filename:"dbdump.json.xz",type:"application/octet-stream",data:e.get("content")},console.log("content",n.data),t=v(n.data,n.type),console.log("BLOB",t),f.saveAs(t,n.filename),y.request("primary","Exported database...."),console.log("exported",e)})}}]),t}();return e.prototype.template=w.renderable(function(e){return w.div(".listview-header","Hubby Dbadmin"),w.button(".delete-btn.btn.btn-danger","Delete"),w.button(".export-btn.btn.btn-info","Export"),_(e)}),e.prototype.ui={header:".listview-header",deleteBtn:".delete-btn",fileInput:".file-input",parseBtn:".parse-btn",chosenBtn:".parse-chosen-btn",exportBtn:".export-btn",dropzone:".dropzone",statusMsg:".card-header"},e.prototype.events={"dragover @ui.dropzone":"handleDragOver","dragenter @ui.dropzone":"handleDragEnter","drop @ui.dropzone":"handleDrop","click @ui.fileInput":"fileInputClicked","change @ui.fileInput":"fileInputChanged","click @ui.parseBtn":"handleDroppedFile","click @ui.chosenBtn":"handleChosenFile","click @ui.deleteBtn":"deleteBtnClicked","click @ui.exportBtn":"exportBtnClicked"},e}.call(void 0),e.exports=p},298:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});u(n(2));var o,r=u(n(299)),i=u(n(121));function u(e){return e&&e.__esModule?e:{default:e}}o=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),t}();return e.prototype.appRoutes={"admin/useradmin":"listUsers","admin/user/list":"listUsers","admin/user/add":"addNewUser","admin/user/view/:id":"viewUser","admin/user/edit/:id":"editUser"},e}.call(void 0),t.default={router:o,controller:r.default}},299:function(e,t,n){"use strict";var o,r,i,u,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(4),o=n(1),n(2),n(3),n(8),n(29).ExtraController,u=o.Radio.channel("global"),i=u.request("crud:Controller"),r=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),a(t,[{key:"initialize",value:function(e){this.applet=u.request("main:applet:get-applet","adminpanel"),this.mainController=this.applet.router.controller}},{key:"listUsers",value:function(){var e=this;n.e(83).then(function(){var t;return t=n(369),e.listItems(t)}.bind(null,n)).catch(n.oe)}},{key:"viewUser",value:function(e){var t=this;n.e(84).then(function(){var o;return o=n(370),t.viewItem(o,e)}.bind(null,n)).catch(n.oe)}},{key:"addNewUser",value:function(){var e;e=u.request("crud:view:new-item"),this.addItem(e)}},{key:"editUser",value:function(e){var t;t=u.request("crud:view:edit-item"),this.editItem(t,e)}}]),t}();return e.prototype.defaultColumns=["id","username","fullname"],e.prototype.viewOptions={fieldList:["username","fullname","email"],entryField:"fullname",modelName:"user",label:"user",routeName:"admin"},e.prototype.channelName="useradmin",e}.call(void 0),e.exports=r},306:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u=f(n(1)),a=(f(n(2)),f(n(20)),f(n(93))),l=f(n(18)),c=f(n(121)),s=f(n(307));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}u.default.Radio.channel("global"),u.default.Radio.channel("company"),i=[{label:"Main",url:"#company",icon:".fa.fa-star"},{label:"Add Workers",url:"#company/potential-workers",icon:".fa.fa-plus"}],r=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,c.default),t}();return e.prototype.channelName="company",e.prototype.permittedGroups=["admin","boss","worker"],e.prototype.navbarEntries="index",e.prototype.appRoutes={company:"viewIndex","company/boss/add":"addBoss","company/boss/list":"viewIndex","company/company/list":"listCompanies","company/company/view/:id":"viewCompany","company/company/add":"addCompany","company/worker":"workerIndex","company/session/view/:id":"viewWorkSession"},e}.call(void 0),o=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,a.default),t}();return e.prototype.Controller=s.default,e.prototype.Router=r,e.prototype.appletEntries=[{label:(0,l.default)("company")+" Menu",menu:i}],e}.call(void 0),t.default=o},307:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=f(n(1)),c=(f(n(2)),f(n(3)),f(n(8)),f(n(94)),n(29)),s=n(30);f(n(5)),f(n(31));function f(e){return e&&e.__esModule?e:{default:e}}n(308),i=l.default.Radio.channel("global"),u=l.default.Radio.channel("messages"),o=l.default.Radio.channel("company"),r=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.MainController),a(t,[{key:"viewIndex",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(27).then(function(){var t;return t=new(0,n(379).default),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"addBoss",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(24).then(function(){var t;return t=new(0,n(381).default),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"addCompany",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(25).then(function(){var t;return t=new(0,n(382).default),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"listCompanies",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(28).then(function(){var t,o,r;return t=e.getChannel().request("db:company:collection"),r=new(0,n(384).default)({collection:t}),e.layout.showChildView("content",r),(o=t.fetch()).done(function(){return console.log("models fetched",t)}),o.fail(function(){return u.request("xhr-error",o)})}.bind(null,n)).catch(n.oe)}},{key:"viewCompany",value:function(e){var t=this;return this.setupLayoutIfNeeded(),n.e(29).then(function(){var r,i,a;return r=n(385).default,i=o.request("db:company:get",e),(a=i.fetch()).done(function(){var e;return e=new r({model:i}),t.layout.showChildView("content",e)}),a.fail(function(){return u.request("xhr-error",a)})}.bind(null,n)).catch(n.oe)}},{key:"workerIndex",value:function(e){var t=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(1),n.e(3),n.e(88),n.e(31)]).then(function(){var e,r,u;return e=n(387).default,r=i.request("main:app:decode-auth-token"),u=new e({model:o.request("db:worker:get",r.uid)}),t.layout.showChildView("content",u)}.bind(null,n)).catch(n.oe)}},{key:"viewCalendar",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(1),n.e(3),n.e(26)]).then(function(){var t;return t=new(0,n(397).default),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"viewWorkSession",value:function(e){var t=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(1),n.e(3),n.e(30)]).then(function(){var r,a,l;return r=n(398).default,i.request("main:app:decode-auth-token"),l=o.request("db:worksession:get",e),(a=l.fetch()).fail(function(){return u.request("xhr-error",a)}),a.done(function(){var e;return e=new r({model:l}),t.layout.showChildView("content",e)})}.bind(null,n)).catch(n.oe)}}]),t}();return e.prototype.channelName="company",e.prototype.layoutClass=s.ToolbarAppletLayout,e}.call(void 0),t.default=r},308:function(e,t,n){"use strict";var o,r,i,u,a,l,c,s,f,p,d,h,y,b,v,_,w,m=j(n(0)),g=j(n(1)),O=(j(n(2)),j(n(108)));j(n(35));function j(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}s=g.default.Radio.channel("global"),o=g.default.Radio.channel("company"),v="/api/dev/company",i=s.request("main:app:AuthModel"),r=s.request("main:app:AuthCollection"),_={},w={channelName:"company"},u=function(){var e=function(e){function t(){return P(this,t),k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return C(t,i),t}();return e.prototype.urlRoot="/api/dev/company/boss",e.prototype.validation={name:{minLength:2,required:!0}},e}.call(void 0),a=function(){var e=function(e){function t(){return P(this,t),k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return C(t,r),t}();return e.prototype.model=u,e.prototype.url="/api/dev/company/boss",e}.call(void 0),_.boss=new O.default(m.default.extend(w,{modelName:"boss",modelClass:u,collectionClass:a})),l=function(){var e=function(e){function t(){return P(this,t),k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return C(t,i),t}();return e.prototype.urlRoot="/api/dev/company/company",e.prototype.validation={name:{required:!0}},e}.call(void 0),c=function(){var e=function(e){function t(){return P(this,t),k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return C(t,r),t}();return e.prototype.model=l,e.prototype.url="/api/dev/company/company",e}.call(void 0),_.company=new O.default(m.default.extend(w,{modelName:"company",modelClass:l,collectionClass:c})),y=function(){var e=function(e){function t(){return P(this,t),k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return C(t,i),t}();return e.prototype.urlRoot="/api/dev/company/worker",e}.call(void 0),b=function(){var e=function(e){function t(){return P(this,t),k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return C(t,r),t}();return e.prototype.model=y,e.prototype.url="/api/dev/company/worker",e}.call(void 0),_=new O.default(m.default.extend(w,{modelName:"worker",modelClass:y,collectionClass:b})),d=function(){var e=function(e){function t(){return P(this,t),k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return C(t,i),t}();return e.prototype.urlRoot="/api/dev/company/worksession",e}.call(void 0),h=function(){var e=function(e){function t(){return P(this,t),k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return C(t,r),t}();return e.prototype.model=d,e.prototype.url="/api/dev/company/worksession",e}.call(void 0),_=new O.default(m.default.extend(w,{modelName:"worksession",modelClass:d,collectionClass:h})),f=function(){var e=function(e){function t(){return P(this,t),k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return C(t,r),t}();return e.prototype.url=v+"/potential-workers",e}.call(void 0),o.reply("get-potential-workers",function(){return new f}),p=function(){var e=function(e){function t(){return P(this,t),k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return C(t,i),t}();return e.prototype.urlRoot="/api/dev/company/time-clock",e}.call(void 0),o.reply("TimeClock",function(){return p})},309:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u=f(n(1)),a=(f(n(2)),f(n(93))),l=f(n(18)),c=f(n(310)),s=f(n(121));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}u.default.Radio.channel("global"),u.default.Radio.channel("dbadmin"),i=[{label:"Main",url:"#dbadmin",icon:".fa.fa-star"},{label:"List Models",url:"#dbadmin/models",icon:".fa.fa-list"}],r=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,s.default),t}();return e.prototype.channelName="dbadmin",e.prototype.appRoutes={dbadmin:"viewIndex","dbadmin/models":"listModelTypes","dbadmin/models/:modelType":"listModels"},e}.call(void 0),o=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,a.default),t}();return e.prototype.Controller=c.default,e.prototype.Router=r,e.prototype.appletEntries=[{label:(0,l.default)("dbadmin")+" Menu",menu:i}],e}.call(void 0),t.default=o},310:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=d(n(1)),s=(d(n(2)),d(n(3)),d(n(8)),d(n(94)),n(29)),f=n(30),p=(d(n(5)),d(n(31)),d(n(217)));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=c.default.Radio.channel("global"),u=c.default.Radio.channel("messages"),c.default.Radio.channel("dbadmin"),i.request("main:app:AuthModel"),o=i.request("main:app:AuthCollection"),a=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,o),t}();return e.prototype.url="/api/dev/dbadmin/list-models",e}.call(void 0),r=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,s.MainController),l(t,[{key:"viewIndex",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(5),n.e(89),n.e(32)]).then(function(){var t;return t=new(0,n(399).default),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"listModelTypes",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(33).then(function(){var t;return t=n(480).default,e.collection.fetch().done(function(){var n;return n=new t({collection:e.collection}),e.layout.showChildView("content",n)})}.bind(null,n)).catch(n.oe)}},{key:"listModels",value:function(e){var t=this;return this.setupLayoutIfNeeded(),n.e(34).then(function(){var o,r,i,a;return o=n(481).default,r=(0,p.default)(e),i=new r.collectionClass,(a=i.fetch()).fail(function(){return u.request("xhr-error",a)}),a.done(function(){var e;return i.forEach(function(e){var t;return t=e.toJSON(),(0,p.default)(t.name)}),e=new o({collection:i}),t.layout.showChildView("content",e)})}.bind(null,n)).catch(n.oe)}}]),t}();return e.prototype.layoutClass=f.ToolbarAppletLayout,e.prototype.collection=new a,e}.call(void 0),t.default=r},311:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});c(n(2));var o=c(n(93)),r=c(n(121));n(168);var i,u,a,l=c(n(312));function c(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Backbone.Radio.channel("global"),Backbone.Radio.channel("resources"),a=[{button:"#list-button",label:"List",url:"#dbdocs/documents",icon:".fa.fa-list"},{label:"Add New Document",url:"#dbdocs/documents/new",icon:".fa.fa-plus"}],u=function(){var e=function(e){function t(){return s(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,r.default),t}();return e.prototype.appRoutes={dbdocs:"list_pages","dbdocs/documents":"list_pages","dbdocs/documents/new":"new_page","dbdocs/documents/view/:id":"view_page","dbdocs/documents/edit/:id":"edit_page"},e}.call(void 0),i=function(){var e=function(e){function t(){return s(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,o.default),t}();return e.prototype.Controller=l.default,e.prototype.Router=u,e.prototype.appletEntries=[{label:"Site Doc Menu",menu:a}],e}.call(void 0),t.default=i},312:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l,c,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),f=n(29),p=n(94),d=(o=p)&&o.__esModule?o:{default:o},h=n(30);Backbone.Radio.channel("global"),u=Backbone.Radio.channel("messages"),a=Backbone.Radio.channel("resources"),r=Backbone.Radio.channel("dbdocs"),l=[],c=new Backbone.Collection(l),r.reply("get-toolbar-entries",function(){return c}),i=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.MainController),s(t,[{key:"setupLayoutIfNeeded",value:function(){var e;return function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setupLayoutIfNeeded",this).call(this),e=new d.default({collection:c}),this.layout.showChildView("toolbar",e)}},{key:"list_pages",value:function(){var e=this;return this.setupLayoutIfNeeded(),console.log("List Pages"),n.e(36).then(function(){var t,o,r;return t=n(482),r=new t({collection:e.collection}),(o=e.collection.fetch()).done(function(){return e.layout.showChildView("content",r)}),o.fail(function(){return u.request("danger","Failed to load documents.")})}.bind(null,n)).catch(n.oe)}},{key:"edit_page",value:function(e){var t=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(13),n.e(6)]).then(function(){var o,r;return o=n(263).EditPageView,r=a.request("db:document:get",e),t._loadView(o,r)}.bind(null,n)).catch(n.oe)}},{key:"view_page",value:function(e){var t=this;return this.setupLayoutIfNeeded(),n.e(35).then(function(){var o,r;return o=n(489),r=a.request("db:document:get",e),t._loadView(o,r)}.bind(null,n)).catch(n.oe)}},{key:"new_page",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(13),n.e(6)]).then(function(){var t;return t=new(0,n(263).NewPageView),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}}]),t}();return e.prototype.layoutClass=h.ToolbarAppletLayout,e.prototype.collection=a.request("db:document:collection"),e}.call(void 0),t.default=i},313:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l=p(n(1)),c=(p(n(2)),p(n(93))),s=p(n(18)),f=p(n(314));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=l.default.Radio.channel("global"),l.default.Radio.channel("eliza"),o=i.request("main:app:IndexRouter"),a=[{label:"Main",url:"#eliza",icon:".fa.fa-terminal.text-light.bg-dark"}],u=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,o),t}();return e.prototype.channelName="eliza",e.prototype.appRoutes={eliza:"viewIndex"},e}.call(void 0),r=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,c.default),t}();return e.prototype.Controller=f.default,e.prototype.Router=u,e.prototype.appletEntries=[{label:(0,s.default)("eliza")+" Menu",menu:a}],e}.call(void 0),t.default=r},314:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=c(n(1)),u=(c(n(2)),c(n(3)),c(n(8)),c(n(94))),a=n(29),l=n(30);c(n(5)),c(n(31));function c(e){return e&&e.__esModule?e:{default:e}}i.default.Radio.channel("global"),i.default.Radio.channel("messages"),i.default.Radio.channel("eliza"),o=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.MainController),r(t,[{key:"setupLayoutIfNeededOrig",value:function(){var e;return function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setupLayoutIfNeededOrig",this).call(this),e=new u.default({collection:new i.default.Collection(toolbarEntries)}),this.layout.showChildView("toolbar",e)}},{key:"viewIndex",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(90),n.e(37)]).then(function(){var t;return t=new(0,n(490).default),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}}]),t}();return e.prototype.layoutClass=l.ToolbarAppletLayout,e}.call(void 0),t.default=o},315:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=(f(n(2)),f(n(93))),s=f(n(316));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=Backbone.Radio.channel("global"),Backbone.Radio.channel("frontdoor"),o=i.request("main:app:IndexRouter"),a=[{id:"company",label:"Company",url:"#company",icon:".fa.fa-users"},{id:"places",label:"Places",url:"#places",icon:".fa.fa-globe"},{id:"todos",label:"Todo List",url:"#todos",icon:".fa.fa-list"},{id:"sunny",label:"Sunny",url:"#sunny",icon:".fa.fa-sun-o"}],u=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,o),t}();return e.prototype.channelName="frontdoor",e.prototype.appRoutes={"":"frontdoor",frontdoor:"frontdoor","frontdoor/view":"frontdoor","frontdoor/view/*name":"viewPage","frontdoor/login":"showLogin","frontdoor/logout":"showLogout",login:"showLogin",logout:"showLogout","pages/:name":"viewPage"},e}.call(void 0),r=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,c.default),l(t,[{key:"onStop",value:function(){return console.log("(Child) Stopping frontdoor",this.isRunning()),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onStop",this).call(this)}}]),t}();return e.prototype.Controller=s.default,e.prototype.Router=u,e.prototype.appletEntries=[{label:"Main Menu",menu:a}],e}.call(void 0),t.default=r},316:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0},i=(f(n(169)),f(n(1))),u=(f(n(2)),f(n(33))),a=f(n(5)),l=n(30),c=f(n(317)),s=f(n(218));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y,b,v,_,w,m,g,O,j,P,k=[].indexOf,C=n(29);w=C.MainController,n(16).login_form,n(168),_=i.default.Radio.channel("global"),m=i.default.Radio.channel("messages"),i.default.Radio.channel("static-documents"),i.default.Radio.channel("resources"),O=i.default.Radio.channel("site-nav"),P=n(3),y=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,i.default.Model),o(t,[{key:"fetch",value:function(e){return(e=e||{}).dataType="text",r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fetch",this).call(this,e)}},{key:"parse",value:function(e){return{content:e}}}]),t}(),function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,i.default.Collection),t}();return e.prototype.urlRoot="/assets/documents",e}.call(void 0),g=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,y),t}();return e.prototype.url="/assets/documents/intro.md",e}.call(void 0),j=P.renderable(function(){return P.div(".row",function(){return P.div("#main-content")})}),v=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,l.BaseAppletLayout),o(t,[{key:"regions",value:function(){return{content:new u.default({el:"#main-content",speed:"slow"})}}}]),t}();return e.prototype.template=j,e}.call(void 0),b=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,w),o(t,[{key:"setupLayoutIfNeeded",value:function(){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setupLayoutIfNeeded",this).call(this),this.layout.controller=this}},{key:"_viewResource",value:function(e){var t;return this.setupLayoutIfNeeded(),t=new s.default({model:e}),this.layout.showChildView("content",t)}},{key:"_viewLogin",value:function(){var e;return e=new c.default,this.layout.showChildView("content",e)}},{key:"frontdoor_needuser",value:function(){var e;return e=_.request("main:app:decode-auth-token"),k.call(Object.keys(e),"name")>=0?this.frontdoor_hasuser(e):this.show_login()}},{key:"showLogin",value:function(){return this.setupLayoutIfNeeded(),this._viewLogin()}},{key:"showLogout",value:function(){return _.request("main:app:destroy-auth-token"),O.request("set-index-entries"),(0,a.default)("#")}},{key:"frontdoor_hasuser",value:function(e){return this.defaultView()}},{key:"view_readme",value:function(){var e,t,n=this;return this.setupLayoutIfNeeded(),(t=(e=new g).fetch()).done(function(){return n._viewResource(e)}),t.fail(function(){return m.request("warning","failed to get readme")})}},{key:"viewPage",value:function(e){var t,n,o=this;return this.setupLayoutIfNeeded(),(n=(t=_.request("main:app:get-document",e)).fetch()).done(function(){return o._viewResource(t)}),n.fail(function(){return m.request("warning","failed to get "+e)})}},{key:"defaultView",value:function(){return this.setupLayoutIfNeeded(),this.view_readme()}},{key:"frontdoor",value:function(){var e;return(null!=(e=_.request("main:app:config"))?e.needLogin:void 0)?this.frontdoor_needuser():this.defaultView()}}]),t}();return e.prototype.layoutClass=v,e}.call(void 0),t.default=b},317:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l,c,s,f,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=m(n(4)),h=m(n(1)),y=m(n(2)),b=m(n(3)),v=m(n(19)),_=m(n(5)),w=m(n(17));function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var P=n(16);c=P.form_group_input_div,i=h.default.Radio.channel("global"),a=h.default.Radio.channel("messages"),s=b.default.renderable(function(e){return c({input_id:"input_username",label:"User Name",input_attributes:{name:"username",placeholder:"User Name"}}),c({input_id:"input_password",label:"Password",input_attributes:{name:"password",type:"password",placeholder:"Type your password here...."}}),b.default.input(".btn.btn-primary",{type:"submit",value:"login"}),b.default.div(".spinner.fa.fa-spinner.fa-spin")}),o=function(e){function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,w.default),p(t,[{key:"ui",value:function(){return(0,v.default)(this.fieldList)}},{key:"createModel",value:function(){return new h.default.Model}},{key:"onSuccess",value:function(){return(0,_.default)("#")}}]),t}(),r=function(){var e=function(e){function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,o),p(t,[{key:"updateModel",value:function(){return console.log("updateModel called"),this.model.set("username",this.ui.username.val()),this.model.set("password",this.ui.password.val())}},{key:"saveModel",value:function(){var e,t,n,o=this;return t=this.model.get("username"),e=this.model.get("password"),n=d.default.ajax({url:"/login",type:"POST",data:{username:t,password:e},dataType:"json",success:function(e){var t;return t=e.token,i.request("main:app:set-auth-token",t),o.trigger("save:form:success",o.model)},error:function(e){var t;return t=e.responseJSON,a.request("danger",t.message),o.trigger("save:form:failure",o.model)}}),console.log("returning xhr",n)}}]),t}();return e.prototype.template=s,e.prototype.fieldList=["username","password"],e}.call(void 0),f=b.default.renderable(function(e){return c({input_id:"input_token",label:"Auth Token",input_attributes:{name:"token",placeholder:"xxxxxxxxxxxxxxx"}}),b.default.input(".btn.btn-primary",{type:"submit",value:"login"}),b.default.div(".spinner.fa.fa-spinner.fa-spin")}),l=function(){var e=function(e){function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,o),p(t,[{key:"updateModel",value:function(){return console.log("updateModel called"),this.model.set("token",this.ui.token.val())}},{key:"saveModel",value:function(){var e,t,n,o=this;return n=this.model.get("token"),i.request("main:app:set-auth-token",n),e=new(i.request("main:app:AuthRefresh")),(t=e.fetch()).fail(function(){var e;return e=t.responseJSON,a.request("danger",e.message),o.trigger("save:form:failure",o.model)}),t.done(function(){return o.trigger("save:form:success",o.model)})}}]),t}();return e.prototype.template=f,e.prototype.fieldList=["token"],e}.call(void 0),u=function(){var e=function(e){function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,y.default.View),p(t,[{key:"onRender",value:function(){return this.showChildView("login",new r),this.showChildView("token",new l)}}]),t}();return e.prototype.template=b.default.renderable(function(e){return b.default.div("#login-form"),b.default.div("#token-form")}),e.prototype.regions={login:"#login-form",token:"#token-form"},e}.call(void 0),t.default=u},318:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l=p(n(1)),c=(p(n(2)),p(n(93))),s=p(n(18)),f=p(n(319));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=l.default.Radio.channel("global"),l.default.Radio.channel("hourly"),o=i.request("main:app:IndexRouter"),a=[{label:"Main",url:"#hourly",icon:".fa.fa-star"},{label:"List Workers",url:"#hourly/list-workers",icon:".fa.fa-list"},{label:"Add Workers",url:"#hourly/potential-workers",icon:".fa.fa-plus"},{label:"Calendar",url:"#hourly/calendar",icon:".fa.fa-calendar"}],u=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,o),t}();return e.prototype.channelName="hourly",e.prototype.appRoutes={hourly:"viewIndex","hourly/calendar":"viewCalendar","hourly/potential-workers":"viewPotentialWorkers","hourly/list-workers":"viewWorkers"},e}.call(void 0),r=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,c.default),t}();return e.prototype.Controller=f.default,e.prototype.Router=u,e.prototype.appletEntries=[{label:(0,s.default)("hourly")+" Menu",menu:a}],e}.call(void 0),t.default=r},319:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=s(n(1)),l=(s(n(2)),s(n(3)),s(n(8)),s(n(94)),n(29)),c=n(30);s(n(5)),s(n(31));function s(e){return e&&e.__esModule?e:{default:e}}n(320),r=a.default.Radio.channel("global"),i=a.default.Radio.channel("messages"),a.default.Radio.channel("hourly"),o=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.MainController),u(t,[{key:"viewIndex",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(43).then(function(){var t,o,i;return t=r.request("main:app:decode-auth-token"),i=e.getChannel().request("db:worker:get",t.uid),o=new(n(529))({model:i}),e.layout.showChildView("content",o)}.bind(null,n)).catch(n.oe)}},{key:"viewCalendar",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(1),n.e(42)]).then(function(){var t;return t=new(0,n(531).default),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"viewWorkers",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(44).then(function(){var t,o,r;return t=e.getChannel().request("db:worker:collection"),r=new(0,n(532).default)({collection:t}),e.layout.showChildView("content",r),(o=t.fetch()).done(function(){return console.log("workers fetched")}),o.fail(function(){return i.request("danger",o.responseJSON.message)})}.bind(null,n)).catch(n.oe)}},{key:"viewPotentialWorkers",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(45).then(function(){var t,o,r;return t=e.getChannel().request("get-potential-workers"),r=new(0,n(533).default)({collection:t}),(o=t.fetch()).done(function(){return console.log("pworkers fetched",t)}),o.fail(function(){return console.log("pworkers.fetch() failed",o),i.request("danger",o.responseJSON.message)}),e.layout.showChildView("content",r)}.bind(null,n)).catch(n.oe)}}]),t}();return e.prototype.channelName="hourly",e.prototype.layoutClass=c.ToolbarAppletLayout,e}.call(void 0),t.default=o},320:function(e,t,n){"use strict";var o,r,i,u,a,l,c,s,f,p,d,h,y=_(n(0)),b=_(n(1)),v=(_(n(2)),_(n(108)));function _(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}u=b.default.Radio.channel("global"),o=b.default.Radio.channel("hourly"),p="/api/dev/hourly",i=u.request("main:app:AuthModel"),r=u.request("main:app:AuthCollection"),h={channelName:"hourly"},s=function(){var e=function(e){function t(){return w(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,i),t}();return e.prototype.urlRoot="/api/dev/hourly/crud/workers",e}.call(void 0),f=function(){var e=function(e){function t(){return w(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,r),t}();return e.prototype.model=s,e.prototype.url="/api/dev/hourly/crud/workers",e}.call(void 0),new v.default(y.default.extend(h,{modelName:"worker",modelClass:s,collectionClass:f})),l=function(){var e=function(e){function t(){return w(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,i),t}();return e.prototype.urlRoot="/api/dev/hourly/crud/worksessions",e}.call(void 0),c=function(){var e=function(e){function t(){return w(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,r),t}();return e.prototype.model=l,e.prototype.url="/api/dev/hourly/crud/worksessions",e}.call(void 0),new v.default(y.default.extend(h,{modelName:"worksession",modelClass:l,collectionClass:c})),a=function(){var e=function(e){function t(){return w(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,r),t}();return e.prototype.url=p+"/potential-workers",e}.call(void 0),o.reply("get-potential-workers",function(){return new a}),d=void 0,o.reply("maincalendar:set-date",function(){var e;e=$("#maincalendar"),d=e.fullCalendar("getDate")}),o.reply("maincalendar:get-date",function(){return d})},321:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u=f(n(1)),a=(f(n(2)),f(n(20))),l=f(n(93)),c=f(n(18)),s=f(n(322));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}u.default.Radio.channel("global"),u.default.Radio.channel("junk"),i=[{id:"dbadmin",label:"Db Admin",url:"#junk/dbadmin",icon:".fa.fa-database"},{id:"emojilist",label:"List Emojis",url:"#junk/emojilist",icon:".fa.fa-smile-o.text-dark.bg-warning"}],r=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,a.default),t}();return e.prototype.channelName="junk",e.prototype.appRoutes={junk:"viewIndex","junk/upload":"uploadView","junk/themes":"themeSwitcher","junk/emojilist":"viewEmojis","junk/dbadmin":"viewDbAdmin"},e}.call(void 0),o=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,l.default),t}();return e.prototype.Controller=s.default,e.prototype.Router=r,e.prototype.appletEntries=[{label:(0,c.default)("junk")+" Menu",menu:i}],e}.call(void 0),t.default=o},322:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=l(n(1)),u=(l(n(2)),l(n(3)),l(n(8)),l(n(94)),n(29)),a=n(30);l(n(5)),l(n(31));function l(e){return e&&e.__esModule?e:{default:e}}i.default.Radio.channel("global"),i.default.Radio.channel("messages"),i.default.Radio.channel("junk"),o=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.MainController),r(t,[{key:"viewIndex",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(50).then(function(){var t;return t=new(0,n(534).default),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"viewEmojis",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(47).then(function(){var t;return t=new(n(535)),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"viewDbAdmin",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(49).then(function(){var t;return t=new(n(536)),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"uploadView",value:function(){return this.setupLayoutIfNeeded(),this._viewUpload()}},{key:"_viewUpload",value:function(){var e=this;return Promise.all([n.e(14),n.e(48)]).then(function(){var t;return t=new(n(537)),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"themeSwitcher",value:function(){var e;return this.setupLayoutIfNeeded(),e=new(0,n(219).ThemeSwitchView),this.layout.showChildView("content",e),console.log("themeSwitcher")}},{key:"statsView",value:function(){var e,t,o=this;this.setupLayoutIfNeeded();var r=n(219);return e=r.StatsView,(t=new i.default.Model).url="/stats.json",t.fetch().done(function(){var n;return n=new e({model:t}),o.layout.showChildView("content",n)})}}]),t}();return e.prototype.channelName="junk",e.prototype.layoutClass=a.ToolbarAppletLayout,e}.call(void 0),t.default=o},336:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=p(n(1)),r=(p(n(2)),p(n(93))),i=p(n(18));n(337);var u,a,l,c,s,f=p(n(338));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}console.log("dbchannel imported"),l=o.default.Radio.channel("global"),o.default.Radio.channel("muppy"),u=l.request("main:app:IndexRouter"),s=[{label:"Muppy Home",url:"#muppy",icon:".fa.fa-home"},{label:"List",url:"#muppy/summaries",icon:".fa.fa-list"},{label:"Calendar",url:"#muppy/calendar",icon:".fa.fa-calendar"}],c=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,u),t}();return e.prototype.channelName="muppy",e.prototype.appRoutes={muppy:"viewIndex","muppy/summaries":"listSummaries","muppy/summary/view/:id":"viewSummary"},e}.call(void 0),a=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,r.default),t}();return e.prototype.Controller=f.default,e.prototype.Router=c,e.prototype.appletEntries=[{label:(0,i.default)("muppy")+" Menu",menu:s}],e}.call(void 0),t.default=a},337:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u,a,l,c,s,f,p,d,h,y,b;y=n(0),l=n(1),n(115),c=n(108).default,s=l.Radio.channel("global"),l.Radio.channel("muppy"),a=s.request("main:app:AuthModel"),u=s.request("main:app:AuthCollection"),b={channelName:"muppy"},f=function(){var e=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,a),t}();return e.prototype.urlRoot="/api/dev/memleak/summary",e}.call(void 0),p=function(){var e=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,u),t}();return e.prototype.url="/api/dev/memleak/summary",e.prototype.model=f,e}.call(void 0),new c(y.extend(b,{modelName:"summary",modelClass:f,collectionClass:p})),h=function(){var e=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,a),t}();return e.prototype.urlRoot="/api/dev/memdiff",e}.call(void 0),d=function(){var e=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,u),t}();return e.prototype.model=h,e.prototype.url="/api/dev/memdiff",e}.call(void 0),new c(y.extend(b,{modelName:"sumdiff",modelClass:h,collectionClass:d}))},338:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=c(n(1)),a=(c(n(2)),c(n(3)),c(n(8)),c(n(94)),n(29)),l=n(30);c(n(5)),c(n(31));function c(e){return e&&e.__esModule?e:{default:e}}u.default.Radio.channel("global"),u.default.Radio.channel("messages"),o=u.default.Radio.channel("muppy"),r=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.MainController),i(t,[{key:"viewIndex",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(54).then(function(){var t;return t=new(0,n(558).default),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"viewSummary",value:function(e){var t=this;return this.setupLayoutIfNeeded(),n.e(56).then(function(){var r,i;return r=n(560),(i=o.request("db:summary:get",e)).fetch().done(function(){var e;return e=new r({model:i}),t.layout.showChildView("content",e),console.log("SUMMARY",i)})}.bind(null,n)).catch(n.oe)}},{key:"listSummaries",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(55).then(function(){var t,r;return t=n(561),(r=o.request("db:summary:collection")).fetch().done(function(){var n;return n=new t({collection:r}),e.layout.showChildView("content",n)})}.bind(null,n)).catch(n.oe)}}]),t}();return e.prototype.layoutClass=l.ToolbarAppletLayout,e}.call(void 0),t.default=r},339:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=p(n(1)),r=(p(n(2)),p(n(93))),i=p(n(18));n(340);var u,a,l,c,s,f=p(n(341));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}l=o.default.Radio.channel("global"),o.default.Radio.channel("netark"),u=l.request("main:app:IndexRouter"),s=[{label:"List",url:"#netark",icon:".fa.fa-list"},{label:"SciFi Movies",url:"#netark/scifi/list",icon:".fa.fa-film"},{label:"Search",url:"#netark/search",icon:".fa.fa-search"}],c=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,u),t}();return e.prototype.channelName="netark",e.prototype.appRoutes={netark:"viewIndex","netark/otrr/list":"listOtrr","netark/librivox/list":"listLibrivox","netark/scifi/list":"listSciFiMovies","netark/misc/list":"listMiscStuff","netark/view/:id":"viewMetadata","netark/search":"searchView"},e}.call(void 0),a=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,r.default),t}();return e.prototype.Controller=f.default,e.prototype.Router=c,e.prototype.appletEntries=[{label:(0,i.default)("netark")+" Menu",menu:s}],e}.call(void 0),t.default=a},340:function(e,t,n){"use strict";var o,r,i,u,a,l,c,s,f,p=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(4),r=n(1),a=n(32),i=r.Radio.channel("global"),o=r.Radio.channel("netark"),i.request("main:app:AuthModel"),i.request("main:app:AuthCollection"),s=function(e,t){var n,o;return o=t.server,n=t.dir,"/api/dev/proxy/","/api/dev/proxy/"+btoa("https://"+o+n+"/"+e)},f=function(e,t){return"//"+t.server+t.dir+"/"+e},u=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,r.Model),d(t,[{key:"fileUrl",value:function(e){return s(e,this.toJSON())}}]),t}();return e.prototype.urlRoot="https://archive.org/metadata",e}.call(void 0),o.reply("get-file-url",function(e,t){return s(e,t)}),o.reply("get-image-url",function(e,t){return f(e,t)}),o.reply("get-metadata-model",function(){return u}),l=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,a),d(t,[{key:"parse",value:function(e){return console.log("PARSE",e),null===this.state.totalRecords&&(this.state.totalRecords=e.total,this._checkState(this.state)),console.log("totalRecords",this.state.totalRecords),p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"parse",this).call(this,e.items)}}]),t}();return e.prototype.mode="server",e.prototype.url="/api/dev/proxy/https://archive.org/services/search/v1/scrape",e.prototype.state={pageSize:100},e.prototype.queryParams={pageSize:"count"},e}.call(void 0),o.reply("Scraper",function(){return l}),c=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,a),d(t,[{key:"parse",value:function(e){return console.log("PARSE",e),null===this.state.totalRecords&&(this.state.totalRecords=e.response.numFound,this._checkState(this.state)),console.log("totalRecords",this.state.totalRecords),p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"parse",this).call(this,e.response.docs)}}]),t}();return e.prototype.mode="server",e.prototype.url="/api/dev/proxy/https://archive.org/advancedsearch.php",e.prototype.state={pageSize:20,firstPage:1},e.prototype.queryParams={pageSize:"rows",output:"json",q:function(){return this.query}},e}.call(void 0),o.reply("SearchResults",function(){return c}),e.exports={TodoCollection:u}},341:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=c(n(1)),a=(c(n(2)),c(n(3)),c(n(8)),c(n(94)),n(29)),l=n(30);c(n(5)),c(n(31));function c(e){return e&&e.__esModule?e:{default:e}}u.default.Radio.channel("global"),u.default.Radio.channel("messages"),u.default.Radio.channel("resources"),o=u.default.Radio.channel("netark"),r=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.MainController),i(t,[{key:"viewIndex",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(58).then(function(){var t;return t=new(n(562)),e.layout.showChildView("content",t),e.scrollTop()}.bind(null,n)).catch(n.oe)}},{key:"listOtrr",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(61).then(function(){var t;return t=new(n(565)),e.layout.showChildView("content",t),e.scrollTop()}.bind(null,n)).catch(n.oe)}},{key:"listLibrivox",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(61).then(function(){var t;return t=new(n(569)),e.layout.showChildView("content",t),e.scrollTop()}.bind(null,n)).catch(n.oe)}},{key:"listSciFiMovies",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(62).then(function(){var t;return t=new(n(570)),e.layout.showChildView("content",t),e.scrollTop()}.bind(null,n)).catch(n.oe)}},{key:"listMiscStuff",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(60).then(function(){var t;return t=new(n(576)),e.layout.showChildView("content",t),e.scrollTop()}.bind(null,n)).catch(n.oe)}},{key:"searchView",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(57).then(function(){var t;return t=new(n(578)),e.layout.showChildView("content",t),e.scrollTop()}.bind(null,n)).catch(n.oe)}},{key:"viewMetadata",value:function(e){var t,r=this;return this.setupLayoutIfNeeded(),t=o.request("get-metadata-model"),n.e(59).then(function(){var o,i;return o=n(579),i=new t({id:e}),console.log("model---",i),i.fetch().done(function(){var e;return console.log("MODEL----------\x3e",i),e=new o({model:i}),r.layout.showChildView("content",e),r.scrollTop()})}.bind(null,n)).catch(n.oe)}}]),t}();return e.prototype.layoutClass=l.ToolbarAppletLayout,e}.call(void 0),t.default=r},342:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u=f(n(1)),a=(f(n(2)),f(n(20))),l=f(n(93)),c=f(n(18)),s=f(n(343));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}u.default.Radio.channel("global"),u.default.Radio.channel("places"),i=[{label:"Main",url:"#places",icon:".fa.fa-star"},{label:"Your Places",url:"#places/list",icon:".fa.fa-list"},{label:"All Places",url:"#places/all",icon:".fa.fa-globe"}],r=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,a.default),t}();return e.prototype.channelName="places",e.prototype.appRoutes={places:"viewIndex","places/list":"listPlaces","places/view/:id":"viewPlace","places/all":"viewAllPlaces"},e}.call(void 0),o=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,l.default),t}();return e.prototype.Controller=s.default,e.prototype.Router=r,e.prototype.appletEntries=[{label:(0,c.default)("places")+" Menu",menu:i}],e}.call(void 0),t.default=o},343:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=s(n(1)),l=(s(n(2)),s(n(3)),s(n(8)),s(n(94)),n(29)),c=n(30);s(n(5)),s(n(31));function s(e){return e&&e.__esModule?e:{default:e}}n(344),a.default.Radio.channel("global"),i=a.default.Radio.channel("messages"),o=a.default.Radio.channel("places"),r=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.MainController),u(t,[{key:"viewIndex",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(0),n.e(63)]).then(function(){var t,r;return t=o.request("db:userlocation:collection"),(r=t.fetch()).fail(function(){return i.request("xhr-error",r)}),r.done(function(){var o;return o=new(0,n(580).default)({collection:t}),e.layout.showChildView("content",o)})}.bind(null,n)).catch(n.oe)}},{key:"listPlaces",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(0),n.e(93),n.e(64)]).then(function(){var t,r;return t=o.request("db:userlocation:collection"),(r=t.fetch()).fail(function(){return i.request("xhr-error",r)}),r.done(function(){var o;return o=new(0,n(585).default)({collection:t}),e.layout.showChildView("content",o)})}.bind(null,n)).catch(n.oe)}},{key:"viewPlace",value:function(e){var t=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(0),n.e(65)]).then(function(){var r,u;return r=o.request("db:userlocation:get",e),(u=r.fetch()).fail(function(){return i.request("xhr-error",u)}),u.done(function(){var e;return e=new(0,n(586).default)({model:r}),t.layout.showChildView("content",e)})}.bind(null,n)).catch(n.oe)}},{key:"viewAllPlaces",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(0),n.e(93),n.e(64)]).then(function(){var t;return t=new(0,n(588).default),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}}]),t}();return e.prototype.channelName="places",e.prototype.layoutClass=c.ToolbarAppletLayout,e}.call(void 0),t.default=r},344:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l,c,s=d(n(0)),f=d(n(1)),p=(d(n(2)),d(n(108)));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=f.default.Radio.channel("global"),f.default.Radio.channel("places"),r=i.request("main:app:AuthModel"),o=i.request("main:app:AuthCollection"),l={},c={channelName:"places"},u=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,r),t}();return e.prototype.urlRoot="/api/dev/places/user",e}.call(void 0),a=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,o),t}();return e.prototype.model=u,e.prototype.url="/api/dev/places/user",e}.call(void 0),l.userlocation=new p.default(s.default.extend(c,{modelName:"userlocation",modelClass:u,collectionClass:a})),t.default=l},345:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=p(n(1)),r=(p(n(2)),p(n(93))),i=p(n(18));n(346);var u,a,l,c,s,f=p(n(347));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}l=o.default.Radio.channel("global"),o.default.Radio.channel("messages"),o.default.Radio.channel("sunny"),u=l.request("main:app:IndexRouter"),s=[{label:"List",url:"#sunny/clients",icon:".fa.fa-list"},{label:"New Client",url:"#sunny/clients/new",icon:".fa.fa-list"},{label:"Map View",url:"#sunny/mapview",icon:".fa.fa-globe"}],c=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,u),t}();return e.prototype.channelName="sunny",e.prototype.appRoutes={sunny:"listClients","sunny/clients":"listClients","sunny/clients/new":"newClient","sunny/clients/edit/:id":"editClient","sunny/clients/view/:id":"viewClient","sunny/yards/add/:client_id":"addYard","sunny/yards/view/:id":"viewYard","sunny/yards/routines/:yard_id":"yardRoutines","sunny/mapview":"mapView"},e}.call(void 0),a=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,r.default),t}();return e.prototype.Controller=f.default,e.prototype.Router=c,e.prototype.appletEntries=[{label:(0,i.default)("sunny")+" Menu",menu:s}],e}.call(void 0),t.default=a},346:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l,c,s,f,p,d,h,y,b,v,_,w,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),g=P(n(0)),O=P(n(1)),j=(P(n(2)),P(n(108)));function P(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function R(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}c=O.default.Radio.channel("global"),O.default.Radio.channel("sunny"),b="/api/dev/sunny/crud",r=c.request("main:app:AuthModel"),o=c.request("main:app:AuthCollection"),v={},_={channelName:"sunny"},w=b+"/client",i=function(){var e=function(e){function t(){return k(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return R(t,r),t}();return e.prototype.urlRoot=w,e}.call(void 0),u=function(){var e=function(e){function t(){return k(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return R(t,o),t}();return e.prototype.model=i,e.prototype.url=w,e}.call(void 0),v.client=new j.default(g.default.extend(_,{modelName:"client",modelClass:i,collectionClass:u})),w=b+"/yard",s=function(){var e=function(e){function t(){return k(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return R(t,r),t}();return e.prototype.urlRoot=w,e}.call(void 0),y=function(){var e=function(e){function t(){return k(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return R(t,o),t}();return e.prototype.model=s,e.prototype.url=w,e}.call(void 0),v.yard=new j.default(g.default.extend(_,{modelName:"yard",modelClass:s,collectionClass:y})),w=b+"/yardroutine",f=function(){var e=function(e){function t(){return k(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return R(t,r),m(t,[{key:"defaults",value:function(){return{frequency:14,leeway:3,rate:50,active:!0,routine_date:new Date}}}]),t}();return e.prototype.urlRoot=w,e}.call(void 0),h=function(){var e=function(e){function t(){return k(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return R(t,o),t}();return e.prototype.model=f,e.prototype.url=w,e}.call(void 0),v.yardroutine=new j.default(g.default.extend(_,{modelName:"yardroutine",modelClass:f,collectionClass:h})),w=b+"/yardroutinejob",p=function(){var e=function(e){function t(){return k(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return R(t,r),t}();return e.prototype.urlRoot=w,e}.call(void 0),d=function(){var e=function(e){function t(){return k(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return R(t,o),t}();return e.prototype.model=p,e.prototype.url=w,e}.call(void 0),v.yardroutinejob=new j.default(g.default.extend(_,{modelName:"yardroutinejob",modelClass:p,collectionClass:d})),w="/api/dev/sunny/gpslocations",a=function(){var e=function(e){function t(){return k(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return R(t,r),t}();return e.prototype.urlRoot=w,e}.call(void 0),l=function(){var e=function(e){function t(){return k(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return R(t,o),t}();return e.prototype.model=a,e.prototype.url=w,e}.call(void 0),v.location=new j.default(g.default.extend(_,{modelName:"location",modelClass:a,collectionClass:l})),t.default=v},347:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=h(n(1)),l=n(2),c=h(n(3)),s=h(n(8)),f=(h(n(94)),n(29)),p=n(30),d=h(n(33));h(n(5)),h(n(31));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a.default.Radio.channel("global"),i=a.default.Radio.channel("messages"),o=a.default.Radio.channel("sunny"),function(){var e=function(e){function t(){return y(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,l.View),u(t,[{key:"regions",value:function(){var e;return(e=new d.default({el:"#main-content"})).slide_speed=(0,s.default)(".01s"),{content:e}}}]),t}();return e.prototype.template=c.default.renderable(function(){return c.default.div("#main-content.col-sm-12")}),e}.call(void 0),r=function(){var e=function(e){function t(){return y(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,f.MainController),u(t,[{key:"listClients",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(68).then(function(){var t,o,r;return t=n(622),r=new t({collection:e.clients}),(o=e.clients.fetch()).done(function(){return e.layout.showChildView("content",r)}),o.fail(function(){return i.request("xhr-error",o)})}.bind(null,n)).catch(n.oe)}},{key:"newClient",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(8).then(function(){var t;return t=n(167).NewClientView,e.layout.showChildView("content",new t)}.bind(null,n)).catch(n.oe)}},{key:"addYard",value:function(e){var t=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(0),n.e(4),n.e(7)]).then(function(){var r,i,u;return r=n(288).default,console.log("YardView",r),(i=o.request("db:yard:new")).set("sunnyclient_id",e),u=new r({model:i}),t.layout.showChildView("content",u)}.bind(null,n)).catch(n.oe)}},{key:"viewYard",value:function(e){var t=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(0),n.e(4),n.e(7)]).then(function(){var r,u,a;return r=n(288).default,(u=o.request("db:yard:get",e)).has("sunnyclient")?t._show_edit_client(r,u):(a=u.fetch({data:{include:"*"}})).done(function(){return t._show_edit_client(r,u)}),a.fail(function(){return i.request("xhr-error",a)})}.bind(null,n)).catch(n.oe)}},{key:"yardRoutines",value:function(e){return console.log("yard_routines",e)}},{key:"_show_edit_client",value:function(e,t){var n;return n=new e({model:t}),this.layout.showChildView("content",n)}},{key:"editClient",value:function(e){var t=this;return this.setupLayoutIfNeeded(),n.e(8).then(function(){var r,u,a,l=n(167);return r=l.EditClientView,(u=o.request("db:client:get",e)).has("name")?t._show_edit_client(r,u):((a=u.fetch()).done(function(){return t._show_edit_client(r,u)}),a.fail(function(){return i.request("xhr-error",a)}))}.bind(null,n)).catch(n.oe)}},{key:"_fetch_yards_and_view_client",value:function(e,t){var n,r,u=this;return(r=(n=o.request("db:yard:collection")).fetch({data:{where:{sunnyclient_id:e.id}}})).done(function(){var o;return o=new t({model:e,collection:n}),window.cview=o,u.layout.showChildView("content",o)}),r.fail(function(){return i.request("danger","Failed to load yards.")})}},{key:"viewClient",value:function(e){var t=this;return this.setupLayoutIfNeeded(),n.e(67).then(function(){var r,u,a;return r=n(629),(u=o.request("db:client:get",e)).has("name")?t._fetch_yards_and_view_client(u,r):((a=u.fetch()).done(function(){return t._fetch_yards_and_view_client(u,r)}),a.fail(function(){return i.request("danger","Failed to load client data.")}))}.bind(null,n)).catch(n.oe)}},{key:"mapView",value:function(){var e=this;return this.setupLayoutIfNeeded(),console.log("layout should be ready"),Promise.all([n.e(0),n.e(66)]).then(function(){var t;return t=new(n(631)),e.layout.showChildView("content",t),console.log("view shown?",t)}.bind(null,n)).catch(n.oe)}}]),t}();return e.prototype.layoutClass=p.ToolbarAppletLayout,e.prototype.clients=o.request("db:client:collection"),e}.call(void 0),t.default=r},348:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l=p(n(1)),c=(p(n(2)),p(n(93))),s=p(n(18)),f=p(n(349));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=l.default.Radio.channel("global"),l.default.Radio.channel("taxes"),o=i.request("main:app:IndexRouter"),a=[{label:"Main Tax Page",url:"#taxes",icon:".fa.fa-newspaper-o"}],u=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,o),t}();return e.prototype.channelName="taxes",e.prototype.appRoutes={taxes:"viewIndex","taxes/pages/*name":"viewPage"},e}.call(void 0),r=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,c.default),t}();return e.prototype.Controller=f.default,e.prototype.Router=u,e.prototype.appletEntries=[{label:(0,s.default)("taxes")+" Menu",menu:a}],e}.call(void 0),t.default=r},349:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=f(n(1)),l=(f(n(2)),f(n(3)),f(n(8)),f(n(94)),n(29)),c=n(30),s=(f(n(5)),f(n(31)),f(n(218)));function f(e){return e&&e.__esModule?e:{default:e}}r=a.default.Radio.channel("global"),i=a.default.Radio.channel("messages"),a.default.Radio.channel("taxes"),o=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.MainController),u(t,[{key:"viewPage",value:function(e){var t,n,o=this;return console.log("name is",e),this.setupLayoutIfNeeded(),(n=(t=r.request("main:app:get-document",e)).fetch()).done(function(){var e;return e=new s.default({model:t}),o.layout.showChildView("content",e)}),n.fail(function(){return i.request("warning","failed to get "+e)})}},{key:"viewIndex",value:function(){return this.viewPage("taxes/index")}}]),t}();return e.prototype.layoutClass=c.ToolbarAppletLayout,e}.call(void 0),t.default=o},350:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(1)),r=(s(n(2)),s(n(93)));n(351);var i,u,a,l,c=s(n(352));function s(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a=o.default.Radio.channel("global"),o.default.Radio.channel("todos"),i=a.request("main:app:IndexRouter"),l=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,i),t}();return e.prototype.channelName="todos",e.prototype.appRoutes={todos:"list_todos","todos/completed":"list_completed_todos","todos/calendar":"view_calendar","todos/todos/new":"new_todo","todos/todos/edit/:id":"edit_todo","todos/todos/view/:id":"view_todo"},e}.call(void 0),u=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,r.default),t}();return e.prototype.Controller=c.default,e.prototype.Router=l,e.prototype.appletEntries=[{label:"Todos Menu",menu:[{label:"list todos",icon:".fa.fa-list",url:"#todos"},{label:"Calendar",url:"#todos/calendar",icon:".fa.fa-calendar"},{label:"new todo",icon:".fa.fa-plus",url:"#todos/todos/new"}]}],e}.call(void 0),t.default=u},351:function(e,t,n){"use strict";var o,r,i,u,a,l,c,s,f,p,d,h,y=_(n(0)),b=_(n(1)),v=(_(n(2)),_(n(108)));function _(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}o=n(4),a=b.default.Radio.channel("global"),r=b.default.Radio.channel("todos"),u=a.request("main:app:AuthModel"),i=a.request("main:app:AuthCollection"),h="/api/dev/bapi/todos",p={channelName:"todos"},l=function(){var e=function(e){function t(){return w(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,u),t}();return e.prototype.urlRoot=h,e.prototype.defaults={completed:!1},e}.call(void 0),s=function(){var e=function(e){function t(){return w(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,i),t}();return e.prototype.url=h,e.prototype.model=l,e}.call(void 0),new v.default(y.default.extend(p,{modelName:"todo",modelClass:l,collectionClass:s})),c=function(){var e=function(e){function t(){return w(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,i),t}();return e.prototype.url="/api/dev/basic/todos/create-cal",e.prototype.model=l,e}.call(void 0),d=new c,r.reply("todocal-collection",function(){return d}),f=void 0,r.reply("maincalendar:set-date",function(){var e;e=o("#maincalendar"),f=e.fullCalendar("getDate")}),r.reply("maincalendar:get-date",function(){return f})},352:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=d(n(1)),s=(d(n(2)),d(n(3)),d(n(8)),d(n(94))),f=n(29),p=n(30);d(n(5)),d(n(31));function d(e){return e&&e.__esModule?e:{default:e}}c.default.Radio.channel("global"),i=c.default.Radio.channel("messages"),c.default.Radio.channel("resources"),o=c.default.Radio.channel("todos"),u=[],a=new c.default.Collection(u),o.reply("get-toolbar-entries",function(){return a}),r=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.MainController),l(t,[{key:"setupLayoutIfNeeded",value:function(){var e;return function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setupLayoutIfNeeded",this).call(this),e=new s.default({collection:a}),this.layout.showChildView("toolbar",e)}},{key:"_isModelPresent",value:function(e){return e.isEmpty()||!e.has("created_at")}},{key:"list_certain_todos",value:function(e){var t=this;return this.setupLayoutIfNeeded(),0,n.e(69).then(function(){var e,o,r;return e=n(633).default,r=new e({collection:t.collection}),(o=t.collection.fetch()).done(function(){return console.log(t.collection),t.layout.showChildView("content",r)}),o.fail(function(){return i.request("danger","Failed to load todos.")})}.bind(null,n)).catch(n.oe)}},{key:"list_completed_todos",value:function(){return this.list_certain_todos(!0)}},{key:"list_todos",value:function(){return this.list_certain_todos(!1)}},{key:"new_todo",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(9).then(function(){var t;return t=n(289).NewView,e.layout.showChildView("content",new t)}.bind(null,n)).catch(n.oe)}},{key:"edit_todo",value:function(e){var t=this;return this.setupLayoutIfNeeded(),n.e(9).then(function(){var r,i;return r=n(289).EditView,i=o.request("db:todo:get",e),t._loadView(r,i,"todo")}.bind(null,n)).catch(n.oe)}},{key:"view_todo",value:function(e){var t=this;return this.setupLayoutIfNeeded(),n.e(71).then(function(){var r,i;return r=n(634),(i=o.request("db:todo:get",e)).fetch().done(function(){var e;return e=new r({model:i}),t.layout.showChildView("content",e)})}.bind(null,n)).catch(n.oe)}},{key:"view_calendar",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(4),n.e(70)]).then(function(){var t;return t=n(635),e.layout.showChildView("content",new t)}.bind(null,n)).catch(n.oe)}}]),t}();return e.prototype.layoutClass=p.ToolbarAppletLayout,e.prototype.collection=o.request("db:todo:collection"),e}.call(void 0),t.default=r},353:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});h(n(4));var o,r,i,u,a,l,c,s=h(n(1)),f=(h(n(2)),h(n(93))),p=h(n(18)),d=h(n(354));h(n(358));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}u=s.default.Radio.channel("global"),o=s.default.Radio.channel("tvmaze"),r=u.request("main:app:IndexRouter"),l=[{label:"List Shows",url:"#tvmaze/shows",icon:".fa.fa-list"},{label:"Search Show",url:"#tvmaze/searchshow",icon:".fa.fa-search"},{label:"Import Sample Data",url:"#tvmaze/import-sample-data",icon:".fa.fa-download"},{label:"Calendar",url:"#tvmaze/calendar",icon:".fa.fa-calendar"}],a=function(){var e=function(e){function t(){return y(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,r),t}();return e.prototype.channelName="tvmaze",e.prototype.appRoutes={tvmaze:"viewIndex","tvmaze/searchshow":"viewSearchShow","tvmaze/shows":"viewShowList","tvmaze/shows/flat":"viewShowListFlat","tvmaze/shows/view/:id":"viewShow","tvmaze/import-sample-data":"importSampleData","tvmaze/calendar":"viewCalendar"},e}.call(void 0),i=function(){var e=function(e){function t(){return y(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,f.default),t}();return e.prototype.Controller=d.default,e.prototype.Router=a,e.prototype.appletEntries=[{label:(0,p.default)("tvmaze")+" Menu",menu:l},{label:"List Shows",url:"#tvmaze/shows"}],e}.call(void 0),c=void 0,o.reply("maincalendar:set-date",function(e){return c=e.fullCalendar("getDate")}),o.reply("maincalendar:get-date",function(){return c}),t.default=i},354:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=c(n(1)),a=(c(n(2)),c(n(3)),c(n(8)),c(n(94)),n(29)),l=n(30);c(n(5));function c(e){return e&&e.__esModule?e:{default:e}}n(355),n(31),u.default.Radio.channel("global"),u.default.Radio.channel("messages"),u.default.Radio.channel("resources"),o=u.default.Radio.channel("tvmaze"),r=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.MainController),i(t,[{key:"viewIndex",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(74).then(function(){var t,r,i;return i=o.request("get-local-tvshows"),t=o.request("tv-show-search-collection"),r=n(636),i.fetch().then(function(){var n;return n=new r({collection:new t}),e.layout.showChildView("content",n)})}.bind(null,n)).catch(n.oe)}},{key:"viewShowList",value:function(){return this.viewShowListCards()}},{key:"viewShowListCards",value:function(){var e,t=this;return this.setupLayoutIfNeeded(),e=o.request("get-local-tvshows"),n.e(77).then(function(){var o;return o=n(640),t._loadView(o,e,"tvshow")}.bind(null,n)).catch(n.oe)}},{key:"viewShowListPackery",value:function(){var e,t=this;return this.setupLayoutIfNeeded(),e=o.request("get-local-tvshows"),Promise.all([n.e(2),n.e(94),n.e(80)]).then(function(){var o;return o=n(641),t._loadView(o,e,"tvshow")}.bind(null,n)).catch(n.oe)}},{key:"viewShowListMasonry",value:function(){var e,t=this;return this.setupLayoutIfNeeded(),e=o.request("get-local-tvshows"),Promise.all([n.e(2),n.e(79)]).then(function(){var o;return o=n(646),t._loadView(o,e,"tvshow")}.bind(null,n)).catch(n.oe)}},{key:"viewShowListFlat",value:function(){var e,t=this;return this.setupLayoutIfNeeded(),e=o.request("get-local-tvshows"),window.tvshows=e,n.e(78).then(function(){var o;return o=n(647),e.fetch().done(function(){var n;return n=new o({collection:e}),t.layout.showChildView("content",n)})}.bind(null,n)).catch(n.oe)}},{key:"viewSearchShow",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(76).then(function(){var t;return t=new(n(648)),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"viewShow",value:function(e){var t=this;return this.setupLayoutIfNeeded(),n.e(75).then(function(){var r,i;return r=n(649),i=new(o.request("get-local-tvshow-model"))({id:e}),t._loadView(r,i,"tvshow")}.bind(null,n)).catch(n.oe)}},{key:"importSampleData",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(72).then(function(){var t,r;return r=o.request("get-all-local-tvshows"),o.request("tv-show-search-collection"),t=n(651).default,r.fetch().then(function(){var n;return n=new t,e.layout.showChildView("content",n)})}.bind(null,n)).catch(n.oe)}},{key:"viewCalendar",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(4),n.e(73)]).then(function(){var t,r;return r=o.request("get-local-tvshows"),o.request("tv-show-search-collection"),t=n(654),r.fetch().then(function(){var n;return n=new t,e.layout.showChildView("content",n)})}.bind(null,n)).catch(n.oe)}}]),t}();return e.prototype.layoutClass=l.ToolbarAppletLayout,e}.call(void 0),t.default=r},355:function(e,t,n){"use strict";var o,r,i,u,a,l,c,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),f=(p(n(4)),p(n(1)));n(155),p(n(32));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(356),n(357),f.default.Radio.channel("global"),o=f.default.Radio.channel("tvmaze"),c="//api.tvmaze.com",l=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,f.default.Model),s(t,[{key:"url",value:function(){var e;return e=this.searchName,c+"/singlesearch/shows?q="+e}}]),t}(),o.reply("single-show-search",function(e){var t;return(t=new l).searchName=e,t}),a=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,f.default.Collection),s(t,[{key:"url",value:function(){return c+"/search/shows"}}]),t}(),o.reply("new-tv-show-search",function(e){return new a(e=e||{})}),o.reply("tv-show-search-collection",function(){return a}),o.reply("search-tv-shows",function(e){return new a}),u=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,f.default.Model),s(t,[{key:"urlRoot",value:function(){return c+"/shows"}}]),t}(),o.reply("get-remote-show",function(e){return new u({id:e})}),r=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,f.default.Model),s(t,[{key:"url",value:function(){return this.get("_links").self.href}}]),t}(),i=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,f.default.Collection),s(t,[{key:"url",value:function(){return c+"/shows/"+this.showId+"/episodes"}}]),t}();return e.prototype.model=r,e}.call(void 0),o.reply("get-remote-episodes",function(e){var t;return(t=new i).showId=e,t})},356:function(e,t,n){"use strict";var o,r,i,u,a,l,c,s,f,p,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),h=v(n(1)),y=n(155),b=v(n(32));function v(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a=h.default.Radio.channel("global"),r=h.default.Radio.channel("tvmaze"),s=a.request("main:app:dbConn","tvmaze"),l=new y.LoveStore(s,"TVMazeShow"),p=["id","name","url","self","premiered","runtime","network_name","imdb","status","summary","img_med","img_orig","content"],i=function(){var e=function(e){function t(){return _(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,h.default.Model),d(t,[{key:"toJSON",value:function(){var e,t=this;return e={},p.forEach(function(n){return e[n]=t.get(n)}),e}}]),t}();return e.prototype.loveStore=l,e}.call(void 0),u=function(){var e=function(e){function t(){return _(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,b.default),t}();return e.prototype.loveStore=l,e.prototype.model=i,e.prototype.mode="client",e}.call(void 0),o=function(){var e=function(e){function t(){return _(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,h.default.Collection),t}();return e.prototype.loveStore=l,e.prototype.model=i,e}.call(void 0),c=new o,f=new u,r.reply("get-all-local-tvshows",function(){return c}),r.reply("get-local-tvshows",function(){return f}),r.reply("get-local-tvshow-model",function(){return i}),r.reply("get-local-tvshow-collection",function(){return u}),r.reply("save-local-show",function(e){var t,n,o,r,u,a;return t=new i({id:e.id,name:e.name,url:e.url,self:e._links.self.href,premiered:new Date(e.premiered),runtime:(null!=e?e.runtime:void 0)||"",network_name:(null!=e&&null!=(n=e.network)?n.name:void 0)||"NO NETWORK",imdb:(null!=(o=e.externals)?o.imdb:void 0)||"",status:(null!=e?e.status:void 0)||"",summary:(null!=e?e.summary:void 0)||"",img_med:(null!=e&&null!=(r=e.image)?r.medium:void 0)||"",img_orig:(null!=e&&null!=(u=e.image)?u.original:void 0)||"",content:e}),a=!0,t.isNew=function(){return!!a&&(a=!1,!0)},f.add(t),t.save()})},357:function(e,t,n){"use strict";var o,r,i,u,a,l,c,s,f,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=n(1),h=(o=d)&&o.__esModule?o:{default:o},y=n(155);function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a=h.default.Radio.channel("global"),r=h.default.Radio.channel("tvmaze"),c=a.request("main:app:dbConn","tvmaze"),l=new y.LoveStore(c,"TVMazeEpisode"),s=["id","show_id","name","url","self","season","number","airdate","airtime","runtime","summary","img_med","img_orig","content"],i=function(){var e=function(e){function t(){return b(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _(t,h.default.Model),p(t,[{key:"toJSON",value:function(){var e,t=this;return e={},s.forEach(function(n){return e[n]=t.get(n)}),e}}]),t}();return e.prototype.loveStore=l,e}.call(void 0),u=function(){var e=function(e){function t(){return b(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _(t,h.default.Collection),t}();return e.prototype.loveStore=l,e.prototype.model=i,e}.call(void 0),f=new u,r.reply("get-local-episodes",function(){return f}),r.reply("get-local-episode-model",function(){return i}),r.reply("get-local-episode-collection",function(){return u}),r.reply("save-local-episode",function(e){var t,n,o,r,u,a,l,c,s;return t=new i({id:e.id,show_id:e.show_id,name:e.content.name,url:e.content.url,self:null!=(n=e.content._links)?n.self.href:void 0,season:e.content.season,number:e.content.number,airdate:new Date(e.content.airdate),airtime:e.content.airtime,runtime:(null!=(o=e.content)?o.runtime:void 0)||"",summary:(null!=(r=e.content)?r.summary:void 0)||"",img_med:(null!=(u=e.content)&&null!=(a=u.image)?a.medium:void 0)||"",img_orig:(null!=(l=e.content)&&null!=(c=l.image)?c.original:void 0)||"",content:e.content}),s=!0,t.isNew=function(){return!!s&&(s=!1,!0)},f.add(t),t.save()})},358:function(e,t,n){e.exports=function(){return new Worker(n.p+"2566da1a0e7e11d18a35.worker.js")}},359:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u=f(n(1)),a=(f(n(2)),f(n(20)),f(n(93))),l=f(n(18)),c=f(n(360)),s=f(n(121));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}u.default.Radio.channel("global"),u.default.Radio.channel("useradmin"),i=[{label:"Main",url:"#useradmin",icon:".fa.fa-star"},{label:"Users",url:"#useradmin/user/list",icon:".fa.fa-list"},{label:"Add User",url:"#useradmin/user/add",icon:".fa.fa-plus"},{label:"Groups",url:"#useradmin/group/list",icon:".fa.fa-list"},{label:"Add Group",url:"#useradmin/group/add",icon:".fa.fa-plus"}],r=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,s.default),t}();return e.prototype.channelName="useradmin",e.prototype.appRoutes={useradmin:"viewIndex","useradmin/user/list":"listUsers","useradmin/user/add":"addUser","useradmin/user/view/:id":"viewUser","useradmin/user/edit/:id":"editUser","useradmin/group/list":"listGroups","useradmin/group/add":"viewIndex","useradmin/group/view/:id":"viewIndex","useradmin/group/edit/:id":"editGroup"},e}.call(void 0),o=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,a.default),t}();return e.prototype.Controller=c.default,e.prototype.Router=r,e.prototype.appletEntries=[{label:(0,l.default)("useradmin")+" Menu",menu:i}],e}.call(void 0),t.default=o},360:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=s(n(1)),l=(s(n(2)),s(n(3)),s(n(8)),s(n(94)),n(29)),c=n(30);s(n(5)),s(n(31));function s(e){return e&&e.__esModule?e:{default:e}}n(361),r=a.default.Radio.channel("global"),i=a.default.Radio.channel("messages"),a.default.Radio.channel("useradmin"),o=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.MainController),u(t,[{key:"editModel",value:function(e){var t=this;return this.setupLayoutIfNeeded(),n.e(10).then(function(){var o,r,u,a;return o=n(290).BaseEditFormView,r=e.model,a=new o(e),(u=r.fetch()).fail(function(){return i.request("danger","failed to get "+e.modelName)}),u.done(function(){return console.log(e.modelName+" fetched",r),t.layout.showChildView("content",a)})}.bind(null,n)).catch(n.oe)}},{key:"addModel",value:function(e){var t=this;return this.setupLayoutIfNeeded(),n.e(10).then(function(){var o;return o=new(0,n(290).BaseNewFormView)(e),t.layout.showChildView("content",o)}.bind(null,n)).catch(n.oe)}},{key:"viewIndex",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(81).then(function(){var t;return t=new(0,n(655).default),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"listUsers",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(83).then(function(){var t,o,r,u;return o=e.getChannel().request("db:user:collection"),t=n(214).default,u=new t({collection:o}),(r=o.fetch()).fail(function(){return i.request("danger","failed to get users")}),r.done(function(){return console.log("users fetched",o),e.layout.showChildView("content",u)})}.bind(null,n)).catch(n.oe)}},{key:"viewUser",value:function(e){var t=this;return this.setupLayoutIfNeeded(),n.e(85).then(function(){var o,r,u,a;return r=new(t.getChannel().request("db:user:modelClass"))({id:e}),o=n(656).default,a=new o({model:r}),(u=r.fetch()).fail(function(){return i.request("danger","failed to get user")}),u.done(function(){return t.layout.showChildView("content",a)})}.bind(null,n)).catch(n.oe)}},{key:"editUser",value:function(e){var t,n;return n={modelName:"user",fieldList:["username","fullname","email"],entryField:"fullname",model:new(this.getChannel().request("db:user:modelClass"))({id:e})},t=r.request("crud:template:form",n),n.template=t,this.editModel(n)}},{key:"addUser",value:function(){var e,t;return this.getChannel().request("db:user:modelClass"),t={modelName:"user",fieldList:["username","fullname","email"],entryField:"fullname",channelName:this.channelName},e=r.request("crud:template:form",t),t.template=e,this.addModel(t)}},{key:"listGroups",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(82).then(function(){var t,o,r,u;return o=e.getChannel().request("db:group:collection"),t=n(214).default,u=new t({collection:o}),(r=o.fetch()).fail(function(){return i.request("danger","failed to get groups")}),r.done(function(){return console.log("groups fetched",o),e.layout.showChildView("content",u)})}.bind(null,n)).catch(n.oe)}},{key:"editGroup",value:function(e){var t,n;return n={modelName:"group",fieldList:["name"],entryField:"name",model:new(this.getChannel().request("db:group:modelClass"))({id:e})},t=r.request("crud:template:form",n),n.template=t,this.editModel(n)}}]),t}();return e.prototype.channelName="useradmin",e.prototype.layoutClass=c.ToolbarAppletLayout,e}.call(void 0),t.default=o},361:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l,c,s,f,p,d,h,y,b,v=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),_=g(n(0)),w=g(n(1)),m=(g(n(2)),g(n(108)));function g(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a=w.default.Radio.channel("global"),w.default.Radio.channel("useradmin"),r=a.request("main:app:AuthModel"),o=a.request("main:app:AuthCollection"),d={channelName:"useradmin"},p={},b="/api/dev/useradmin/crud/users",l=function(){var e=function(e){function t(){return O(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P(t,r),v(t,[{key:"itemLabel",value:function(){return this.get("fullname")+" ("+this.get("username")+")"}},{key:"itemViewUrl",value:function(){return"#useradmin/user/view/"+this.get("id")}},{key:"itemEditUrl",value:function(){return"#useradmin/user/edit/"+this.get("id")}}]),t}();return e.prototype.urlRoot=b,e.prototype.validation={username:{required:!0},fullname:{required:!0},email:{required:!0}},e}.call(void 0),c=function(){var e=function(e){function t(){return O(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P(t,o),t}();return e.prototype.url=b,e.prototype.model=l,e}.call(void 0),p.user=new m.default(_.default.extend(d,{modelName:"user",modelClass:l,collectionClass:c})),h="/api/dev/useradmin/crud/groups",i=function(){var e=function(e){function t(){return O(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P(t,r),v(t,[{key:"itemLabel",value:function(){return this.get("name")}},{key:"itemViewUrl",value:function(){return"#useradmin/group/view/"+this.get("id")}},{key:"itemEditUrl",value:function(){return"#useradmin/group/edit/"+this.get("id")}}]),t}();return e.prototype.urlRoot=h,e}.call(void 0),u=function(){var e=function(e){function t(){return O(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P(t,o),t}();return e.prototype.url=h,e.prototype.model=i,e}.call(void 0),p.group=new m.default(_.default.extend(d,{modelName:"group",modelClass:i,collectionClass:u})),y="/api/dev/useradmin/usergroup",s=function(){var e=function(e){function t(){return O(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P(t,r),v(t,[{key:"url",value:function(){var e,t,n;return n=this.get("user_id"),e=this.get("group_id"),t=y+"/"+e+"/"+n,t}},{key:"itemLabel",value:function(){return this.get("user_id"),this.get("group_id")+", "+user_id}}]),t}();return e.prototype.urlRoot=y,e.prototype.idAttribute="group_id",e}.call(void 0),f=function(){var e=function(e){function t(){return O(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P(t,o),t}();return e.prototype.url=y,e.prototype.model=s,e}.call(void 0),p.usergroup=new m.default(_.default.extend(d,{modelName:"usergroup",modelClass:s,collectionClass:f})),t.default=p},362:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0},i=(d(n(2)),d(n(93)));n(363);var u,a,l,c,s,f,p=d(n(364));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}c=Backbone.Radio.channel("global"),u=Backbone.Radio.channel("userprofile"),a=c.request("main:app:IndexRouter"),f=[{label:"Main",url:"#profile"},{label:"Edit Config",url:"#profile/editconfig"},{label:"Change Password",url:"#profile/chpassword"},{label:"View Map",url:"#profile/mapview"}],s=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,a),t}();return e.prototype.channelName="userprofile",e.prototype.appRoutes={profile:"show_profile","profile/editconfig":"editConfig","profile/chpassword":"change_password","profile/mapview":"view_map"},e}.call(void 0),l=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,i.default),o(t,[{key:"onBeforeStart",value:function(){var e=this;return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onBeforeStart",this).call(this,arguments),u.reply("main-controller",function(){return console.warn("Stop using 'main-controller' request on AppChannel"),e.router.controller})}}]),t}();return e.prototype.Controller=p.default,e.prototype.Router=s,e.prototype.appletEntries=[{label:"User Profile",menu:f}],e}.call(void 0),t.default=l},363:function(e,t,n){"use strict";var o,r,i,u,a,l;o=n(4),n(0),u=n(1),n(2),a=u.Radio.channel("global"),u.Radio.channel("messages"),(r=u.Radio.channel("userprofile")).reply("update-user-config",function(){return console.log("update-user-config called")}),i=a.request("main:app:AuthModel"),a.request("main:app:AuthCollection"),l=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),t}();return e.prototype.url="/auth/chpass",e.prototype.validation={password:{required:!0,minLength:8},confirm:function(e){var t;return e===(t=o('input[name="password"]').val())&&o('input[type="submit"]').show(),e!==t}},e}.call(void 0),r.reply("new-password-model",function(){return new l}),e.exports={}},364:function(e,t,n){"use strict";var o,r,i,u,a,l,c,s,f,p,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r=n(1),l=n(2),f=n(3),s=n(5).default;var v=n(29);a=v.MainController;var _=n(30);c=_.ToolbarAppletLayout,u=r.Radio.channel("global"),r.Radio.channel("messages"),o=r.Radio.channel("userprofile"),new r.Model({entries:[{name:"Profile",url:"#profile"},{name:"Map",url:"#profile/mapview"},{name:"Settings",url:"#profile/editconfig"},{name:"Change Password",url:"#profile/chpassword"}]}),p=f.renderable(function(e){return f.div(".btn-group.btn-group-justified",function(){var t,n,o,r,i,u;for(u=[],n=0,r=(i=e.entries).length;n<r;n++)t=i[n],o=(null!=t?t.icon:void 0)||"info",u.push(f.div(".toolbar-button.btn.btn-primary",{"button-url":t.url},function(){return f.span(".fa.fa-"+o," "+t.name)}));return u})}),function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,l.View),d(t,[{key:"toolbarButtonPressed",value:function(e){var t;return console.log("toolbarButtonPressed",e),t=e.currentTarget.getAttribute("button-url"),s(t)}}]),t}();return e.prototype.template=p,e.prototype.ui={toolbarButton:".toolbar-button"},e.prototype.events={"click @ui.toolbarButton":"toolbarButtonPressed"},e}.call(void 0),i=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,a),d(t,[{key:"show_profile",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(87).then(function(){var t,o,i;return t=n(659),o=u.request("main:app:decode-auth-token"),console.log("TOKEN",o),i=new t({model:new r.Model(o),templateContext:{title:o.fullname,text:o.fullname+" ("+o.name+")"}}),e.layout.showChildView("content",i)}.bind(null,n)).catch(n.oe)}},{key:"view_map",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(0),n.e(12)]).then(function(){var t,o,i;return t=n(291).default,o=u.request("main:app:decode-auth-token"),i=new t({model:new r.Model(o)}),e.layout.showChildView("content",i)}.bind(null,n)).catch(n.oe)}},{key:"editConfig",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(86).then(function(){var t,o,i;return t=n(662).default,o=u.request("main:app:decode-auth-token"),i=new t({model:new r.Model(o)}),e.layout.showChildView("content",i)}.bind(null,n)).catch(n.oe)}},{key:"change_password",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(5),n.e(16),n.e(11)]).then(function(){var t;return t=new(0,n(292).default)({model:o.request("new-password-model")}),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}}]),t}();return e.prototype.layoutClass=c,e}.call(void 0),e.exports=i},37:function(e,t,n){var o={"./adminpanel/main":294,"./bumblr/main":300,"./company/main":306,"./dbadmin/main":309,"./dbdocs/main":311,"./eliza/main":313,"./frontdoor/main":315,"./hourly/main":318,"./junk/main":321,"./moviedb/main":328,"./muppy/main":336,"./netark/main":339,"./places/main":342,"./sunny/main":345,"./taxes/main":348,"./todos/main":350,"./tvmaze/main":353,"./useradmin/main":359,"./userprofile/main":362};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=37}}]);
//# sourceMappingURL=17-2addbb345966d894202b.js.map