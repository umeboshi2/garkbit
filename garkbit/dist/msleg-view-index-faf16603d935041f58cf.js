(self.webpackJsonp=self.webpackJsonp||[]).push([[67],{186:function(e,t,n){"use strict";var r,o,i,u,l;o=n(1),n(2),n(207),l=n(101),o.Radio.channel("global"),r=o.Radio.channel("msleg"),u=function(e,t){return new l.Parser({explicitArray:!1,normalizeTags:!0,async:!1}).parseString(e.responseText,function(e,n){return t(n)})},i=function(e,t){var n;return(n=o.ajax({type:"GET",dataType:"text",url:e})).done(function(){return u(n,t)})},r.reply("get-xml-url",function(e,t){return i(e,t)}),e.exports={get_xml:i,parse_xhr_xml:u}},304:function(e,t,n){"use strict";var r,o,i,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();r=n(1),n(2),n(36),n(186).parse_xhr_xml,i=n(101),r.Radio.channel("global"),r.Radio.channel("msleg"),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Model),u(t,[{key:"parse",value:function(e){var t=this;return new i.Parser({explicitArray:!1,normalizeTags:!0,async:!1}).parseString(e,function(e,n){return t.unset("content"),t.set(n)}),{content:e}}}]),t}(),e.exports=o},305:function(e,t,n){"use strict";var r,o,i,u;o=["bgc","link","name"],r=function(e,t){return"m"+e+"_"+t},i=function(e){var t,n,i,u,l,c,a,s,p,f,b,h,y;for(s=[],Object.keys(e).length,t=0,l=(b=[1,2,3,4,5]).length;t<l;t++){for(p=b[t],a={},i=0,c=o.length;i<c;i++)y=e[n=r(p,h=o[i])],a[h]=e[n],"link"===h&&y&&(u=(f=y.split("/"))[f.length-1],a.id=u.split(".")[0]);s.push(a)}return s},u=function(e){var t,n,r,o,u,l;for({},u=[],t=0,n=(r=e.legislature.member).length;t<n;t++)l=r[t],o=i(l),u=u.concat(o);return u},e.exports=u},306:function(e,t,n){"use strict";var r,o,i,u,l,c,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(0),r=n(1),l=n(2),c=n(3),n(100),n(99),r.Radio.channel("global"),r.Radio.channel("ebcsv"),i=function(){var e=function(e){function t(){return s(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,l.View),a(t,[{key:"linkClicked",value:function(e){return e.preventDefault(),console.log("MODEL",this.model.get("link"))}}]),t}();return e.prototype.tagName="div",e.prototype.className="col-md-3",e.prototype.template=c.renderable(function(e){var t;return t="#FFF5EE"===e.bgc?".bg-body-d10.text-light":"#FFEFD5"===e.bgc?".bg-body-d5":".bg-warning",c.a(t,{href:"#msleg/house/members/view/"+e.id},function(){return c.text(e.name)})}),e.prototype.ui={link:"a"},e.prototype.events={"click @ui.link":"linkClicked"},e}.call(void 0),o=function(){var e=function(e){function t(){return s(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,l.CollectionView),t}();return e.prototype.childView=i,e.prototype.className="row",e}.call(void 0),u=function(){var e=function(e){function t(){return s(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,l.View),a(t,[{key:"onRender",value:function(){var e;return e=new o({collection:this.collection}),this.showChildView("members",e)}}]),t}();return e.prototype.template=c.renderable(function(){return c.div(".members.col-md-10.offset-md-1")}),e.prototype.ui={members:".members"},e.prototype.regions={members:"@ui.members"},e}.call(void 0),e.exports=u},307:function(e,t,n){"use strict";var r,o,i,u,l,c,a,s,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}o=n(1),n(2),s=n(3),n(101),n(5).default,i=n(306),n(186).get_xml,a=n(305),c=n(304),o.Radio.channel("messages"),r=o.Radio.channel("msleg"),l=function(e){function t(){return f(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,c),p(t,[{key:"url",value:function(){return r.request("get-msleg-config").hr_membs}}]),t}(),u=function(){var e=function(e){function t(){return f(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,o.Marionette.View),p(t,[{key:"onRender",value:function(){var e,t,n,u,c,s,p,f=this;return c=new l,p=c.url(),t=r.request("get-local-xmlobject-model"),console.log("LocalObject",t,p),u=new t({url:p}),e=r.request("get-local-xmlobject-collection"),n=new e,s=n.fetch({data:{url:p}}),console.log("localObject",u),console.log("response",s,u),s.fail(function(){return s=c.fetch({dataType:"text"}),console.log("RESPONSE",s),s.done(function(){var e;return console.log("members",c),console.log("object",c.toJSON()),e={url:p,content:c.toJSON()},r.request("save-local-xmlObject",e).done(function(){var e;return c=a(c.toJSON()),n=new o.Collection(c),e=new i({collection:n}),f.showChildView("houseMembers",e)})}),s.fail(function(){return console.warn("members",c)})})}}]),t}();return e.prototype.template=s.renderable(function(e){return s.h1("MS Legislature Demo"),s.div(".house-members")}),e.prototype.ui={houseMembers:".house-members"},e.prototype.regions={houseMembers:"@ui.houseMembers"},e.prototype.templateContext={appName:"msleg"},e}.call(void 0),e.exports=u}}]);
//# sourceMappingURL=msleg-view-index-faf16603d935041f58cf.js.map