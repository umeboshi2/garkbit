(self.webpackJsonp=self.webpackJsonp||[]).push([[20],Array(51).concat([function(e,t,n){var o={"./adminpanel/main":216,"./bumblr/main":224,"./dbdocs/main":230,"./ebcsv/main":232,"./freelaw/main":262,"./frontdoor/main":267,"./hubby/main":274,"./moviedb/main":278,"./msleg/main":286,"./muppy/main":290,"./netark/main":293,"./sofi/main":296,"./todos/main":315,"./tvmaze/main":318,"./userprofile/main":324,"./usgov/main":328,"./wikipages/main":331};function r(e){var t=i(e);return n(t)}function i(e){if(n.o(o,e))return o[e];var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return Object.keys(o)},r.resolve=i,(e.exports=r).id=51},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),u=(a(n(1)),a(n(2)));function a(e){return e&&e.__esModule?e:{default:e}}r=n(85),n(86),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Behavior),i(t,[{key:"options",value:function(){return{jviewSelector:".jsonview"}}},{key:"ui",value:function(){return{jsonView:this.getOption("jviewSelector")}}},{key:"onDomRefresh",value:function(){var e;return e=this.view.model.toJSON(),this.view.jsonView=new r(e),this.ui.jsonView.prepend(this.view.jsonView.dom)}}]),t}(),t.default=o},,,,,,,,,function(e,t,n){"use strict";var o,r,i,u,a,l,c,s,f,p,d,h,y,v,b,_,w=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r=n(1),_=n(185),o=r.Radio.channel("hubby"),d="/rest/v0/main",function(e){function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}O(t,r.Model)}(),i=function(e){function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O(t,r.Collection),w(t,[{key:"parse",value:function(e){return function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"parse",this).call(this,e.data)}}]),t}(),v=d+"/meeting",p=function(){var e=function(e){function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O(t,r.Model),t}();return e.prototype.urlRoot=v,e}.call(void 0),a=function(){var e=function(e){function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O(t,r.Model),w(t,[{key:"parse",value:function(e){return e.data}}]),t}();return e.prototype.urlRoot=v,e}.call(void 0),l=function(){var e=function(e){function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O(t,i),t}();return e.prototype.model=p,e.prototype.url=v,e}.call(void 0),f=function(){var e=function(e){function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O(t,r.Model),t}();return e.prototype.urlRoot="/rest/v0/main/item",e}.call(void 0),u=function(){var e=function(e){function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O(t,i),w(t,[{key:"url",value:function(){return d+"/item/search?"+_.stringify(this.searchParams)}}]),t}();return e.prototype.model=f,e}.call(void 0),b=d+"/person",s=function(){var e=function(e){function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O(t,r.Model),t}();return e.prototype.urlRoot=b,e}.call(void 0),c=function(){var e=function(e){function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O(t,i),t}();return e.prototype.model=s,e.prototype.url=b,e}.call(void 0),y=new c,o.reply("personlist",function(){return y}),h=new l,o.reply("meetinglist",function(){return h}),e.exports={apiroot:d,MeetingCollection:l,MainMeetingModel:a,ItemCollection:u}},,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u,a,l,c,s,f,p,d,h;l=n(1),h=n(132).make_dbchannel,f=l.Radio.channel("global"),p=l.Radio.channel("resources"),d="/api/dev/sitedocuments",a=f.request("main:app:AuthModel"),u=f.request("main:app:AuthCollection"),c=function(){var e=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,a),t}();return e.prototype.urlRoot=d,e}.call(void 0),s=function(){var e=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,u),t}();return e.prototype.url=d,e.prototype.model=c,e}.call(void 0),h(p,"document",c,s),e.exports={DocumentCollection:s}},,function(e,t,n){"use strict";var o,r,i,u,a,l,c,s,f,p,d,h,y,v,b,w,m,g,O,j,P,k,C=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),R=M(n(4)),E=M(n(1)),x=n(104);function M(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}v=E.default.Radio.channel("global"),o=E.default.Radio.channel("ebcsv"),O=v.request("main:app:dbConn","ebcsv"),s=new x.LoveStore(O,"Config"),f=new x.LoveStore(O,"Description"),c=new x.LoveStore(O,"ComicUrl"),p=function(){var e=function(e){function t(){return S(this,t),q(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,E.default.Model),t}();return e.prototype.loveStore=s,e}.call(void 0),d=function(){var e=function(e){function t(){return S(this,t),q(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,E.default.Collection),t}();return e.prototype.loveStore=s,e.prototype.model=p,e}.call(void 0),y=function(){var e=function(e){function t(){return S(this,t),q(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,E.default.Model),t}();return e.prototype.loveStore=f,e}.call(void 0),h=function(){var e=function(e){function t(){return S(this,t),q(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,E.default.Collection),t}();return e.prototype.loveStore=f,e.prototype.model=y,e}.call(void 0),a=function(){var e=function(e){function t(){return S(this,t),q(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,E.default.Model),C(t,[{key:"idAttrubute",value:function(){return"url"}}]),t}();return e.prototype.loveStore=c,e}.call(void 0),l=function(){var e=function(e){function t(){return S(this,t),q(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,E.default.Collection),t}();return e.prototype.loveStore=c,e.prototype.model=a,e}.call(void 0),P=new d,k=new h,g=new l,o.reply("get_local_configs",function(){return P}),o.reply("get-config-model",function(){return p}),o.reply("configCollection",function(){return d}),o.reply("get_local_descriptions",function(){return k}),o.reply("get-description-model",function(){return y}),o.reply("descCollection",function(){return h}),o.reply("get_comic_urls",function(){return g}),o.reply("get-comic-url-model",function(){return a}),o.reply("get-comic-url-collection",function(){return l}),u=function(e){function t(){return S(this,t),q(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,E.default.Model),C(t,[{key:"initialize",value:function(){return this.fetch(),this.on("change",this.save,this)}},{key:"fetch",value:function(){return this.set(JSON.parse(localStorage.getItem(this.id)))}},{key:"save",value:function(e,t){return localStorage.setItem(this.id,JSON.stringify(this.toJSON())),R.default.ajax({success:t.success,error:t.error})}},{key:"destroy",value:function(e){return localStorage.removeItem(this.id)}},{key:"isEmpty",value:function(){return _.size(this.attributes<=1)}}]),t}(),w=["format","location","returnsacceptedoption","duration","quantity","startprice","dispatchtimemax","conditionid"],o.reply("csv-req-fieldnames-local",function(){return w}),b=["postalcode","paymentprofilename","returnprofilename","shippingprofilename","scheduletime"],o.reply("csv-opt-fieldnames-local",function(){return b}),i=function(e){function t(){return S(this,t),q(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,u),t}(),function(){var e=function(e){function t(){return S(this,t),q(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,i),t}();return e.prototype.fieldType="required",e.prototype.fieldNames=w,e}.call(void 0),function(){var e=function(e){function t(){return S(this,t),q(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,i),t}();return e.prototype.fieldType="optional",e.prototype.fieldNames=b,e}.call(void 0),o.reply("get-comic-image-urls",function(){return console.warn("get-comic-image-urls"),new u({id:"comic-image-urls"}).toJSON()}),o.reply("add-comic-image-url",function(e,t){return new u({id:"comic-image-urls"}).set(e,t)}),o.reply("clear-comic-image-urls",function(){var e;return(e=new u({id:"comic-image-urls"})).destroy(),console.log("localStorage",localStorage[e.id])}),r={},o.reply("applet:local:get",function(e){return r[e]}),o.reply("applet:local:set",function(e,t){return r[e]=t}),o.reply("applet:local:delete",function(e){return delete r[e]}),o.reply("set-current-csv-action",function(e){return o.request("applet:local:set","currentCsvAction",e)}),o.reply("get-current-csv-action",function(){return o.request("applet:local:get","currentCsvAction")}),o.reply("set-current-csv-cfg",function(e){return o.request("applet:local:set","currentCsvCfg",e)}),o.reply("get-current-csv-cfg",function(){return o.request("applet:local:get","currentCsvCfg")}),o.reply("set-current-csv-dsc",function(e){return o.request("applet:local:set","currentCsvDsc",e)}),o.reply("get-current-csv-dsc",function(){return o.request("applet:local:get","currentCsvDsc")}),m=function(){var e=function(e){function t(){return S(this,t),q(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,E.default.Model),t}();return e.prototype.url="/assets/data/superheroes.json",e}.call(void 0),j=new m,o.reply("get-superheroes-model",function(){return j})},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatsView=t.ThemeSwitchView=t.FrontDoorMainView=void 0;var o,r,i,u,a,l,c,s,f=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),p=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0},d=m(n(137)),h=m(n(4)),y=m(n(1)),v=m(n(2)),b=m(n(3)),_=m(n(35)),w=m(n(101));function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=y.default.Radio.channel("global"),u=function(e){function r(){return g(this,r),O(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return j(r,_.default.Renderer),f(r,[{key:"link",value:function(e,t,n){var o;return e.startsWith("#")||("."===(o=d.default.dirname(location.hash))&&(o="#frontdoor/view"),e.startsWith("http")||(e=d.default.join(o,e))),p(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"link",this).call(this,e,t,n)}}]),r}(),s=new u,o=b.default.renderable(function(e){return b.default.article(".document-view.content",function(){return b.default.div(".body",function(){return b.default.raw((0,_.default)(e.content,{renderer:s}))})})}),l=["vanilla","cornsilk","BlanchedAlmond","DarkSeaGreen","LavenderBlush"],t.ThemeSwitchView=c=function(){var e=function(e){function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,v.default.View),f(t,[{key:"events",value:function(){return{"click @ui.theme":"switch_theme"}}},{key:"templateContext",value:function(){return{ui:this.ui}}},{key:"switch_theme",value:function(e){var t;return t=(0,h.default)(e.target).html(),this.performSwitch(t)}},{key:"performSwitch",value:function(e){return console.log("performSwitch",e),i.request("main:app:set-theme",e),i.request("main:app:switch-theme",e)}}]),t}();return e.prototype.ui={stylesheet:"#main-stylesheet",theme:".theme"},e.prototype.template=b.default.renderable(function(e){return b.default.div(function(){return l.forEach(function(e){return b.default.div(".theme.btn.btn-default",e)})})}),e}.call(void 0),t.FrontDoorMainView=r=function(){var e=function(e){function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,v.default.View),t}();return e.prototype.template=o,e}.call(void 0),t.StatsView=a=function(){var e=function(e){function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,v.default.View),t}();return e.prototype.template=b.default.renderable(function(e){return b.default.div(".jsonview.listview-list-entry",{style:"overflow:auto"})}),e.prototype.behaviors={HasJsonView:{behaviorClass:w.default}},e}.call(void 0),t.FrontDoorMainView=r,t.ThemeSwitchView=c,t.StatsView=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClzPageCollection=t.EbDescCollection=t.EbConfigCollection=void 0;var o,r,i,u,a,l,c,s,f,p,d,h,y,v,b,_,w,m,g,O,j,P,k,C,R,E,x,M,S,q,N,T,L,V,I,D,z,F,A,B,U,W=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0},J=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),H=n(123),Y=(o=H)&&o.__esModule?o:{default:o};function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Z(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}q=n(0),l=n(1),A=n(98);var $=n(173);j=$.LocalStorage,P=l.Radio.channel("global"),r=l.Radio.channel("sofi"),a=P.request("main:app:AuthModel"),u=P.request("main:app:AuthCollection"),T=(N="/api/dev/bapi/sofi")+"/ebcsvcfg",z=N+"/ebcsvdsc",D={channelName:"sofi"},R=function(){var e=function(e){function t(){return X(this,t),G(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Z(t,l.Model),t}();return e.prototype.url="/assets/data/superheroes.json",e}.call(void 0),F=new R,r.reply("get-superheroes-model",function(){return F}),c=function(e){function t(){return X(this,t),G(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Z(t,l.Model),J(t,[{key:"initialize",value:function(){return this.fetch(),this.on("change",this.save,this)}},{key:"fetch",value:function(){return this.set(JSON.parse(localStorage.getItem(this.id)))}},{key:"save",value:function(e,t){return localStorage.setItem(this.id,JSON.stringify(this.toJSON()))}},{key:"destroy",value:function(e){return localStorage.removeItem(this.id)}},{key:"isEmpty",value:function(){return q.size(this.attributes<=1)}}]),t}(),_=function(){var e=function(e){function t(){return X(this,t),G(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Z(t,l.Collection),t}();return e.prototype.localStorage=new j("ComicPhotoNames"),e}.call(void 0),r.reply("ComicPhotoNames",function(){return _}),r.reply("get-comic-image-urls",function(){return new c({id:"comic-image-urls"}).toJSON()}),r.reply("add-comic-image-url",function(e,t){return new c({id:"comic-image-urls"}).set(e,t)}),r.reply("clear-comic-image-urls",function(){var e;return(e=new c({id:"comic-image-urls"})).destroy(),console.log("localStorage",localStorage[e.id])}),m=function(){var e=function(e){function n(){return X(this,n),G(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return Z(n,a),J(n,[{key:"parse",value:function(e,t){return"string"==typeof e.content&&(e.content=JSON.parse(e.content)),W(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"parse",this).call(this,e,t)}}]),n}();return e.prototype.urlRoot=T,e}.call(void 0),t.EbConfigCollection=w=function(){var e=function(e){function t(){return X(this,t),G(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Z(t,u),t}();return e.prototype.url=T,e.prototype.model=m,e}.call(void 0),new Y.default(q.extend(D,{modelName:"ebcfg",modelClass:m,collectionClass:w})),O=function(){var e=function(e){function t(){return X(this,t),G(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Z(t,a),t}();return e.prototype.urlRoot=z,e}.call(void 0),t.EbDescCollection=g=function(){var e=function(e){function t(){return X(this,t),G(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Z(t,u),t}();return e.prototype.url=z,e.prototype.model=O,e}.call(void 0),new Y.default(q.extend(D,{modelName:"ebdsc",modelClass:O,collectionClass:g})),h=function(){var e=function(e){function n(){return X(this,n),G(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return Z(n,a),J(n,[{key:"parse",value:function(e,t){return console.warn("ClzPage is deprecated"),"string"==typeof e.clzdata&&(e.clzdata=JSON.parse(e.clzdata)),W(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"parse",this).call(this,e,t)}}]),n}();return e.prototype.urlRoot=N+"/ebclzpage",e}.call(void 0),t.ClzPageCollection=y=function(){var e=function(e){function t(){return X(this,t),G(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Z(t,u),J(t,[{key:"fetch",value:function(e){return console.warn("ClzPageCollection is deprecated"),W(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fetch",this).call(this,e)}}]),t}();return e.prototype.url=N+"/ebclzpage",e.prototype.model=h,e}.call(void 0),new Y.default(q.extend(D,{modelName:"clzpage",modelClass:h,collectionClass:y})),I=["id","comic_id","list_id","bpcomicid","bpseriesid","rare","publisher","releasedate","seriesgroup","series","issue","issueext","quantity","currentprice","url","image_src","created_at","updated_at"],r.reply("dbComicColumns",function(){return I}),V=["collectionStatus","photos","workspace"],L=["ReleaseDate"],p=function(){var e=function(e){function o(){return X(this,o),G(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return Z(o,a),J(o,[{key:"parse",value:function(e,t){var n;return"string"==typeof e.content&&(e.content=JSON.parse(e.content)),"string"==typeof e.releasedate&&(n=A(e.releasedate),e.ReleaseDate=n.format("ddd MMM DD, YYYY")),W(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"parse",this).call(this,e,t)}},{key:"fetch",value:function(e){var t;return(e=e||{}).data=e.data||{},(null!=(t=e.data)?t.withRelated:void 0)||(e.data.withRelated=V),W(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"fetch",this).call(this,e)}},{key:"save",value:function(e,t){var n=this;return V.concat(L).forEach(function(e){if(n.has(e))return n.unset(e)}),W(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"save",this).call(this,e,t)}}]),o}();return e.prototype.urlRoot=N+"/ebclzcomic",e}.call(void 0),d=function(){var e=function(e){function n(){return X(this,n),G(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return Z(n,u),J(n,[{key:"fetch",value:function(e){var t;return(e=e||{}).data=e.data||{},(null!=(t=e.data)?t.withRelated:void 0)||(e.data.withRelated=V),W(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"fetch",this).call(this,e)}}]),n}();return e.prototype.url=N+"/ebclzcomic",e.prototype.model=p,e}.call(void 0),new Y.default(q.extend(D,{modelName:"clzcomic",modelClass:p,collectionClass:d})),C=function(){var e=function(e){function t(){return X(this,t),G(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Z(t,u),t}();return e.prototype.url=N+"/ebclzcomic",e.prototype.model=r.request("db:clzcomic:modelClass"),e.prototype.state={firstPage:0,pageSize:1e4,sortColumn:"seriesgroup",sortDirection:"asc"},e}.call(void 0),r.reply("db:clzcomic:SeriesGroupCollection",function(){return C}),k=function(){var e=function(e){function t(){return X(this,t),G(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Z(t,u),t}();return e.prototype.url=N+"/ebclzcomic",e.prototype.model=r.request("db:clzcomic:modelClass"),e.prototype.state={firstPage:0,pageSize:1e4,sortColumn:"publisher",sortDirection:"asc"},e}.call(void 0),r.reply("db:clzcomic:PublisherCollection",function(){return k}),s=function(){var e=function(e){function t(){return X(this,t),G(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Z(t,a),t}();return e.prototype.urlRoot=N+"/clzcollectionstatus",e}.call(void 0),f=function(){var e=function(e){function t(){return X(this,t),G(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Z(t,u),t}();return e.prototype.url=N+"/clzcollectionstatus",e.prototype.model=s,e}.call(void 0),new Y.default(q.extend(D,{modelName:"clzcollectionstatus",modelClass:s,collectionClass:f})),U=["comic"],B=[],M=function(){var e=function(e){function o(){return X(this,o),G(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return Z(o,a),J(o,[{key:"save",value:function(e,t){var n=this;return U.concat(B).forEach(function(e){if(n.has(e))return n.unset(e)}),W(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"save",this).call(this,e,t)}}]),o}();return e.prototype.urlRoot=N+"/ebcomicworkspace",e}.call(void 0),S=function(){var e=function(e){function n(){return X(this,n),G(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return Z(n,u),J(n,[{key:"fetch",value:function(e){var t;return(e=e||{}).data=e.data||{},(null!=(t=e.data)?t.withRelated:void 0)||(e.data.withRelated=U),W(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"fetch",this).call(this,e)}}]),n}();return e.prototype.url=N+"/ebcomicworkspace",e.prototype.model=M,e}.call(void 0),new Y.default(q.extend(D,{modelName:"ebcomicworkspace",modelClass:M,collectionClass:S})),x=function(){var e=function(e){function t(){return X(this,t),G(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Z(t,u),t}();return e.prototype.url=N+"/ebcomicworkspace",e.prototype.model=r.request("db:clzcomic:modelClass"),e.prototype.state={firstPage:0,pageSize:1e4,sortColumn:"name",sortDirection:"asc"},e}.call(void 0),r.reply("db:ebcomicworkspace:WorkspaceCollection",function(){return x}),E=function(){var e=function(e){function t(){return X(this,t),G(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Z(t,u),t}();return e.prototype.url="/api/dev/misc/unattached-comics",e.prototype.model=p,e}.call(void 0),r.reply("db:unattached:collectionClass",function(){return E}),v=function(){var e=function(e){function t(){return X(this,t),G(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Z(t,a),t}();return e.prototype.urlRoot=N+"/comicphotoname",e}.call(void 0),b=function(){var e=function(e){function t(){return X(this,t),G(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Z(t,u),t}();return e.prototype.url=N+"/comicphotoname",e.prototype.model=v,e}.call(void 0),new Y.default(q.extend(D,{modelName:"comicphotoname",modelClass:v,collectionClass:b})),i={},r.reply("locals:get",function(e){return i[e]}),r.reply("locals:set",function(e,t){return i[e]=t}),r.reply("locals:delete",function(e){return delete i[e]}),r.request("locals:set","currentQueryWhere",{}),t.EbConfigCollection=w,t.EbDescCollection=g,t.ClzPageCollection=y},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var o,r,i,u,a,l,c,s,f,p,d=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}o=n(4),r=n(1),l=n(2),p=n(3),f=n(35),a=r.Radio.channel("global"),i=p.renderable(function(e){return p.article(".document-view.content",function(){return p.div(".body",function(){return p.raw(f(e.content))})})}),c=["vanilla","cornsilk","BlanchedAlmond","DarkSeaGreen","LavenderBlush"],s=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,l.View),d(t,[{key:"events",value:function(){return{"click @ui.theme":"switch_theme"}}},{key:"templateContext",value:function(){return{ui:this.ui}}},{key:"switch_theme",value:function(e){var t;return t=o(e.target).html(),this.performSwitch(t)}},{key:"performSwitch",value:function(e){return console.log("performSwitch",e),a.request("main:app:set-theme",e),a.request("main:app:switch-theme",e)}}]),t}();return e.prototype.ui={stylesheet:"#main-stylesheet",theme:".theme"},e.prototype.template=p.renderable(function(e){return p.div(function(){return c.forEach(function(e){return p.div(".theme.btn.btn-default",e)})})}),e}.call(void 0),u=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,l.View),t}();return e.prototype.template=i,e}.call(void 0),e.exports={FrontDoorMainView:u,ThemeSwitchView:s}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),r=(u(n(2)),u(n(38))),i=(u(n(5)),u(n(48)));function u(e){return e&&e.__esModule?e:{default:e}}var a,l,c,s=[].indexOf;l=Backbone.Radio.channel("global"),c=Backbone.Radio.channel("messages"),a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"before",value:function(){var e;e=l.request("main:app:decode-auth-token"),(0,i.default)(e)||s.call(e.groups,"admin")<0&&c.request("danger","Admin access only!")}}]),t}(),t.default=a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),r=(f(n(2)),f(n(38)),f(n(88)));f(n(5));n(217);var i,u,a,l=f(n(218)),c=f(n(176)),s=f(n(222));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Backbone.Radio.channel("global"),Backbone.Radio.channel("messages"),a=[{label:"User Admin",menu:[{label:"List Users",url:"#adminpanel/user/list",icon:".fa.fa-list"},{label:"Add New User",url:"#adminpanel/user/add",icon:".fa.fa-plus"},{label:"Hubby Dbadmin",url:"#adminpanel/dbadmin/hubby",icon:".fa.fa-database"}]}],u=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,c.default),t}();return e.prototype.appRoutes={adminpanel:"frontdoor","adminpanel/view":"frontdoor","adminpanel/login":"show_login","adminpanel/logout":"show_logout","adminpanel/dbadmin/hubby":"viewHubby"},e}.call(void 0),i=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,r.default),o(t,[{key:"onStop",value:function(){return console.log("(Child) Stopping adminpanel",this.isRunning()),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onStop",this).call(this)}}]),t}();return e.prototype.Controller=l.default,e.prototype.Router=u,e.prototype.appletEntries=a,e.prototype.extraRouters={useradmin:s.default},e}.call(void 0),t.default=i},function(e,t,n){"use strict";var o,r,i,u,a,l,c,s,f,p,d,h,y=n(123),v=(o=y)&&o.__esModule?o:{default:o};function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}p=n(0),l=n(1),n(98),n(173).LocalStorage,c=l.Radio.channel("global"),r=l.Radio.channel("useradmin"),window.AppChannel=r,a=c.request("main:app:AuthModel"),u=c.request("main:app:AuthCollection"),d={channelName:"useradmin"},h="/api/dev/bapi/useradmin/users",f=function(){var e=function(e){function t(){return b(this,t),_(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return w(t,a),t}();return e.prototype.urlRoot=h,e}.call(void 0),s=function(){var e=function(e){function t(){return b(this,t),_(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return w(t,u),t}();return e.prototype.url=h,e.prototype.model=f,e}.call(void 0),new v.default(p.extend(d,{modelName:"user",modelClass:f,collectionClass:s})),i={},r.reply("locals:get",function(e){return i[e]}),r.reply("locals:set",function(e,t){return i[e]=t}),r.reply("locals:delete",function(e){return delete i[e]})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),r=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0},i=s(n(1)),u=s(n(2)),a=n(37),l=(n(34),s(n(43))),c=s(n(5));function s(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(131);var h,y,v,b,_,w,m,g=[].indexOf;y=i.default.Radio.channel("global"),v=i.default.Radio.channel("messages"),i.default.Radio.channel("static-documents"),_=i.default.Radio.channel("resources"),m=n(3),b=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,i.default.Model),o(t,[{key:"fetch",value:function(e){return(e=e||{}).dataType="text",r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fetch",this).call(this,e)}},{key:"parse",value:function(e){return{content:e}}}]),t}();return e.prototype.url="https://raw.githubusercontent.com/umeboshi2/garkbit/master/README.md",e}.call(void 0),w=m.renderable(function(){return m.div(".row",function(){return m.div("#main-content")})}),function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,u.default.View),o(t,[{key:"regions",value:function(){return{content:new l.default({el:"#main-content",speed:"slow"})}}},{key:"onBeforeDestroy",value:function(e){0}}]),t}();return e.prototype.template=w,e}.call(void 0),h=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,a.MainController),o(t,[{key:"setupLayoutIfNeeded",value:function(){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setupLayoutIfNeeded",this).call(this),this.layout.controller=this}},{key:"_view_resource",value:function(e){var t;return this.setupLayoutIfNeeded(),t=new(n(174).FrontDoorMainView)({model:e}),this.layout.showChildView("content",t)}},{key:"_view_login",value:function(){var e;return e=new(n(219)),this.layout.showChildView("content",e)}},{key:"_view_upload",value:function(){var t=this;return Promise.all([n.e(17),n.e(42)]).then(function(){var e;return e=new(n(334)),t.layout.showChildView("content",e)}.bind(null,n)).catch(n.oe)}},{key:"upload_view",value:function(){return this.setupLayoutIfNeeded(),this._view_upload()}},{key:"view_page",value:function(e){var t,n,o=this;return(n=(t=_.request("get-document",e)).fetch()).done(function(){return t.get("content")||t.set("content","# Need a front page."),o._view_resource(t)}),n.fail(function(){return v.request("danger","Failed to get document")})}},{key:"frontdoor_needuser",value:function(){var e;return e=y.request("main:app:decode-auth-token"),0<=g.call(Object.keys(e),"name")?this.frontdoor_hasuser(e):this.show_login()}},{key:"show_login",value:function(){return this.setupLayoutIfNeeded(),this._view_login()}},{key:"show_logout",value:function(){return y.request("main:app:destroy-auth-token"),(0,c.default)("/")}},{key:"frontdoor_hasuser",value:function(e){return this.default_view()}},{key:"view_readme",value:function(){var e,t,n=this;return console.log("view_readme",this),this.setupLayoutIfNeeded(),(t=(e=new b).fetch()).done(function(){return n._view_resource(e)}),t.fail(function(){return v.request("warning","failed to get readme")})}},{key:"default_view",value:function(){return this.setupLayoutIfNeeded(),this.view_readme()}},{key:"frontdoor",value:function(){var e;return(null!=(e=y.request("main:app:config"))?e.needLogin:void 0)?this.frontdoor_needuser():this.default_view()}},{key:"start",value:function(){return this.frontdoor()}},{key:"themeSwitcher",value:function(){var e;return this.setupLayoutIfNeeded(),e=new(n(174).ThemeSwitchView),this.layout.showChildView("content",e),console.log("themeSwitcher")}},{key:"viewHubby",value:function(){var e;return this.setupLayoutIfNeeded(),e=new(n(220)),this.layout.showChildView("content",e)}}]),t}(),t.default=h},function(e,t,n){"use strict";var r,o,i,u,a,l,c,s,f,p,d,h,y,v,b,_,w=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r=n(4),o=n(1),s=n(2),b=n(3),y=n(42).default,v=n(5).default;var j=n(34);d=j.form_group_input_div,u=n(36).default,l=o.Radio.channel("global"),f=o.Radio.channel("messages"),h=b.renderable(function(e){return d({input_id:"input_username",label:"User Name",input_attributes:{name:"username",placeholder:"User Name"}}),d({input_id:"input_password",label:"Password",input_attributes:{name:"password",type:"password",placeholder:"Type your password here...."}}),b.input(".btn.btn-default",{type:"submit",value:"login"}),b.div(".spinner.fa.fa-spinner.fa-spin")}),i=function(e){function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O(t,u),w(t,[{key:"ui",value:function(){return y(this.fieldList)}},{key:"createModel",value:function(){return new o.Model}},{key:"onSuccess",value:function(){return v("/admin")}}]),t}(),a=function(){var e=function(e){function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O(t,i),w(t,[{key:"updateModel",value:function(){return console.log("updateModel called"),this.model.set("username",this.ui.username.val()),this.model.set("password",this.ui.password.val())}},{key:"saveModel",value:function(){var e,t,n,o=this;return t=this.model.get("username"),e=this.model.get("password"),n=r.ajax({url:"/login",type:"POST",data:{username:t,password:e},dataType:"json",success:function(e){var t;return t=e.token,l.request("main:app:set-auth-token",t),o.trigger("save:form:success",o.model)},error:function(e){var t;return t=e.responseJSON,f.request("danger",t.message),o.trigger("save:form:failure",o.model)}}),console.log("returning xhr",n)}}]),t}();return e.prototype.template=h,e.prototype.fieldList=["username","password"],e}.call(void 0),_=b.renderable(function(e){return d({input_id:"input_token",label:"Auth Token",input_attributes:{name:"token",placeholder:"xxxxxxxxxxxxxxx"}}),b.input(".btn.btn-default",{type:"submit",value:"login"}),b.div(".spinner.fa.fa-spinner.fa-spin")}),p=function(){var e=function(e){function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O(t,i),w(t,[{key:"updateModel",value:function(){return console.log("updateModel called"),this.model.set("token",this.ui.token.val())}},{key:"saveModel",value:function(){var e,t,n=this;return t=this.model.get("token"),l.request("main:app:set-auth-token",t),(e=(new(l.request("main:app:AuthRefresh"))).fetch()).fail(function(){return n.trigger("save:form:failure",n.model)}),e.done(function(){return n.trigger("save:form:success",n.model)})}}]),t}();return e.prototype.template=_,e.prototype.fieldList=["token"],e}.call(void 0),c=function(){var e=function(e){function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O(t,s.View),w(t,[{key:"onRender",value:function(){return this.showChildView("login",new a),this.showChildView("token",new p)}}]),t}();return e.prototype.template=b.renderable(function(e){return b.div("#login-form"),b.div("#token-form")}),e.prototype.regions={login:"#login-form",token:"#token-form"},e}.call(void 0),e.exports=c},function(e,t,n){"use strict";var o=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u,l,c,s,f,p,d,h,y,v,b,_,w,m=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")};n(4),l=n(1),h=n(2),w=n(3),n(35),f=n(175),b=n(221),d=l.Radio.channel("global"),y=l.Radio.channel("messages"),u=d.request("main:app:AuthModel"),d.request("main:app:AuthCollection"),v=function(){var e=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,u),t}();return e.prototype.url="/rest/v0/main/hubby/dbadmin/testme",e}.call(void 0),s=function(){var e=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,u),t}();return e.prototype.url="/rest/v0/main/hubby/dbadmin/delete-all",e}.call(void 0),c=function(){var e=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,u),t}();return e.prototype.url="/rest/v0/main/hubby/dbadmin/testme",e}.call(void 0),_=w.renderable(function(e){return w.div(".dropzone.card",function(){return w.div(".card-header",function(){return w.text("drop a dump of meetings to upload")}),w.div(".card-body",function(){return w.div(".parse-btn.btn.btn-primary",{style:"display:none"},function(){return w.text("upload dropped meetings")}),w.input(".file-input.input",{type:"file"}),w.span(".parse-chosen-btn.btn.btn-primary",{style:"display:none"},function(){return w.text("Parse dropped meetings")})})})}),p=function(){var e=function(e){function u(){r(this,u);var e=i(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments));return e.successfulParse=e.successfulParse.bind(e),e.fileReaderOnLoad=e.fileReaderOnLoad.bind(e),e}return a(u,h.View),o(u,[{key:"deleteBtnClicked",value:function(){var e;return console.log("deleteBtnClicked"),(e=new s).fetch().done(function(){return y.request("success",e.get("result"))})}},{key:"fileInputClicked",value:function(e){return console.log("file_input_clicked",e),this.ui.fileInput.val(null),this.ui.chosenBtn.hide()}},{key:"fileInputChanged",value:function(e){return console.log("file_input_changed",e),this.ui.chosenBtn.show()}},{key:"handleDrop",value:function(e){var t;return e.preventDefault(),this.ui.dropzone.css("border","0px"),t=e.originalEvent.dataTransfer.files[0],this.ui.statusMsg.text("File: "+t.name),this.droppedFile=t,this.ui.parseBtn.show()}},{key:"handleDragOver",value:function(e){return e.preventDefault(),e.stopPropagation()}},{key:"handleDragEnter",value:function(e){return e.stopPropagation(),e.preventDefault(),this.ui.dropzone.css("border","2px dotted")}},{key:"successfulParse",value:function(){return m(this,u),this.ui.statusMsg.text("Parse Successful"),y.request("success","successfulParse")}},{key:"fileReaderOnLoad",value:function(e){var t,n,o,r,i=this;return m(this,u),t=e.target.result,n=e.target.fileObject.name,this.ui.statusMsg.text("Retrieved file content of "+n),r=(o=new v({content:btoa(t)})).save(),this.ui.statusMsg.text("Uploaded "+n+"."),r.fail(function(){return y.request("warning","failed to save model")}),r.done(function(){var e;return console.log("MODEL",o),e=o.get("data"),o.get("output"),y.request("success","Finished import year "+e.year),i.ui.statusMsg.text("Finished import year "+e.year)})}},{key:"readFile",value:function(e){var t;return(t=new FileReader).onload=this.fileReaderOnLoad,t.fileObject=e,t.readAsBinaryString(e)}},{key:"handleChosenFile",value:function(){var e,t;return t=this.ui.fileInput.val(),this.ui.statusMsg.text("Reading chosen file...("+t+")"),e=this.ui.fileInput[0].files[0],this.ui.parseBtn.hide(),this.readFile(e)}},{key:"handleDroppedFile",value:function(){return this.ui.statusMsg.text("Reading dropped file... ("+this.droppedFile.name+")"),this.ui.parseBtn.hide(),this.readFile(this.droppedFile)}},{key:"exportBtnClicked",value:function(){var n;return this.ui.statusMsg.text("Exporting database..."),(n=new c).fetch().done(function(){var e,t;return t={filename:"dbdump.json.xz",type:"application/octet-stream",data:n.get("content")},console.log("content",t.data),e=b(t.data,t.type),console.log("BLOB",e),f.saveAs(e,t.filename),y.request("primary","Exported database...."),console.log("exported",n)})}}]),u}();return e.prototype.template=w.renderable(function(e){return w.div(".listview-header","Hubby Dbadmin"),w.button(".delete-btn.btn.btn-danger","Delete"),w.button(".export-btn.btn.btn-info","Export"),_(e)}),e.prototype.ui={header:".listview-header",deleteBtn:".delete-btn",fileInput:".file-input",parseBtn:".parse-btn",chosenBtn:".parse-chosen-btn",exportBtn:".export-btn",dropzone:".dropzone",statusMsg:".card-header"},e.prototype.events={"dragover @ui.dropzone":"handleDragOver","dragenter @ui.dropzone":"handleDragEnter","drop @ui.dropzone":"handleDrop","click @ui.fileInput":"fileInputClicked","change @ui.fileInput":"fileInputChanged","click @ui.parseBtn":"handleDroppedFile","click @ui.chosenBtn":"handleChosenFile","click @ui.deleteBtn":"deleteBtnClicked","click @ui.exportBtn":"exportBtnClicked"},e}.call(void 0),e.exports=p},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});u(n(2));var o,r=u(n(38)),i=u(n(223));function u(e){return e&&e.__esModule?e:{default:e}}o=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),t}();return e.prototype.appRoutes={"adminpanel/useradmin":"listUsers","adminpanel/user/list":"listUsers","adminpanel/user/add":"addNewUser","adminpanel/user/view/:id":"viewUser","adminpanel/user/edit/:id":"editUser"},e}.call(void 0),t.default={router:o,controller:i.default}},function(e,t,o){"use strict";var n,r,i,u,a=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();o(4),n=o(1),o(2),o(3),o(6),o(37).ExtraController,u=n.Radio.channel("global"),i=u.request("crud:Controller"),r=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),a(t,[{key:"initialize",value:function(e){this.applet=u.request("main:applet:get-applet","adminpanel"),this.mainController=this.applet.router.controller}},{key:"listUsers",value:function(){var t=this;o.e(91).then(function(){var e;return e=o(338),t.listItems(e)}.bind(null,o)).catch(o.oe)}},{key:"viewUser",value:function(t){var n=this;o.e(92).then(function(){var e;return e=o(339),n.viewItem(e,t)}.bind(null,o)).catch(o.oe)}},{key:"addNewUser",value:function(){var e;e=u.request("crud:view:new-item"),this.addItem(e)}},{key:"editUser",value:function(e){var t;t=u.request("crud:view:edit-item"),this.editItem(t,e)}}]),t}();return e.prototype.defaultColumns=["id","username","fullname"],e.prototype.viewOptions={fieldList:["username","fullname","email"],entryField:"fullname",modelName:"user",label:"user",routeName:"adminpanel"},e.prototype.channelName="useradmin",e}.call(void 0),e.exports=r},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});c(n(2));var o=c(n(88)),r=c(n(176));n(131);var i,u,a,l=c(n(231));function c(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Backbone.Radio.channel("global"),Backbone.Radio.channel("resources"),a=[{button:"#list-button",label:"List",url:"#dbdocs/documents",icon:".fa.fa-list"},{label:"Add New Document",url:"#dbdocs/documents/new",icon:".fa.fa-plus"}],u=function(){var e=function(e){function t(){return s(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,r.default),t}();return e.prototype.appRoutes={dbdocs:"list_pages","dbdocs/documents":"list_pages","dbdocs/documents/new":"new_page","dbdocs/documents/view/:id":"view_page","dbdocs/documents/edit/:id":"edit_page"},e}.call(void 0),i=function(){var e=function(e){function t(){return s(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,o.default),t}();return e.prototype.Controller=l.default,e.prototype.Router=u,e.prototype.appletEntries=[{label:"Site Doc Menu",menu:a}],e}.call(void 0),t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,i,u,a,l,c,s=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),f=r(37),p=r(89),d=(n=p)&&n.__esModule?n:{default:n},h=r(39);Backbone.Radio.channel("global"),u=Backbone.Radio.channel("messages"),a=Backbone.Radio.channel("resources"),o=Backbone.Radio.channel("dbdocs"),l=[],c=new Backbone.Collection(l),o.reply("get-toolbar-entries",function(){return c}),i=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.MainController),s(t,[{key:"setupLayoutIfNeeded",value:function(){var e;return function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setupLayoutIfNeeded",this).call(this),e=new d.default({collection:c}),this.layout.showChildView("toolbar",e)}},{key:"list_pages",value:function(){var o=this;return this.setupLayoutIfNeeded(),console.log("List Pages"),r.e(28).then(function(){var e,t,n;return e=r(348),n=new e({collection:o.collection}),(t=o.collection.fetch()).done(function(){return o.layout.showChildView("content",n)}),t.fail(function(){return u.request("danger","Failed to load documents.")})}.bind(null,r)).catch(r.oe)}},{key:"edit_page",value:function(n){var o=this;return this.setupLayoutIfNeeded(),Promise.all([r.e(1),r.e(8)]).then(function(){var e,t;return e=r(188).EditPageView,t=a.request("get-document",n),o._loadView(e,t)}.bind(null,r)).catch(r.oe)}},{key:"view_page",value:function(n){var o=this;return this.setupLayoutIfNeeded(),r.e(27).then(function(){var e,t;return e=r(353),t=a.request("get-document",n),o._loadView(e,t)}.bind(null,r)).catch(r.oe)}},{key:"new_page",value:function(){var t=this;return this.setupLayoutIfNeeded(),Promise.all([r.e(1),r.e(8)]).then(function(){var e;return e=new(r(188).NewPageView),t.layout.showChildView("content",e)}.bind(null,r)).catch(r.oe)}}]),t}();return e.prototype.layoutClass=h.ToolbarAppletLayout,e.prototype.collection=a.request("document-collection"),e}.call(void 0),t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u=s(n(1)),a=(s(n(2)),s(n(38))),l=s(n(88)),c=s(n(233));function s(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(133),n(235),u.default.Radio.channel("global"),u.default.Radio.channel("resources"),i=[{id:"main",label:"Main View",url:"#ebcsv",icon:".fa.fa-eye"},{id:"cfglist",label:"Configs",url:"#ebcsv/configs/list",icon:".fa.fa-list"},{id:"dsclist",label:"Descriptions",url:"#ebcsv/descriptions/list",icon:".fa.fa-list"},{id:"uploadxml",label:"Upload CLZ/XML",url:"#ebcsv/xml/upload",icon:".fa.fa-upload"},{id:"mkcsv",label:"Create CSV",url:"#ebcsv/csv/create",icon:".fa.fa-cubes"},{id:"cached",label:"Cached Images",url:"#ebcsv/clzpage",icon:".fa.fa-image"},{id:"addcfg",label:"Create Cfg",url:"#ebcsv/configs/add",icon:".fa.fa-plus"}],r=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,a.default),t}();return e.prototype.appRoutes={ebcsv:"main_view","ebcsv/xml/upload":"upload_xml","ebcsv/csv/create":"create_csv","ebcsv/csv/preview":"preview_csv","ebcsv/clzpage":"view_cached_comics","ebcsv/configs":"list_configs","ebcsv/configs/list":"list_configs","ebcsv/configs/add":"add_new_config","ebcsv/configs/view/:name":"view_config","ebcsv/configs/edit/:name":"edit_config","ebcsv/descriptions":"list_descriptions","ebcsv/descriptions/list":"list_descriptions","ebcsv/descriptions/add":"add_new_description","ebcsv/descriptions/view/:name":"view_description","ebcsv/descriptions/edit/:name":"edit_description"},e}.call(void 0),o=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,l.default),t}();return e.prototype.Controller=c.default,e.prototype.Router=r,e.prototype.appletEntries=[{label:"Ebcsv Menu",menu:i}],e.prototype.state={currentCsvAction:void 0,currentCsvConfig:void 0,currentCsvDsc:void 0},e}.call(void 0),t.default=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),o=(h(i(4)),h(i(1))),r=h(i(2)),u=h(i(3)),a=h(i(6)),l=h(i(89)),c=h(i(46)),s=h(i(43)),f=h(i(5)),p=h(i(40)),d=h(i(234));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _,w,m,g,O,j,P,k=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")};w=i(37).MainController,o.default.Radio.channel("global"),m=o.default.Radio.channel("messages"),o.default.Radio.channel("resources"),g=o.default.Radio.channel("navbar"),O={id:"addcfg",label:"Create Cfg",url:"#ebcsv/configs/add",icon:".fa.fa-plus"},j={id:"adddsc",label:"Create Description",url:"#ebcsv/descriptions/add",icon:".fa.fa-plus"},function(){var e=function(e){function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,r.default.View),n(t,[{key:"regions",value:function(){var e;return(e=new s.default({el:"#main-content"})).slide_speed=(0,a.default)(".01s"),{content:e,toolbar:"#main-toolbar"}}}]),t}();return e.prototype.behaviors={ShowInitialEmptyContent:{behaviorClass:c.default}},e.prototype.template=u.default.renderable(function(e){return u.default.div(".col-md-12",function(){return u.default.div(".row",function(){return u.default.div("#main-toolbar.col-md-10.col-md-offset-1")}),u.default.div(".row",function(){return u.default.div("#main-content.col-md-10.col-md-offset-1")})})}),e}.call(void 0),P=new o.default.Collection([]),d.default.reply("get-toolbar-entries",function(){return P}),function(){var e=function(e){function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,l.default),t}();return e.prototype.options={entryTemplate:u.default.renderable(function(e){var t;return t={style:"overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"},u.default.span(t,function(){return u.default.i(e.icon),u.default.text(" "),u.default.text(e.label)})})},e}.call(void 0),_=function(e){function o(){y(this,o);var e=v(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments));return e._showMainView=e._showMainView.bind(e),e._show_create_csv_view=e._show_create_csv_view.bind(e),e._show_preview_csv_view=e._show_preview_csv_view.bind(e),e.create_csv=e.create_csv.bind(e),e}return b(o,w),n(o,[{key:"_showMainView",value:function(){var n=this;return k(this,o),Promise.all([i.e(0),i.e(11),i.e(35)]).then(function(){var e,t;return e=d.default.request("get-comics"),t=new(i(354))({collection:e}),n.layout.showChildView("content",t)}.bind(null,i)).catch(i.oe)}},{key:"_show_create_csv_view",value:function(){var n=this;return k(this,o),Promise.all([i.e(0),i.e(11),i.e(36)]).then(function(){var e,t;return e=d.default.request("get-comics"),t=new(i(356))({collection:e}),n.layout.showChildView("content",t)}.bind(null,i)).catch(i.oe)}},{key:"_show_preview_csv_view",value:function(){var n=this;return k(this,o),Promise.all([i.e(0),i.e(31)]).then(function(){var e,t;return e=d.default.request("get-comics"),t=new(i(357))({collection:e}),n.layout.showChildView("content",t)}.bind(null,i)).catch(i.oe)}},{key:"_needComicsView",value:function(e){return d.default.request("get-comics").length?e():(0,f.default)("#ebcsv/xml/upload")}},{key:"create_csv",value:function(){var e,t,n=this;return k(this,o),this.setupLayoutIfNeeded(),e=d.default.request("get_local_configs"),t=d.default.request("get_local_descriptions"),e.fetch().then(function(){return t.fetch().then(function(){return n._needComicsView(n._show_create_csv_view)})})}},{key:"preview_csv",value:function(){var e,t,n,o=this;if(this.setupLayoutIfNeeded(),e=d.default.request("get-current-csv-cfg"),t=d.default.request("get-current-csv-dsc"),n=d.default.request("get-superheroes-model"),void 0!==e)return e.fetch().then(function(){return t.fetch().then(function(){return n.fetch().then(function(){return o._needComicsView(o._show_preview_csv_view)})})});(0,f.default)("#ebcsv")}},{key:"main_view",value:function(){return this.setupLayoutIfNeeded(),this._needComicsView(this._showMainView)}},{key:"upload_xml",value:function(){var n=this;return this.setupLayoutIfNeeded(),Promise.all([i.e(0),i.e(37)]).then(function(){var e,t;return e=d.default.request("get-comics"),t=new(i(358))({collection:e}),n.layout.showChildView("content",t)}.bind(null,i)).catch(i.oe)}},{key:"view_cached_comics",value:function(){var t=this;return this.setupLayoutIfNeeded(),Promise.all([i.e(0),i.e(29)]).then(function(){var e;return e=new(i(359)),t.layout.showChildView("content",e)}.bind(null,i)).catch(i.oe)}},{key:"_setCfgEntries",value:function(){return g.request("get-entries","view").set([O])}},{key:"list_configs",value:function(){var o=this;return this.setupLayoutIfNeeded(),this._setCfgEntries(),i.e(33).then(function(){var n;return(n=d.default.request("get_local_configs")).fetch().done(function(e){var t;return console.log("ROWS",e,n),t=new(i(361))({collection:n}),o.layout.showChildView("content",t)})}.bind(null,i)).catch(i.oe)}},{key:"add_new_config",value:function(){var t=this;return this.setupLayoutIfNeeded(),this._setCfgEntries(),i.e(9).then(function(){var e;return e=new(i(191).NewFormView),t.layout.showChildView("content",e),(0,p.default)()}.bind(null,i)).catch(i.oe)}},{key:"view_config",value:function(t){var r=this;return this.setupLayoutIfNeeded(),this._setCfgEntries(),i.e(30).then(function(){var n,e,o;return n=i(362),e=d.default.request("get_local_configs"),(o=new e.model({id:t})).fetch().done(function(e){var t;return t=new n({model:o}),r.layout.showChildView("content",t),(0,p.default)()})}.bind(null,i)).catch(i.oe)}},{key:"edit_config",value:function(t){var r=this;return this.setupLayoutIfNeeded(),this._setCfgEntries(),i.e(9).then(function(){var n,e,o;return n=i(191),e=d.default.request("get_local_configs"),(o=new e.model({id:t})).fetch().done(function(e){var t;return t=new n.EditFormView({model:o}),r.layout.showChildView("content",t),(0,p.default)()})}.bind(null,i)).catch(i.oe)}},{key:"_setDscEntries",value:function(){return g.request("get-entries","view").set([j])}},{key:"list_descriptions",value:function(){var o=this;return this.setupLayoutIfNeeded(),this._setDscEntries(),i.e(34).then(function(){var n,e;return(e=(n=d.default.request("get_local_descriptions")).fetch()).done(function(e){var t;return t=new(i(363))({collection:n}),o.layout.showChildView("content",t)}),e.fail(function(){return m.request("danger","Failed to get descriptions")})}.bind(null,i)).catch(i.oe)}},{key:"add_new_description",value:function(){var t=this;return this.setupLayoutIfNeeded(),this._setDscEntries(),Promise.all([i.e(1),i.e(4),i.e(10)]).then(function(){var e;return e=new(i(192).NewFormView),t.layout.showChildView("content",e),(0,p.default)()}.bind(null,i)).catch(i.oe)}},{key:"view_description",value:function(t){var r=this;return this.setupLayoutIfNeeded(),this._setDscEntries(),i.e(32).then(function(){var n,e,o;return n=i(364),e=d.default.request("get_local_descriptions"),(o=new e.model({id:t})).fetch().done(function(e){var t;return t=new n({model:o}),r.layout.showChildView("content",t),(0,p.default)()})}.bind(null,i)).catch(i.oe)}},{key:"edit_description",value:function(e){var t,r=this;return this.setupLayoutIfNeeded(),this._setDscEntries(),t=d.default.request("get_local_descriptions"),Promise.all([i.e(1),i.e(4),i.e(10)]).then(function(){var n,o;return n=i(192),t=d.default.request("get_local_descriptions"),(o=new t.model({id:e})).fetch().done(function(e){var t;return t=new n.EditFormView({model:o}),r.layout.showChildView("content",t),(0,p.default)()})}.bind(null,i)).catch(i.oe)}}]),o}(),t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1));r(n(2));function r(e){return e&&e.__esModule?e:{default:e}}t.default=o.default.Radio.channel("ebcsv")},function(e,t,n){"use strict";n(236),n(261)},function(e,t,n){"use strict";var o,r,i,u,a,l,c,s,f,p,d;r=n(1),n(95),n(6),n(83),n(100),n(35),n(21),n(253),p=n(254),f=n(255),s=n(256),l=n(257),c=n(259),d=n(260),r.Radio.channel("messages"),o=r.Radio.channel("ebcsv"),a=o.request("grouped-csv-fields"),i=function(e){var t,n;return n={},t=e.cfg.get("content"),n.action=e.action,a.ReqFieldNames.forEach(function(e){return n[e]=t[e]}),a.OptFieldNames.forEach(function(e){return n[e]=t[e]}),a.EbayFields.forEach(function(e){return n[e]=""}),n},u=function(e){var t,n,o;return t=e.comic,e.cfg.get("content"),(o=i(e)).quantity!==t.quantity&&(o.quantity=t.quantity),p(o,e),f(o,e),s(o,e),l(o,e),c(o,e),(null!=(n=t.mainsection)?n.plot:void 0)&&(t.mainsection.plot=t.mainsection.plot.split("<br>").join("\n"),t.mainsection.plot=t.mainsection.plot.split("<BR>").join("\n")),d(o,e),o},o.reply("create-csv-row-object",function(e){return u(e)}),e.exports={}},,,,,,function(e,t){},,function(e,t){},,,,,,,,,function(e,t,n){"use strict";var o,r,i,l,c,s,f,u;r=n(1),n(95),n(6),n(83),n(100),n(35),f=n(21).default,r.Radio.channel("messages"),o=r.Radio.channel("ebcsv"),l=["Title","PicURL","Description","Product:EAN","Product:UPC","Product:ISBN","*Category"],s=["format","location","returnsacceptedoption","duration","quantity","startprice","dispatchtimemax","conditionid"],o.reply("csv-req-fieldnames",function(){return s}),c=["postalcode","paymentprofilename","returnprofilename","shippingprofilename","scheduletime"],o.reply("csv-opt-fieldnames",function(){return c}),u=function(){var e,t,n,o,r,i,u,a;for(t={action:"*Action"},n=0,i=s.length;n<i;n++)t[e=s[n]]="*"+f(e);for(o=0,u=c.length;o<u;o++)t[e=c[o]]=e;for(r=0,a=l.length;r<a;r++)t[e=l[r]]=e;return t},o.reply("create-csv-header",function(){return create-csv-header()}),i=u(),o.reply("get-csv-header",function(){return i}),o.reply("grouped-csv-fields",function(){return{ReqFieldNames:s,OptFieldNames:c,EbayFields:l}}),e.exports={}},function(e,t,n){"use strict";var o;o=function(e,t){var n,o;if(null!=(n=t.comic)?n.currentprice:void 0){for(o=n.currentprice;o.startsWith("$");)o=o.substring(1,o.length);return e.startprice=o}},e.exports=o},function(e,t,n){"use strict";var i,u,o;u=n(6),i=n(83),o=function(e,t){var n,o,r;return r=u(e.scheduletime),e.scheduletime=r?(o=(new Date).valueOf()+r,n=new Date(o),i(n,"yyyy-mm-dd HH:MM:ss")):""},e.exports=o},function(e,t,n){"use strict";var o;o=function(e,t){var n,o;if(null!=(n=t.comic)?n.isbn:void 0)return 14===(o=n.isbn).length&&(o=o.substring(0,o.length-2)),13===o.length&&(o=o.substring(1,o.length)),e["Product:UPC"]=o},e.exports=o},function(e,t,n){"use strict";var v,o,b,r;o=n(1),n(133),n(258),b=o.Radio.channel("messages"),v=o.Radio.channel("ebcsv"),r=function(e,t){var n,o,r,i,u,a,l,c,s,f,p,d,h,y;for(o=t.comic,a=v.request("get-superheroes-model").get("rows"),(y=null!=(d=o.publicationdate)?d.year:void 0)||(y=o.releasedate.year,console.warn("Using releasedate")),y||(console.warn("Bad date for comic",o),b.request("danger","Bad Date for comic "+o.id)),y=parseInt(y.displayname),h=o.mainsection.series.displayname.toLowerCase(),n=v.request("find-age",y),p=void 0,u={},s=0,f=(c=v.request("get-heroes-by-age",y,a)).length;s<f;s++)(l=c[s]).superhero.startsWith("Other ")&&(p=l),u[l.superhero.toLowerCase()]=l;for(i in null==p&&b.request("danger","No category found for "+n),r=p,u)if(0<=h.indexOf(i)){r=u[i];break}return e["*Category"]=r.id},e.exports=r},function(e,t,n){"use strict";var o,r,i,u,a;(r=n(1)).Radio.channel("messages"),o=r.Radio.channel("ebcsv"),i={platinum:{start:1897,end:1937},golden:{start:1938,end:1955},silver:{start:1956,end:1969},bronze:{start:1970,end:1983},copper:{start:1984,end:1991},modern:{start:1992,end:2100}},u=function(e){var t,n;for(n in i)if(e>=(t=i[n]).start&&e<=t.end)return n;return!1},o.reply("get-comic-ages",function(){return i}),o.reply("find-age",function(e){return u(e)}),a=function(e,t){var n,o;return n=u(e),o=[],t.forEach(function(e){if(e.age===n)return o.push(e)}),o},o.reply("get-heroes-by-age",function(e,t){return a(e,t)}),e.exports={}},function(e,t,n){"use strict";var i,o,r;o=n(1),n(133),o.Radio.channel("messages"),i=o.Radio.channel("ebcsv"),r=function(e,t){var n,o,r;return n=t.comic,r=i.request("get-comic-image-urls"),o=n.links.link.url,t.image_src=r[o].replace("http://","//"),e.PicURL=r[n.links.link.url]},e.exports=r},function(e,t,n){"use strict";var o,a,l,c,r,s=[].indexOf;o=n(1),l=n(100),c=n(35),a=o.Radio.channel("messages"),o.Radio.channel("ebcsv"),r=function(e,t){var n,o,r,i,u;return t.comic,o=t.desc,80<(u=l.compile(o.get("title"))(t)).length&&(r="Title too long.\n",i=u.substring(0,79),r=r+(u+" ----\x3e ")+i,a.request("danger",r),u=i),e.Title=u,n=l.compile(o.get("content"))(t),32700<(n=(n=(n=c(n)).split("\r").join("")).split("\n").join("")).length&&(r=n.length+" characters in description",a.request("warning",r)),0<=s.call(n,"\n")&&a.request("danger","newline in description"),e.Description=n},e.exports=r},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d,u,a,l,h,c,s,f,p;u=n(1),p=n(95),n(6),n(83),n(100),n(35),n(21),h=u.Radio.channel("messages"),d=u.Radio.channel("ebcsv"),f=new p.Parser({explicitArray:!1,async:!1}),d.reply("get-xmlparser",function(){return f}),c=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,u.Model),t}(),s=function(){var e=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,u.Collection),t}();return e.prototype.model=c,e}.call(void 0),a=new s,d.reply("set-comics",function(e){return a.set(e)}),d.reply("get-comics",function(){return a}),l=new s,d.reply("set-all-comics",function(e){return l.set(e)}),d.reply("get-all-comics",function(){return l}),d.reply("parse-all-comics-xml",function(e,o){return f.parseString(e,function(e,t){var n;return(null!=(n=t.comicinfo.comiclist.comic)?n.length:void 0)||(console.warn("Single comic!"),n=[n]),d.request("set-all-comics",forsale),o()})}),d.reply("parse-comics-for-sale",function(e,p){return f.parseString(e,function(e,t){var n,o,r,i,u,a,l,c,s,f;for((null!=(r=t.comicinfo.comiclist.comic)?r.length:void 0)||(r=[r]),i=[],a=[],n=[],u=0,l=r.length;u<l;u++)"For Sale"===(f=(o=r[u]).collectionstatus._)?o.links?i.push(o):n.push(o):"In Collection"===f?a.push(o):(s="Cannot determine comic status of ("+((c=o.mainsection).series.displayname+" #"+c.issue)+")!",h.request("danger",s));return a.length&&(s=a.length+" ignored!!",h.request("warning",s)),i.length||h.request("danger","No comics for sale!"),n.length&&(s="There was some bad xml, skipped "+n.length+" comics.",h.request("danger",s)),d.request("set-comics",i),p()})}),d.reply("parse-comics-xml",function(e,o){return f.parseString(e,function(e,t){var n;return(null!=(n=t.comicinfo.comiclist.comic)?n.length:void 0)||(n=[n]),d.request("set-comics",n),o()})}),e.exports={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=p(n(1)),r=(p(n(2)),p(n(38))),i=p(n(88)),u=p(n(21));n(263);var a,l,c,s,f=p(n(266));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}c="freelaw",o.default.Radio.channel("global"),o.default.Radio.channel(c),s=[{label:"List",url:"#freelaw",icon:".fa.fa-list"},{label:"Calendar",url:"#freelaw/calendar",icon:".fa.fa-calendar"}],l=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,r.default),t}();return e.prototype.appRoutes={freelaw:"listClusters"},e}.call(void 0),a=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,i.default),t}();return e.prototype.Controller=f.default,e.prototype.Router=l,e.prototype.appletEntries=[{label:(0,u.default)(c)+" Menu",menu:s}],e}.call(void 0),t.default=a},function(e,t,n){"use strict";var o,r,i,u,a,l,c,s,f,p,d,h,y,v,b,_,w,m,g,O,j,P=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),k=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0};function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}y=n(0),r=n(1),n(98),f=n(123).default,u=n(47).default,_=n(264),console.log("clToken "+_),r.Radio.channel("global"),o=r.Radio.channel("freelaw"),n(265),g=function(){return"Token "+_},j=function(e){e.setRequestHeader("Authorization",g())},b=function(e){return(e=e||{}).beforeSend=j,e},l=function(e){function o(){return C(this,o),R(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return E(o,r.Model),P(o,[{key:"sync",value:function(e,t,n){return n=b(n),k(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"sync",this).call(this,e,t,n)}}]),o}(),i=function(){var e=function(e){function t(){return C(this,t),R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,u),P(t,[{key:"parse",value:function(e){var t;return t=e.count,this.state.totalRecords=t,this.state.totalPages=Math.ceil(t/20),this.state.lastPage=this.state.totalPages,e.results}}]),t}();return e.prototype.state={firstPage:1,currentPage:1,sortColumn:"id",pageSize:20},e.prototype.queryParams={page:function(){return this.state.currentPage},format:"json",pageSize:null},e}.call(void 0),a=function(e){function o(){return C(this,o),R(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return E(o,i),P(o,[{key:"sync",value:function(e,t,n){return console.log("CLCollection options",n),n=b(n),console.log("CLCollection options again",n),n.url||(n.url=this.urlRoot+"/"),k(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"sync",this).call(this,e,t,n)}}]),o}(),m={channelName:"freelaw"},O=(v="http://127.0.0.1:9000/api/rest/v3")+"/opinions",d=function(){var e=function(e){function t(){return C(this,t),R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,l),t}();return e.prototype.urlRoot=O,e}.call(void 0),p=function(){var e=function(e){function t(){return C(this,t),R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,a),t}();return e.prototype.urlRoot=O,e.prototype.model=d,e}.call(void 0),h=function(){var e=function(e){function t(){return C(this,t),R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,l),t}();return e.prototype.url=O,e}.call(void 0),new f(y.extend(m,{modelName:"opinion",modelClass:d,collectionClass:p})),o.reply("db:opinion:list",function(){return new h}),w=v+"/clusters",s=function(){var e=function(e){function t(){return C(this,t),R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,l),t}();return e.prototype.urlRoot=w,e}.call(void 0),c=function(){var e=function(e){function t(){return C(this,t),R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,a),t}();return e.prototype.urlRoot=w,e.prototype.model=s,e}.call(void 0),function(){var e=function(e){function t(){return C(this,t),R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,l),t}();return e.prototype.url=w,e}.call(void 0),new f(y.extend(m,{modelName:"cluster",modelClass:s,collectionClass:c}))},function(e,t){e.exports="a4a26bd256e10cc6247dc5029c32190963bca941"},function(e,t){e.exports="# The Waiter at the End of the Universe \n#### (or just a unique name for an app)\n\nA couple of apps:\n\n1. [The Movie DB (tv shows)](#moviedb)\n\n\tSearch for television shows, as well as movies. Shows a\n\tlist of episodes if available.\n  \n1. [TV Maze API demo](#tvmaze)\n\n\tSearch for television shows and store the results in \n\ta local browser database.\n\t\n\n\t\n\nThis site is running:\n\n- [bootstrap](https://getbootstrap.com/) -\n  Twitter Bootstrap is a very popular and useful css framework.\n\n- [backbone.marionette](https://marionettejs.com/)\n  Backbone provides models, collections and basic views.  Marionette \n  helps make view layout and management much easier.\n  \n- [tbirds](https://github.com/umeboshi2/tbirds/)\n  Tbirds is the simple framework I created specifically for creating\n  single page applications using bootstrap and backbone.marionette.\n\n- lovefield\n\n\nThis site was built with:\n\n- webpack\n\n- coffeescript\n\n\n[I Love Lucy](#moviedb/tv/shows/view/2730)\n\n\n\n\nThis is a page that discusses some of the \n[projects](#pages/projects) I placed on github.\n\n\n"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,n,o=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),u=c(r(1)),a=(c(r(2)),c(r(3)),c(r(6)),c(r(89)),r(37)),l=r(39);c(r(5)),c(r(40));function c(e){return e&&e.__esModule?e:{default:e}}u.default.Radio.channel("global"),u.default.Radio.channel("messages"),u.default.Radio.channel("resources"),i=u.default.Radio.channel("freelaw"),n=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.MainController),o(t,[{key:"viewIndex",value:function(){var t=this;return this.setupLayoutIfNeeded(),r.e(38).then(function(){var e;return e=new(r(365)),t.layout.showChildView("content",e)}.bind(null,r)).catch(r.oe)}},{key:"viewOpinion",value:function(e){var o=this;return this.setupLayoutIfNeeded(),r.e(40).then(function(){var t,n;return t=r(366),(n=i.request("db:opinion:get",e)).fetch().done(function(){var e;return e=new t({model:n}),o.layout.showChildView("content",e),console.log("OPINION",n)})}.bind(null,r)).catch(r.oe)}},{key:"listOpinions",value:function(){var o=this;return this.setupLayoutIfNeeded(),r.e(39).then(function(){var t,n;return t=r(367),(n=i.request("db:opinion:collection")).fetch().done(function(){var e;return e=new t({collection:n}),o.layout.showChildView("content",e)})}.bind(null,r)).catch(r.oe)}},{key:"listClusters",value:function(){var o=this;return this.setupLayoutIfNeeded(),r.e(39).then(function(){var t,n;return t=r(368),(n=i.request("db:cluster:collection")).fetch().done(function(){var e;return e=new t({collection:n}),o.layout.showChildView("content",e)})}.bind(null,r)).catch(r.oe)}}]),t}();return e.prototype.layoutClass=l.ToolbarAppletLayout,e}.call(void 0),t.default=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),a=(s(n(2)),s(n(38))),l=s(n(88)),c=s(n(268));function s(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Backbone.Radio.channel("global"),Backbone.Radio.channel("frontdoor"),i=[{id:"dbadmin",label:"Db Admin",url:"#frontdoor/dbadmin",icon:".fa.fa-database"}],r=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,a.default),t}();return e.prototype.appRoutes={"":"frontdoor",frontdoor:"frontdoor","frontdoor/view":"frontdoor","frontdoor/view/*name":"viewPage","frontdoor/login":"showLogin","frontdoor/logout":"showLogout","pages/:name":"viewPage","frontdoor/upload":"uploadView","frontdoor/themes":"themeSwitcher","frontdoor/stats":"statsView","frontdoor/emojilist":"viewEmojis"},e}.call(void 0),o=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,l.default),u(t,[{key:"onStop",value:function(){return console.log("(Child) Stopping frontdoor",this.isRunning()),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onStop",this).call(this)}}]),t}();return e.prototype.Controller=c.default,e.prototype.Router=r,e.prototype.appletEntries=[{label:"Main Menu",menu:i}],e}.call(void 0),t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),o=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0},i=(s(r(137)),s(r(1))),u=(s(r(2)),s(r(43))),a=s(r(5)),l=r(39),c=s(r(269));function s(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h,y,v,b,_,w,m,g,O,j,P=[].indexOf,k=r(37);w=k.MainController,r(34).login_form,r(131),_=i.default.Radio.channel("global"),m=i.default.Radio.channel("messages"),i.default.Radio.channel("static-documents"),i.default.Radio.channel("resources"),j=r(3);var C=r(138);v=C.FrontDoorMainView,h=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,i.default.Model),n(t,[{key:"fetch",value:function(e){return(e=e||{}).dataType="text",o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fetch",this).call(this,e)}},{key:"parse",value:function(e){return{content:e}}}]),t}(),function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,i.default.Collection),t}();return e.prototype.urlRoot="/assets/documents",e}.call(void 0),g=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,h),t}();return e.prototype.url="/assets/documents/intro.md",e}.call(void 0),O=j.renderable(function(){return j.div(".row",function(){return j.div("#main-content")})}),b=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,l.BaseAppletLayout),n(t,[{key:"regions",value:function(){return{content:new u.default({el:"#main-content",speed:"slow"})}}}]),t}();return e.prototype.template=O,e}.call(void 0),y=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,w),n(t,[{key:"setupLayoutIfNeeded",value:function(){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setupLayoutIfNeeded",this).call(this),this.layout.controller=this}},{key:"_viewResource",value:function(e){var t;return this.setupLayoutIfNeeded(),t=new v({model:e}),this.layout.showChildView("content",t)}},{key:"_viewLogin",value:function(){var e;return e=new c.default,this.layout.showChildView("content",e)}},{key:"_viewUpload",value:function(){var t=this;return Promise.all([r.e(17),r.e(42)]).then(function(){var e;return e=new(r(369)),t.layout.showChildView("content",e)}.bind(null,r)).catch(r.oe)}},{key:"uploadView",value:function(){return this.setupLayoutIfNeeded(),this._viewUpload()}},{key:"frontdoor_needuser",value:function(){var e;return e=_.request("main:app:decode-auth-token"),0<=P.call(Object.keys(e),"name")?this.frontdoor_hasuser(e):this.show_login()}},{key:"showLogin",value:function(){return this.setupLayoutIfNeeded(),this._viewLogin()}},{key:"showLogout",value:function(){return _.request("main:app:destroy-auth-token"),(0,a.default)("/")}},{key:"frontdoor_hasuser",value:function(e){return this.defaultView()}},{key:"view_readme",value:function(){var e,t,n=this;return this.setupLayoutIfNeeded(),(t=(e=new g).fetch()).done(function(){return n._viewResource(e)}),t.fail(function(){return m.request("warning","failed to get readme")})}},{key:"viewPage",value:function(e){var t,n,o=this;return console.log("NAME IS",e),this.setupLayoutIfNeeded(),t=_.request("main:app:get-document",e),console.log("MODEL IS",t),(n=t.fetch()).done(function(){return o._viewResource(t)}),n.fail(function(){return m.request("warning","failed to get "+e)})}},{key:"defaultView",value:function(){return this.setupLayoutIfNeeded(),this.view_readme()}},{key:"frontdoor",value:function(){var e;return(null!=(e=_.request("main:app:config"))?e.needLogin:void 0)?this.frontdoor_needuser():this.defaultView()}},{key:"themeSwitcher",value:function(){var e;return this.setupLayoutIfNeeded(),e=new(r(138).ThemeSwitchView),this.layout.showChildView("content",e),console.log("themeSwitcher")}},{key:"statsView",value:function(){var t,n,o=this;this.setupLayoutIfNeeded();var e=r(138);return t=e.StatsView,(n=new i.default.Model).url="/stats.json",n.fetch().done(function(){var e;return e=new t({model:n}),o.layout.showChildView("content",e)})}},{key:"viewEmojis",value:function(){var t=this;return this.setupLayoutIfNeeded(),r.e(41).then(function(){var e;return e=new(r(370)),t.layout.showChildView("content",e)}.bind(null,r)).catch(r.oe)}},{key:"viewDbAdmin",value:function(){var t=this;return this.setupLayoutIfNeeded(),r.e(43).then(function(){var e;return e=new(r(371)),t.layout.showChildView("content",e)}.bind(null,r)).catch(r.oe)}}]),t}();return e.prototype.layoutClass=b,e}.call(void 0),t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l,c,s,f,p=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),d=m(n(4)),h=m(n(1)),y=m(n(2)),v=m(n(3)),b=m(n(42)),_=m(n(5)),w=m(n(36));function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var P=n(34);c=P.form_group_input_div,i=h.default.Radio.channel("global"),a=h.default.Radio.channel("messages"),s=v.default.renderable(function(e){return c({input_id:"input_username",label:"User Name",input_attributes:{name:"username",placeholder:"User Name"}}),c({input_id:"input_password",label:"Password",input_attributes:{name:"password",type:"password",placeholder:"Type your password here...."}}),v.default.input(".btn.btn-default",{type:"submit",value:"login"}),v.default.div(".spinner.fa.fa-spinner.fa-spin")}),o=function(e){function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,w.default),p(t,[{key:"ui",value:function(){return(0,b.default)(this.fieldList)}},{key:"createModel",value:function(){return new h.default.Model}},{key:"onSuccess",value:function(){return(0,_.default)("/")}}]),t}(),r=function(){var e=function(e){function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,o),p(t,[{key:"updateModel",value:function(){return console.log("updateModel called"),this.model.set("username",this.ui.username.val()),this.model.set("password",this.ui.password.val())}},{key:"saveModel",value:function(){var e,t,n,o=this;return t=this.model.get("username"),e=this.model.get("password"),n=d.default.ajax({url:"/login",type:"POST",data:{username:t,password:e},dataType:"json",success:function(e){var t;return t=e.token,i.request("main:app:set-auth-token",t),o.trigger("save:form:success",o.model)},error:function(e){var t;return t=e.responseJSON,a.request("danger",t.message),o.trigger("save:form:failure",o.model)}}),console.log("returning xhr",n)}}]),t}();return e.prototype.template=s,e.prototype.fieldList=["username","password"],e}.call(void 0),f=v.default.renderable(function(e){return c({input_id:"input_token",label:"Auth Token",input_attributes:{name:"token",placeholder:"xxxxxxxxxxxxxxx"}}),v.default.input(".btn.btn-default",{type:"submit",value:"login"}),v.default.div(".spinner.fa.fa-spinner.fa-spin")}),l=function(){var e=function(e){function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,o),p(t,[{key:"updateModel",value:function(){return console.log("updateModel called"),this.model.set("token",this.ui.token.val())}},{key:"saveModel",value:function(){var e,t,n,o=this;return n=this.model.get("token"),i.request("main:app:set-auth-token",n),e=new(i.request("main:app:AuthRefresh")),(t=e.fetch()).fail(function(){var e;return e=t.responseJSON,a.request("danger",e.message),o.trigger("save:form:failure",o.model)}),t.done(function(){return o.trigger("save:form:success",o.model)})}}]),t}();return e.prototype.template=f,e.prototype.fieldList=["token"],e}.call(void 0),u=function(){var e=function(e){function t(){return g(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,y.default.View),p(t,[{key:"onRender",value:function(){return this.showChildView("login",new r),this.showChildView("token",new l)}}]),t}();return e.prototype.template=v.default.renderable(function(e){return v.default.div("#login-form"),v.default.div("#token-form")}),e.prototype.regions={login:"#login-form",token:"#token-form"},e}.call(void 0),t.default=u},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),r=d(n(4)),i=(d(n(2)),d(n(38))),u=d(n(88));n(110);var a,l,c,s,f,p=d(n(277));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Backbone.Radio.channel("global"),a=Backbone.Radio.channel("hubby"),s=[{label:"Main",url:"#hubby"},{label:"list",url:"#hubby/listmeetings"},{label:"People",url:"#hubby/people"},{label:"Departments",url:"#hubby/departments"},{label:"search",url:"#hubby/search"}],c=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,i.default),t}();return e.prototype.appRoutes={hubby:"mainview","hubby/listmeetings":"list_meetings","hubby/viewmeeting/:id":"view_meeting","hubby/oldviewmeeting/:id":"viewMeetingOld","hubby/search":"view_items","hubby/pdfview":"viewPdfTest","hubby/people":"listPeople"},e}.call(void 0),l=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,u.default),o(t,[{key:"onBeforeStart",value:function(e){var o;return function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onBeforeStart",this).call(this,e),o=this.router.controller,a.reply("main-controller",function(){return o}),a.reply("view-calendar",function(e,t){return o.show_calendar(e,t)}),a.reply("view-meeting-orig",function(e,t,n){return o.show_meeting(e,t,n)}),a.reply("view-meeting",function(e){return o.show_meeting(e.layout,e.region,e.id)}),a.reply("view-items",function(e,t,n){return o.list_items(e,t,n)})}}]),t}();return e.prototype.Controller=p.default,e.prototype.Router=c,e.prototype.appletEntries=[{label:"Hubby Menu",menu:s}],e}.call(void 0),f=void 0,a.reply("maincalendar:set-date",function(){var e;return e=(0,r.default)("#maincalendar"),f=e.fullCalendar("getDate")}),a.reply("maincalendar:get-date",function(){return f}),t.default=l},,,function(e,t,a){"use strict";var r,o,n,i,u,l,c,s,f=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}o=a(1),u=a(2),s=a(3),a(6),i=a(37).MainController,a(39).ToolbarAppletLayout,c=a(5).default,o.Radio.channel("global"),l=o.Radio.channel("messages"),r=o.Radio.channel("hubby"),function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,u.View),f(t,[{key:"show_calendar",value:function(){return"#hubby"===window.location.hash?r.request("main-controller").mainview():c("#hubby")}},{key:"list_meetings",value:function(){return c("#hubby/listmeetings")}},{key:"search_hubby",value:function(){var e,t;return e=r.request("main-controller"),t={searchParams:{title:this.ui.search_entry.val()}},console.log("search for",t),e.view_items(t)}}]),t}();return e.prototype.template=s.renderable(function(){return s.div(".btn-group.btn-group-justified",function(){return s.div("#show-calendar-button.btn.btn-default",function(){return s.i(".fa.fa-calendar"," Calendar")}),s.div("#list-meetings-button.btn.btn-default",function(){return s.i(".fa.fa-list"," List Meetings")})}),s.div(".input-group",function(){return s.input(".form-control",{type:"text",placeholder:"search",name:"search"}),s.span(".input-group-btn",function(){return s.button("#search-button.btn.btn-default",function(){return s.i(".fa.fa-search","Search")})})})}),e.prototype.ui={search_bth:"#search-button",show_cal_btn:"#show-calendar-button",list_btn:"#list-meetings-button",search_entry:".form-control"},e.prototype.events={"click @ui.show_cal_btn":"show_calendar","click @ui.list_btn":"list_meetings","click @ui.search_bth":"search_hubby"},e}.call(void 0),n=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,i),f(t,[{key:"show_calendar",value:function(o,r){return Promise.all([a.e(6),a.e(49)]).then(function(){var e,t,n;return e=a(372),t={},"minicalendar"===r&&(t.minicalendar=!0,t.layout=o),n=new e(t),o.showChildView(r,n)}.bind(null,a)).catch(a.oe)}},{key:"mainview",value:function(){return this.setupLayoutIfNeeded(),this.show_calendar(this.layout,"content"),this.scrollTop()}},{key:"list_meetings",value:function(){var o=this;return this.setupLayoutIfNeeded(),a.e(44).then(function(){var t,n,e;return a(110).MainMeetingModel,n=r.request("meetinglist"),t=a(374),(e=n.fetch()).done(function(){var e;return e=new t({collection:n}),o.layout.showChildView("content",e)}),e.fail(function(){return l.request("danger","Failed to load meeting list")})}.bind(null,a)).catch(a.oe)}},{key:"listPeople",value:function(){var o=this;return this.setupLayoutIfNeeded(),a.e(104).then(function(){var t,n,e;return t=a(375),(e=(n=r.request("personlist")).fetch()).done(function(){var e;return e=new t({collection:n}),o.layout.showChildView("content",e)}),e.fail(function(){return l.request("danger","Failed to load people.")})}.bind(null,a)).catch(a.oe)}},{key:"_loadRegionView",value:function(t,n,o,r){var e,i=this;return(e=r.fetch()).done(function(){var e;return e=new o({model:r}),t.showChildView(n,e),i.scrollTop()}),e.fail(function(){return l.request("danger","failed to load model")})}},{key:"show_meeting",value:function(o,r,i){var u=this;return Promise.all([a.e(2),a.e(18),a.e(45)]).then(function(){var e,t,n;return e=a(110).MainMeetingModel,t=a(376),n=new e({id:i}),u._loadRegionView(o,r,t,n)}.bind(null,a)).catch(a.oe)}},{key:"viewMeetingOld",value:function(o){var r=this;return this.setupLayoutIfNeeded(),Promise.all([a.e(2),a.e(46)]).then(function(){var e,t,n;return e=a(110).MainMeetingModel,t=a(395),n=new e({id:o}),r._loadRegionView(r.layout,"content",t,n)}.bind(null,a)).catch(a.oe)}},{key:"view_meeting",value:function(e){return this.setupLayoutIfNeeded(),this.show_meeting(this.layout,"content",e)}},{key:"view_items",value:function(e){return this.setupLayoutIfNeeded(),this.list_items(this.layout,"content",e)}},{key:"list_items",value:function(r,i,u){return a.e(48).then(function(){var e,t,n,o=this;return e=a(110).ItemCollection,t=a(396),(n=new e([])).searchParams=u.searchParams,console.log("ItemCollection",n),n.fetch().done(function(){var e;return e=new t({collection:n}),r.showChildView(i,e),o.scrollTop()})}.bind(null,a)).catch(a.oe)}},{key:"viewPdfTest",value:function(){var n=this;return this.setupLayoutIfNeeded(),Promise.all([a.e(18),a.e(47)]).then(function(){var e,t;return e=new o.Model({url:"/assets/Minutes.pdf"}),t=new(a(155))({model:e}),console.log("THIS IS",n),n.layout.showChildView("content",t),n.scrollTop()}.bind(null,a)).catch(a.oe)}}]),t}(),e.exports=n},,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u=f(n(1)),a=(f(n(2)),f(n(38))),l=f(n(88)),c=f(n(21)),s=f(n(287));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(289),u.default.Radio.channel("global"),u.default.Radio.channel("msleg"),i=[{label:"List House Members",url:"#msleg",icon:".fa.fa-list"},{label:"Calendar",url:"#msleg/calendar",icon:".fa.fa-calendar"}],r=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,a.default),t}();return e.prototype.appRoutes={msleg:"viewIndex"},e}.call(void 0),o=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,l.default),t}();return e.prototype.Controller=s.default,e.prototype.Router=r,e.prototype.appletEntries=[{label:(0,c.default)("msleg")+" Menu",menu:i}],e}.call(void 0),t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),a=s(n(1)),l=(s(n(2)),s(n(3)),s(n(6)),s(n(89)),n(37)),c=n(39);s(n(5)),s(n(40));function s(e){return e&&e.__esModule?e:{default:e}}a.default.Radio.channel("global"),a.default.Radio.channel("messages"),a.default.Radio.channel("resources"),o=a.default.Radio.channel("msleg"),i=n(288).production,o.reply("get-msleg-config",function(){return i}),r=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.MainController),u(t,[{key:"viewIndex",value:function(){var t=this;return this.setupLayoutIfNeeded(),0,n.e(54).then(function(){var e;return e=new(n(417)),t.layout.showChildView("content",e)}.bind(null,n)).catch(n.oe)}}]),t}();return e.prototype.layoutClass=c.ToolbarAppletLayout,e}.call(void 0),t.default=r},function(e,t,n){"use strict";var o,r;o="http://billstatus.ls.state.ms.us",r="//cors-anywhere.herokuapp.com",e.exports={production:{allmsrs:r+"/"+o+"/2017/pdf/all_measures/allmsrs.xml",hr_membs:r+"/"+o+"/members/hr_membs.xml"},developmentNew:{allmsrs:r+"/"+o+"/2017/pdf/all_measures/allmsrs.xml",hr_membs:r+"/"+o+"/members/hr_membs.xml"},development:{allmsrs:"/assets/allmsrs.xml",hr_membs:"/assets/hr_membs.xml"}}},function(e,t,n){"use strict";var o,r,i,u,a,l,c,s,f,p,d=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),h=b(n(1)),y=n(104),v=b(n(41));function b(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a=h.default.Radio.channel("global"),r=h.default.Radio.channel("msleg"),s=a.request("main:app:dbConn","msleg"),l=new y.LoveStore(s,"XMLObject"),p=["url","content"],i=function(){var e=function(e){function t(){return _(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,h.default.Model),d(t,[{key:"toJSON",value:function(){var t,n=this;return t={},p.forEach(function(e){return t[e]=n.get(e)}),t}}]),t}();return e.prototype.loveStore=l,e.prototype.idAttribute="url",e}.call(void 0),u=function(){var e=function(e){function t(){return _(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,v.default),t}();return e.prototype.loveStore=l,e.prototype.mode="client",e}.call(void 0),o=function(){var e=function(e){function t(){return _(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,h.default.Collection),t}();return e.prototype.loveStore=l,e.prototype.model=i,e}.call(void 0),c=new o,f=new u,r.reply("get-all-local-xmlobjects",function(){return c}),r.reply("get-local-xmlobjects",function(){return f}),r.reply("get-local-xmlobject-model",function(){return i}),r.reply("get-local-xmlobject-collection",function(){return u}),r.reply("save-local-xmlObject",function(e){var t,n;return t=new i({url:e.url,content:e}),n=!0,t.isNew=function(){return!!n&&!(n=!1)},local_shows.add(t),t.save()})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=f(n(1)),r=(f(n(2)),f(n(38))),i=f(n(88)),u=f(n(21));n(291);var a,l,c,s=f(n(292));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}console.log("dbchannel imported"),o.default.Radio.channel("global"),o.default.Radio.channel("muppy"),c=[{label:"Muppy Home",url:"#muppy",icon:".fa.fa-home"},{label:"List",url:"#muppy/summaries",icon:".fa.fa-list"},{label:"Calendar",url:"#muppy/calendar",icon:".fa.fa-calendar"}],l=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,r.default),t}();return e.prototype.appRoutes={muppy:"viewIndex","muppy/summaries":"listSummaries","muppy/summary/view/:id":"viewSummary"},e}.call(void 0),a=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,i.default),t}();return e.prototype.Controller=s.default,e.prototype.Router=l,e.prototype.appletEntries=[{label:(0,u.default)("muppy")+" Menu",menu:c}],e}.call(void 0),t.default=a},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u,a,l,c,s,f,p,d,h,y,v,b,_;y=n(0),l=n(1),n(98),c=n(123).default,s=l.Radio.channel("global"),l.Radio.channel("muppy"),a=s.request("main:app:AuthModel"),u=s.request("main:app:AuthCollection"),v={channelName:"muppy"},_="/api/dev/memleak/summary",f=function(){var e=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,a),t}();return e.prototype.urlRoot=_,e}.call(void 0),p=function(){var e=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,u),t}();return e.prototype.url=_,e.prototype.model=f,e}.call(void 0),new c(y.extend(v,{modelName:"summary",modelClass:f,collectionClass:p})),b="/api/dev/memdiff",h=function(){var e=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,a),t}();return e.prototype.urlRoot=b,e}.call(void 0),d=function(){var e=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,u),t}();return e.prototype.model=h,e.prototype.url=b,e}.call(void 0),new c(y.extend(v,{modelName:"sumdiff",modelClass:h,collectionClass:d}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,n,o=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),u=c(r(1)),a=(c(r(2)),c(r(3)),c(r(6)),c(r(89)),r(37)),l=r(39);c(r(5)),c(r(40));function c(e){return e&&e.__esModule?e:{default:e}}u.default.Radio.channel("global"),u.default.Radio.channel("messages"),i=u.default.Radio.channel("muppy"),n=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.MainController),o(t,[{key:"viewIndex",value:function(){var t=this;return this.setupLayoutIfNeeded(),r.e(55).then(function(){var e;return e=new(r(421).default),t.layout.showChildView("content",e)}.bind(null,r)).catch(r.oe)}},{key:"viewSummary",value:function(e){var o=this;return this.setupLayoutIfNeeded(),r.e(57).then(function(){var t,n;return t=r(423),(n=i.request("db:summary:get",e)).fetch().done(function(){var e;return e=new t({model:n}),o.layout.showChildView("content",e),console.log("SUMMARY",n)})}.bind(null,r)).catch(r.oe)}},{key:"listSummaries",value:function(){var o=this;return this.setupLayoutIfNeeded(),r.e(56).then(function(){var t,n;return t=r(424),(n=i.request("db:summary:collection")).fetch().done(function(){var e;return e=new t({collection:n}),o.layout.showChildView("content",e)})}.bind(null,r)).catch(r.oe)}}]),t}();return e.prototype.layoutClass=l.ToolbarAppletLayout,e}.call(void 0),t.default=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=f(n(1)),r=(f(n(2)),f(n(38))),i=f(n(88)),u=f(n(21));n(294);var a,l,c,s=f(n(295));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}o.default.Radio.channel("global"),o.default.Radio.channel("netark"),c=[{label:"List",url:"#netark",icon:".fa.fa-list"},{label:"SciFi Movies",url:"#netark/scifi/list",icon:".fa.fa-film"},{label:"Search",url:"#netark/search",icon:".fa.fa-search"}],l=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,r.default),t}();return e.prototype.appRoutes={netark:"viewIndex","netark/otrr/list":"listOtrr","netark/librivox/list":"listLibrivox","netark/scifi/list":"listSciFiMovies","netark/misc/list":"listMiscStuff","netark/view/:id":"viewMetadata","netark/search":"searchView"},e}.call(void 0),a=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,i.default),t}();return e.prototype.Controller=s.default,e.prototype.Router=l,e.prototype.appletEntries=[{label:(0,u.default)("netark")+" Menu",menu:c}],e}.call(void 0),t.default=a},function(e,t,n){"use strict";var o,r,i,u,a,l,c,s,f,p=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0},d=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(4),r=n(1),a=n(41),i=r.Radio.channel("global"),o=r.Radio.channel("netark"),i.request("main:app:AuthModel"),i.request("main:app:AuthCollection"),s=function(e,t){var n,o;return o=t.server,n=t.dir,"/api/dev/proxy/"+btoa("https://"+o+n+"/"+e)},f=function(e,t){return"//"+t.server+t.dir+"/"+e},u=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,r.Model),d(t,[{key:"fileUrl",value:function(e){return s(e,this.toJSON())}}]),t}();return e.prototype.urlRoot="https://archive.org/metadata",e}.call(void 0),o.reply("get-file-url",function(e,t){return s(e,t)}),o.reply("get-image-url",function(e,t){return f(e,t)}),o.reply("get-metadata-model",function(){return u}),l=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,a),d(t,[{key:"parse",value:function(e){return console.log("PARSE",e),null===this.state.totalRecords&&(this.state.totalRecords=e.total,this._checkState(this.state)),console.log("totalRecords",this.state.totalRecords),p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"parse",this).call(this,e.items)}}]),t}();return e.prototype.mode="server",e.prototype.url="/api/dev/proxy/https://archive.org/services/search/v1/scrape",e.prototype.state={pageSize:100},e.prototype.queryParams={pageSize:"count"},e}.call(void 0),o.reply("Scraper",function(){return l}),c=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,a),d(t,[{key:"parse",value:function(e){return console.log("PARSE",e),null===this.state.totalRecords&&(this.state.totalRecords=e.response.numFound,this._checkState(this.state)),console.log("totalRecords",this.state.totalRecords),p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"parse",this).call(this,e.response.docs)}}]),t}();return e.prototype.mode="server",e.prototype.url="/api/dev/proxy/https://archive.org/advancedsearch.php",e.prototype.state={pageSize:20,firstPage:1},e.prototype.queryParams={pageSize:"rows",output:"json",q:function(){return this.query}},e}.call(void 0),o.reply("SearchResults",function(){return c}),e.exports={TodoCollection:u}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,r=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),u=c(i(1)),a=(c(i(2)),c(i(3)),c(i(6)),c(i(89)),i(37)),l=i(39);c(i(5)),c(i(40));function c(e){return e&&e.__esModule?e:{default:e}}u.default.Radio.channel("global"),u.default.Radio.channel("messages"),u.default.Radio.channel("resources"),n=u.default.Radio.channel("netark"),o=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.MainController),r(t,[{key:"viewIndex",value:function(){var t=this;return this.setupLayoutIfNeeded(),i.e(59).then(function(){var e;return e=new(i(425)),t.layout.showChildView("content",e),t.scrollTop()}.bind(null,i)).catch(i.oe)}},{key:"listOtrr",value:function(){var t=this;return this.setupLayoutIfNeeded(),i.e(62).then(function(){var e;return e=new(i(428)),t.layout.showChildView("content",e),t.scrollTop()}.bind(null,i)).catch(i.oe)}},{key:"listLibrivox",value:function(){var t=this;return this.setupLayoutIfNeeded(),i.e(62).then(function(){var e;return e=new(i(432)),t.layout.showChildView("content",e),t.scrollTop()}.bind(null,i)).catch(i.oe)}},{key:"listSciFiMovies",value:function(){var t=this;return this.setupLayoutIfNeeded(),i.e(63).then(function(){var e;return e=new(i(433)),t.layout.showChildView("content",e),t.scrollTop()}.bind(null,i)).catch(i.oe)}},{key:"listMiscStuff",value:function(){var t=this;return this.setupLayoutIfNeeded(),i.e(61).then(function(){var e;return e=new(i(439)),t.layout.showChildView("content",e),t.scrollTop()}.bind(null,i)).catch(i.oe)}},{key:"searchView",value:function(){var t=this;return this.setupLayoutIfNeeded(),i.e(58).then(function(){var e;return e=new(i(441)),t.layout.showChildView("content",e),t.scrollTop()}.bind(null,i)).catch(i.oe)}},{key:"viewMetadata",value:function(e){var o,r=this;return this.setupLayoutIfNeeded(),o=n.request("get-metadata-model"),i.e(60).then(function(){var t,n;return t=i(442),n=new o({id:e}),console.log("model---",n),n.fetch().done(function(){var e;return console.warn("response.done",n),console.log("MODEL----------\x3e",n),e=new t({model:n}),r.layout.showChildView("content",e),r.scrollTop()})}.bind(null,i)).catch(i.oe)}}]),t}();return e.prototype.layoutClass=l.ToolbarAppletLayout,e}.call(void 0),t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(1)),r=(s(n(2)),s(n(38))),i=s(n(88));n(139),n(297);var u,a,l=s(n(308)),c=s(n(309));function s(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}o.default.Radio.channel("global"),o.default.Radio.channel("resources"),a=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,r.default),t}();return e.prototype.appRoutes={sofi:"main_view","sofi/comics":"dbcomics_main","sofi/comics/local":"view_local_comics","sofi/comics/photos/:comic_id":"manageComicPhotos","sofi/comics/workspace":"showWorkspaceMainView","sofi/comics/workspace/view/:name":"showWorkspaceView","sofi/comics/workspace/create/:name":"createWorkspaceView","sofi/comics/workspace/add/:name":"createWorkspaceView","sofi/xml/upload":"upload_xml","sofi/csv/create":"create_csv","sofi/csv/preview":"preview_csv","sofi/clzpage":"view_cached_comics","sofi/comics/set-photo-names":"setPhotoNames"},e}.call(void 0),u=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,i.default),t}();return e.prototype.appletName="sofi",e.prototype.channelName="sofi",e.prototype.Controller=c.default,e.prototype.Router=a,e.prototype.extraRouters={cfg:n(311),dsc:n(313)},e.prototype.appletEntries=l.default,e}.call(void 0),t.default=u},function(e,t,n){"use strict";var o;o=n(1),n(298),n(307),o.Radio.channel("sofi").reply("fix-image-url",function(e){return e.indexOf("/lg/")&&(e=e.replace("/lg/","/sm/")),e.startsWith("http://")&&(e=e.replace("http://","//")),e})},function(e,t,n){"use strict";var o,r,u,i,a,l,c,s,f,p,d;r=n(1),n(95),n(6),n(83),n(100),n(35),n(21),n(299),p=n(300),f=n(301),s=n(302),l=n(303),c=n(305),d=n(306),r.Radio.channel("messages"),o=r.Radio.channel("sofi"),a=o.request("grouped-csv-fields"),u=function(e){var t,n;return n={},t=e.cfg.get("content"),n.action=e.action,a.ReqFieldNames.forEach(function(e){return n[e]=t[e]}),a.OptFieldNames.forEach(function(e){return n[e]=t[e]}),a.EbayFields.forEach(function(e){return n[e]=""}),n},i=function(e){var t,n,o,r,i;return"string"==typeof(t=(n=e.comic).content)&&(t=JSON.parse(t)),e.clzcomic=t,o={},n.photos.forEach(function(e){return o[e.name]=e.filename}),console.log("PHOTOS",o,n),e.photos=o,e.cfg.get("content"),(i=u(e)).quantity!==t.quantity&&(i.quantity=t.quantity),p(i,e),f(i,e),s(i,e),l(i,e),c(i,e),(null!=(r=n.mainsection)?r.plot:void 0)&&(n.mainsection.plot=n.mainsection.plot.split("<br>").join("\n"),n.mainsection.plot=n.mainsection.plot.split("<BR>").join("\n")),d(i,e),i},o.reply("create-csv-row-object",function(e){return i(e)}),e.exports={}},function(e,t,n){"use strict";var o,r,l,c,s,i,u=a(n(1)),f=(a(n(95)),a(n(6)),a(n(83)),a(n(100)),a(n(35)),a(n(21)));function a(e){return e&&e.__esModule?e:{default:e}}u.default.Radio.channel("messages"),o=u.default.Radio.channel("sofi"),l=["Title","PicURL","Description","Product:EAN","Product:UPC","Product:ISBN","*Category"],s=["format","location","returnsacceptedoption","duration","quantity","startprice","dispatchtimemax","conditionid"],o.reply("csv-req-fieldnames",function(){return s}),c=["postalcode","paymentprofilename","returnprofilename","shippingprofilename","scheduletime"],o.reply("csv-opt-fieldnames",function(){return c}),i=function(){var e,t,n,o,r,i,u,a;for(t={action:"*Action"},n=0,i=s.length;n<i;n++)t[e=s[n]]="*"+(0,f.default)(e);for(o=0,u=c.length;o<u;o++)t[e=c[o]]=e;for(r=0,a=l.length;r<a;r++)t[e=l[r]]=e;return t},o.reply("create-csv-header",function(){return create-csv-header()}),r=i(),o.reply("get-csv-header",function(){return r}),o.reply("grouped-csv-fields",function(){return{ReqFieldNames:s,OptFieldNames:c,EbayFields:l}})},function(e,t,n){"use strict";var o;o=function(e,t){var n,o;if(null!=(n=t.clzcomic)?n.currentprice:void 0){for(o=n.currentprice;o.startsWith("$");)o=o.substring(1,o.length);return e.startprice=o}},e.exports=o},function(e,t,n){"use strict";var i,u,o;u=n(6),i=n(83),o=function(e,t){var n,o,r;return r=u(e.scheduletime),e.scheduletime=r?(o=(new Date).valueOf()+r,n=new Date(o),i(n,"yyyy-mm-dd HH:MM:ss")):""},e.exports=o},function(e,t,n){"use strict";var o;o=function(e,t){var n,o;if(null!=(n=t.comic)?n.isbn:void 0)return 14===(o=n.isbn).length&&(o=o.substring(0,o.length-2)),13===o.length&&(o=o.substring(1,o.length)),e["Product:UPC"]=o},e.exports=o},function(e,t,n){"use strict";var v,o,b,r;o=n(1),n(139),n(304),b=o.Radio.channel("messages"),v=o.Radio.channel("sofi"),r=function(e,t){var n,o,r,i,u,a,l,c,s,f,p,d,h,y;for(o=t.clzcomic,a=v.request("get-superheroes-model").get("rows"),(y=null!=(d=o.publicationdate)?d.year:void 0)||(y=o.releasedate.year,console.warn("Using releasedate")),y||(console.warn("Bad date for comic",o),b.request("danger","Bad Date for comic "+o.id)),y=parseInt(y.displayname),h=o.mainsection.series.displayname.toLowerCase(),n=v.request("find-age",y),p=void 0,u={},s=0,f=(c=v.request("get-heroes-by-age",y,a)).length;s<f;s++)(l=c[s]).superhero.startsWith("Other ")&&(p=l),u[l.superhero.toLowerCase()]=l;for(i in null==p&&b.request("danger","No category found for "+n),r=p,u)if(0<=h.indexOf(i)){r=u[i];break}return e["*Category"]=r.id},e.exports=r},function(e,t,n){"use strict";var o,r,i,u,a;(r=n(1)).Radio.channel("messages"),o=r.Radio.channel("sofi"),i={platinum:{start:1897,end:1937},golden:{start:1938,end:1955},silver:{start:1956,end:1969},bronze:{start:1970,end:1983},copper:{start:1984,end:1991},modern:{start:1992,end:2100}},u=function(e){var t,n;for(n in i)if(e>=(t=i[n]).start&&e<=t.end)return n;return!1},o.reply("get-comic-ages",function(){return i}),o.reply("find-age",function(e){return u(e)}),a=function(e,t){var n,o;return n=u(e),o=[],t.forEach(function(e){if(e.age===n)return o.push(e)}),o},o.reply("get-heroes-by-age",function(e,t){return a(e,t)}),e.exports={}},function(e,t,n){"use strict";var o,r;o=n(1),n(139),o.Radio.channel("messages"),o.Radio.channel("sofi"),r=function(e,t){var n;return n=t.comic,e.PicURL=n.image_src},e.exports=r},function(e,t,n){"use strict";var o,l,c,s,r,f=[].indexOf;o=n(1),c=n(100),s=n(35),l=o.Radio.channel("messages"),o.Radio.channel("sofi"),r=function(e,t){var n,o,r,i,u,a;return n=t.comic,t.clzcomic,n.photos,r=t.desc,80<(a=c.compile(r.get("title"))(t)).length&&(i="Title too long.\n",u=a.substring(0,79),i=i+(a+" ----\x3e ")+u,l.request("danger",i),a=u),e.Title=a,o=c.compile(r.get("content"))(t),32700<(o=(o=(o=s(o)).split("\r").join("")).split("\n").join("")).length&&(i=o.length+" characters in description",l.request("warning",i)),0<=f.call(o,"\n")&&l.request("danger","newline in description"),e.Description=o},e.exports=r},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d,u,a,h,l,c,s,f;u=n(1),f=n(95),n(6),n(83),n(100),n(35),n(21),h=u.Radio.channel("messages"),d=u.Radio.channel("sofi"),s=new f.Parser({explicitArray:!1,async:!1}),d.reply("get-xmlparser",function(){return s}),l=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,u.Model),t}(),c=function(){var e=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,u.Collection),t}();return e.prototype.model=l,e}.call(void 0),a=new c,d.reply("set-comics",function(e){return a.set(e)}),d.reply("get-comics",function(){return a}),d.reply("parse-all-comics-xml",function(e,o){return s.parseString(e,function(e,t){var n;return(null!=(n=t.comicinfo.comiclist.comic)?n.length:void 0)||(console.warn("Single comic!"),n=[n]),d.request("set-comics",n),o()})}),d.reply("parse-comics-xml",function(e,p){return s.parseString(e,function(e,t){var n,o,r,i,u,a,l,c,s,f;for((null!=(r=t.comicinfo.comiclist.comic)?r.length:void 0)||(r=[r]),i=[],a=[],n=[],u=0,l=r.length;u<l;u++)"For Sale"===(f=(o=r[u]).collectionstatus._)?o.links?i.push(o):n.push(o):"In Collection"===f?a.push(o):(s="Cannot determine comic status of ("+((c=o.mainsection).series.displayname+" #"+c.issue)+")!",h.request("danger",s));return a.length&&(s=a.length+" ignored!!",h.request("warning",s)),i.length||h.request("danger","No comics for sale!"),n.length&&(s="There was some bad xml, skipped "+n.length+" comics.",h.request("danger",s)),d.request("set-comics",i),p()})}),e.exports={}},function(e,t,n){"use strict";var o,r;n(4),o=n(1),n(2),n(3),n(6),n(37).MainController,n(89).default,n(46),n(43),n(5),n(40),o.Radio.channel("global"),o.Radio.channel("messages"),o.Radio.channel("resources"),o.Radio.channel("sofi"),r=[{label:"Sofi Menu",menu:[{id:"main",label:"Main View",url:"#sofi",icon:".fa.fa-eye"},{id:"dbcomics",label:"DbComics",url:"#sofi/comics",icon:".fa.fa-list"},{id:"workspace",label:"Workspace",url:"#sofi/comics/workspace",icon:".fa.fa-dashboard"},{id:"cfglist",label:"Configs",url:"#sofi/cfg/list",icon:".fa.fa-list"},{id:"dsclist",label:"Descriptions",url:"#sofi/dsc/list",icon:".fa.fa-list"},{id:"uploadxml",label:"Upload CLZ/XML",url:"#sofi/xml/upload",icon:".fa.fa-upload"},{id:"mkcsv",label:"Create CSV",url:"#sofi/csv/create",icon:".fa.fa-cubes"},{id:"cached",label:"Cached Images",url:"#sofi/clzpage",icon:".fa.fa-image"},{id:"setPhotoNames",label:"Set Photo Names",url:"#sofi/comics/set-photo-names",icon:".fa.fa-photo"}]}],e.exports=r},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),u=(f(o(4)),f(o(0))),r=f(o(1)),i=(f(o(2)),f(o(3))),a=(f(o(6)),o(37)),l=f(o(89)),c=(f(o(46)),f(o(43)),o(39)),s=f(o(310));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y,v,b,_,w,m=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")};r.default.Radio.channel("global"),b=r.default.Radio.channel("messages"),r.default.Radio.channel("resources"),y=r.default.Radio.channel("sofi"),w=["id","name"],_=y.request("dbComicColumns"),function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,l.default),t}();return e.prototype.options={entryTemplate:i.default.renderable(function(e){var t;return t={style:"overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"},i.default.span(t,function(){return i.default.i(e.icon),i.default.text(" "),i.default.text(e.label)})})},e}.call(void 0),v=function(){var e=function(e){function i(){p(this,i);var e=d(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments));return e._show_main_view=e._show_main_view.bind(e),e._show_create_csv_view=e._show_create_csv_view.bind(e),e._show_preview_csv_view=e._show_preview_csv_view.bind(e),e.create_csv=e.create_csv.bind(e),e._showLocalComics=e._showLocalComics.bind(e),e}return h(i,a.MainController),n(i,[{key:"setupLayoutIfNeeded",value:function(){var e;return function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0}(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"setupLayoutIfNeeded",this).call(this),e=new s.default({collection:y.request("get-toolbar-entries")}),this.layout.showChildView("toolbar",e)}},{key:"_show_main_view",value:function(){var t=this;return m(this,i),Promise.all([o.e(0),o.e(5),o.e(71)]).then(function(){var e;return y.request("get-comics"),e=new(o(443)),t.layout.showChildView("content",e)}.bind(null,o)).catch(o.oe)}},{key:"_show_create_csv_view",value:function(){var n=this;return m(this,i),Promise.all([o.e(0),o.e(5),o.e(70)]).then(function(){var e,t;return e=y.request("get-comics"),t=new(o(448))({collection:e}),n.layout.showChildView("content",t)}.bind(null,o)).catch(o.oe)}},{key:"_show_preview_csv_view",value:function(){var n=this;return m(this,i),Promise.all([o.e(0),o.e(72)]).then(function(){var e,t;return e=y.request("get-comics"),t=new(o(449))({collection:e}),n.layout.showChildView("content",t)}.bind(null,o)).catch(o.oe)}},{key:"_need_comics_view",value:function(e){return y.request("get-comics").length?e():this.navigate_to_url("#sofi/xml/upload")}},{key:"create_csv",value:function(){var e,t,n,o,r=this;return m(this,i),this.setupLayoutIfNeeded(),e=y.request("db:ebcfg:collection"),n=y.request("db:ebdsc:collection"),o={data:{columns:w}},t=u.default.clone(o),e.fetch(o).then(function(){return n.fetch(t).then(function(){return r._show_create_csv_view()})})}},{key:"preview_csv",value:function(){var e,t,n,o=this;if(this.setupLayoutIfNeeded(),console.log("preview_csv"),e=y.request("locals:get","currentCsvCfg"),t=y.request("locals:get","currentCsvDsc"),n=y.request("get-superheroes-model"),void 0!==e)return console.log("fetching cfg",e),e.fetch().then(function(e){return console.log("dsc is",t),console.log("foo is",e),t.fetch().then(function(){return n.fetch().then(function(){return o._show_preview_csv_view()})})});this.navigate_to_url("#sofi")}},{key:"main_view",value:function(){return this.setupLayoutIfNeeded(),this._show_main_view()}},{key:"dbcomics_main",value:function(){var n=this;return this.setupLayoutIfNeeded(),Promise.all([o.e(0),o.e(2),o.e(3),o.e(75)]).then(function(){var t,e;return(t=y.request("db:clzcomic:collection")).state.sortColumn=["seriesgroup","series","issue"],(e=t.fetch({data:{columns:_}})).done(function(){var e;return e=new(o(450))({collection:t}),n.layout.showChildView("content",e)}),e.fail(function(){return b.request("danger","Failed to get comics.")})}.bind(null,o)).catch(o.oe)}},{key:"_showLocalComics",value:function(){var n=this;return m(this,i),Promise.all([o.e(0),o.e(5)]).then(function(){var e,t;return e=y.request("get-comics"),t=new(o(166))({collection:e}),n.layout.showChildView("content",t)}.bind(null,o)).catch(o.oe)}},{key:"view_local_comics",value:function(){return this.setupLayoutIfNeeded(),this._need_comics_view(this._showLocalComics)}},{key:"upload_xml",value:function(){var n=this;return this.setupLayoutIfNeeded(),Promise.all([o.e(0),o.e(73)]).then(function(){var e,t;return e=y.request("get-comics"),t=new(o(454))({collection:e}),n.layout.showChildView("content",t)}.bind(null,o)).catch(o.oe)}},{key:"view_cached_comics",value:function(){var t=this;return this.setupLayoutIfNeeded(),Promise.all([o.e(0),o.e(65)]).then(function(){var e;return e=new(o(455)),t.layout.showChildView("content",e)}.bind(null,o)).catch(o.oe)}},{key:"manageComicPhotos",value:function(e){var n=this;return this.setupLayoutIfNeeded(),Promise.all([o.e(17),o.e(64)]).then(function(){var t;return(t=y.request("db:clzcomic:collection")).fetch({data:{where:{comic_id:e}}}).done(function(){var e;return e=new(o(456))({model:t.pop()}),n.layout.showChildView("content",e)})}.bind(null,o)).catch(o.oe)}},{key:"showWorkspaceMainView",value:function(){var t=this;return this.setupLayoutIfNeeded(),Promise.all([o.e(0),o.e(2),o.e(3),o.e(77)]).then(function(){var e;return e=new(o(458)),t.layout.showChildView("content",e)}.bind(null,o)).catch(o.oe)}},{key:"showWorkspaceView",value:function(t){var n=this;return this.setupLayoutIfNeeded(),Promise.all([o.e(0),o.e(2),o.e(3),o.e(14),o.e(78)]).then(function(){var e;return e=new(o(459))({workspace:t}),n.layout.showChildView("content",e)}.bind(null,o)).catch(o.oe)}},{key:"createWorkspaceView",value:function(t){var n=this;return this.setupLayoutIfNeeded(),Promise.all([o.e(0),o.e(2),o.e(3),o.e(14),o.e(74)]).then(function(){var e;return e=new(o(462))({workspace:t}),n.layout.showChildView("content",e)}.bind(null,o)).catch(o.oe)}},{key:"setPhotoNames",value:function(){var t=this;return this.setupLayoutIfNeeded(),o.e(76).then(function(){var e;return e=new(o(463)),t.layout.showChildView("content",e)}.bind(null,o)).catch(o.oe)}}]),i}();return e.prototype.layoutClass=c.ToolbarAppletLayout,e}.call(void 0),t.default=v},function(e,t,n){"use strict";var o,r,i,u,a,l,c;n(4),r=n(1),n(2),a=n(3),n(6),n(37).MainController,u=n(89).default,n(46),n(43),n(5),n(40),r.Radio.channel("global"),r.Radio.channel("messages"),r.Radio.channel("resources"),o=r.Radio.channel("sofi"),l=[],c=new r.Collection(l),o.reply("get-toolbar-entries",function(){return c}),i=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),t}();return e.prototype.options={entryTemplate:a.renderable(function(e){var t;return t={style:"overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"},a.span(t,function(){return a.i(e.icon),a.text(" "),a.text(e.label)})})},e}.call(void 0),e.exports=i},function(e,t,n){"use strict";var o,r,i,u=n(38),a=(o=u)&&o.__esModule?o:{default:o};n(2),r=n(312),i=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),t}();return e.prototype.appRoutes={"sofi/cfg":"list_configs","sofi/cfg/list":"list_configs","sofi/cfg/add":"add_new_config","sofi/cfg/view/:name":"view_config","sofi/cfg/edit/:name":"edit_config","sofi/ebcfgs/new":"add_new_config","sofi/ebcfgs/view/:id":"view_config","sofi/ebcfgs/edit/:id":"edit_config"},e}.call(void 0),e.exports={router:i,controller:r}},function(e,t,o){"use strict";var n,r,i,u,a=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();o(4),n=o(1),o(2),o(3),o(6),o(37).ExtraController,u=n.Radio.channel("global"),n.Radio.channel("messages"),n.Radio.channel("sofi"),i=u.request("main:app:CrudController"),r=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),a(t,[{key:"initialize",value:function(e){return this.applet=u.request("main:applet:get-applet","sofi"),this.mainController=this.applet.router.controller,this.channel=this.getChannel(),console.log("@channel",this.channel)}},{key:"list_configs",value:function(){var t=this;return o.e(68).then(function(){var e;return e=o(464),t.listItems(e)}.bind(null,o)).catch(o.oe)}},{key:"add_new_config",value:function(){var t=this;return o.e(12).then(function(){var e;return e=o(213).NewFormView,t.addItem(e)}.bind(null,o)).catch(o.oe)}},{key:"view_config",value:function(t){var n=this;return o.e(66).then(function(){var e;return e=o(466),n.viewItem(e,t)}.bind(null,o)).catch(o.oe)}},{key:"edit_config",value:function(t){var n=this;return o.e(12).then(function(){var e;return e=o(213).EditFormView,n.editItem(e,t)}.bind(null,o)).catch(o.oe)}}]),t}();return e.prototype.channelName="sofi",e.prototype.objName="config",e.prototype.modelName="ebcfg",e}.call(void 0),e.exports=r},function(e,t,n){"use strict";var o,r,i,u=n(38),a=(o=u)&&o.__esModule?o:{default:o};n(2),r=n(314),i=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),t}();return e.prototype.appRoutes={"sofi/dsc":"list_descriptions","sofi/dsc/list":"list_descriptions","sofi/dsc/add":"add_new_description","sofi/dsc/view/:name":"view_description","sofi/dsc/edit/:name":"edit_description","sofi/ebdscs/new":"add_new_description","sofi/ebdscs/view/:id":"view_description","sofi/ebdscs/edit/:id":"edit_description"},e}.call(void 0),e.exports={router:i,controller:r}},function(e,t,o){"use strict";var n,r,i,u,a=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();o(4),n=o(1),o(2),o(3),o(6),o(37).ExtraController,u=n.Radio.channel("global"),n.Radio.channel("messages"),n.Radio.channel("sofi"),r=u.request("main:app:CrudController"),i=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r),a(t,[{key:"initialize",value:function(e){return this.applet=u.request("main:applet:get-applet","sofi"),this.mainController=this.applet.router.controller,this.channel=this.getChannel()}},{key:"list_descriptions",value:function(){var t=this;return o.e(69).then(function(){var e;return e=o(467),t.listItems(e)}.bind(null,o)).catch(o.oe)}},{key:"add_new_description",value:function(){var t=this;return Promise.all([o.e(1),o.e(4),o.e(13)]).then(function(){var e;return e=o(214).NewFormView,t.addItem(e)}.bind(null,o)).catch(o.oe)}},{key:"view_description",value:function(t){var n=this;return o.e(67).then(function(){var e;return e=o(469),n.viewItem(e,t)}.bind(null,o)).catch(o.oe)}},{key:"edit_description",value:function(t){var n=this;return Promise.all([o.e(1),o.e(4),o.e(13)]).then(function(){var e;return e=o(214).EditFormView,n.editItem(e,t)}.bind(null,o)).catch(o.oe)}}]),t}();return e.prototype.channelName="sofi",e.prototype.objName="description",e.prototype.modelName="ebdsc",e}.call(void 0),e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(1)),r=(c(n(2)),c(n(38))),i=c(n(88));n(316);var u,a,l=c(n(317));function c(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}o.default.Radio.channel("global"),o.default.Radio.channel("todos"),a=function(){var e=function(e){function t(){return s(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,r.default),t}();return e.prototype.appRoutes={todos:"list_todos","todos/completed":"list_completed_todos","todos/calendar":"view_calendar","todos/todos/new":"new_todo","todos/todos/edit/:id":"edit_todo","todos/todos/view/:id":"view_todo"},e}.call(void 0),u=function(){var e=function(e){function t(){return s(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,i.default),t}();return e.prototype.Controller=l.default,e.prototype.Router=a,e.prototype.appletEntries=[{label:"Todos Menu",menu:[{label:"list todos",icon:".fa.fa-list",url:"#todos"},{label:"Calendar",url:"#todos/calendar",icon:".fa.fa-calendar"},{label:"new todo",icon:".fa.fa-plus",url:"#todos/todos/new"}]}],e}.call(void 0),t.default=u},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u,a,l,c,s,f,p,d,h,y,v,b,_;u=n(4),c=n(1),v=n(132).make_dbchannel,s=c.Radio.channel("global"),d=c.Radio.channel("todos"),l=s.request("main:app:AuthModel"),a=s.request("main:app:AuthCollection"),_="/api/dev/bapi/todos",f=function(){var e=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,l),t}();return e.prototype.urlRoot=_,e.prototype.defaults={completed:!1},e}.call(void 0),new(h=function(){var e=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,a),t}();return e.prototype.url=_,e.prototype.model=f,e}.call(void 0)),v(d,"todo",f,h),p=function(){var e=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,a),t}();return e.prototype.url="/api/dev/basic/todos/create-cal",e.prototype.model=f,e}.call(void 0),b=new p,d.reply("todocal-collection",function(){return b}),y=void 0,d.reply("maincalendar:set-date",function(){var e;return e=u("#maincalendar"),y=e.fullCalendar("getDate")}),d.reply("maincalendar:get-date",function(){return y}),e.exports={TodoCollection:h}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,n,u,o,a,l=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),c=d(r(1)),s=(d(r(2)),d(r(3)),d(r(6)),d(r(89))),f=r(37),p=r(39);d(r(5)),d(r(40));function d(e){return e&&e.__esModule?e:{default:e}}c.default.Radio.channel("global"),u=c.default.Radio.channel("messages"),c.default.Radio.channel("resources"),i=c.default.Radio.channel("todos"),o=[],a=new c.default.Collection(o),i.reply("get-toolbar-entries",function(){return a}),n=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.MainController),l(t,[{key:"setupLayoutIfNeeded",value:function(){var e;return function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setupLayoutIfNeeded",this).call(this),e=new s.default({collection:a}),this.layout.showChildView("toolbar",e)}},{key:"_isModelPresent",value:function(e){return e.isEmpty()||!e.has("created_at")}},{key:"list_certain_todos",value:function(e){var o=this;return this.setupLayoutIfNeeded(),0,r.e(79).then(function(){var e,t,n;return e=r(470).default,n=new e({collection:o.collection}),(t=o.collection.fetch()).done(function(){return console.log(o.collection),o.layout.showChildView("content",n)}),t.fail(function(){return u.request("danger","Failed to load todos.")})}.bind(null,r)).catch(r.oe)}},{key:"list_completed_todos",value:function(){return this.list_certain_todos(!0)}},{key:"list_todos",value:function(){return this.list_certain_todos(!1)}},{key:"new_todo",value:function(){var t=this;return this.setupLayoutIfNeeded(),r.e(15).then(function(){var e;return e=r(215).NewView,t.layout.showChildView("content",new e)}.bind(null,r)).catch(r.oe)}},{key:"edit_todo",value:function(n){var o=this;return this.setupLayoutIfNeeded(),r.e(15).then(function(){var e,t;return e=r(215).EditView,t=i.request("get-todo",n),o._loadView(e,t,"todo")}.bind(null,r)).catch(r.oe)}},{key:"view_todo",value:function(e){var o=this;return this.setupLayoutIfNeeded(),r.e(81).then(function(){var t,n;return t=r(471),(n=i.request("new-todo")).id=e,n.set("id",e),console.log("model",n),n.fetch().done(function(){var e;return e=new t({model:n}),o.layout.showChildView("content",e)})}.bind(null,r)).catch(r.oe)}},{key:"view_calendar",value:function(){var t=this;return this.setupLayoutIfNeeded(),Promise.all([r.e(6),r.e(80)]).then(function(){var e;return e=r(472),t.layout.showChildView("content",new e)}.bind(null,r)).catch(r.oe)}}]),t}();return e.prototype.layoutClass=p.ToolbarAppletLayout,e.prototype.collection=i.request("todo-collection"),e}.call(void 0),t.default=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});d(n(4));var o,r,i,u,a,l=d(n(1)),c=(d(n(2)),d(n(38))),s=d(n(88)),f=d(n(21)),p=d(n(319));d(n(323));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}l.default.Radio.channel("global"),o=l.default.Radio.channel("tvmaze"),u=[{label:"List Shows",url:"#tvmaze/shows",icon:".fa.fa-list"},{label:"Search Show",url:"#tvmaze/searchshow",icon:".fa.fa-search"},{label:"Import Sample Data",url:"#tvmaze/import-sample-data",icon:".fa.fa-download"},{label:"Calendar",url:"#tvmaze/calendar",icon:".fa.fa-calendar"}],i=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,c.default),t}();return e.prototype.appRoutes={tvmaze:"viewIndex","tvmaze/searchshow":"viewSearchShow","tvmaze/shows":"viewShowList","tvmaze/shows/flat":"viewShowListFlat","tvmaze/shows/view/:id":"viewShow","tvmaze/import-sample-data":"importSampleData","tvmaze/calendar":"viewCalendar"},e}.call(void 0),r=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,s.default),t}();return e.prototype.Controller=p.default,e.prototype.Router=i,e.prototype.appletEntries=[{label:(0,f.default)("tvmaze")+" Menu",menu:u},{label:"List Shows",url:"#tvmaze/shows"}],e}.call(void 0),a=void 0,o.reply("maincalendar:set-date",function(e){return a=e.fullCalendar("getDate")}),o.reply("maincalendar:get-date",function(){return a}),t.default=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,n,o=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),u=c(r(1)),a=(c(r(2)),c(r(3)),c(r(6)),c(r(89)),r(37)),l=r(39);c(r(5));function c(e){return e&&e.__esModule?e:{default:e}}r(320),r(40),u.default.Radio.channel("global"),u.default.Radio.channel("messages"),u.default.Radio.channel("resources"),i=u.default.Radio.channel("tvmaze"),n=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.MainController),o(t,[{key:"viewIndex",value:function(){var o=this;return this.setupLayoutIfNeeded(),r.e(84).then(function(){var t,n,e;return e=i.request("get-local-tvshows"),t=i.request("tv-show-search-collection"),n=r(473),e.fetch().then(function(){var e;return e=new n({collection:new t}),o.layout.showChildView("content",e)})}.bind(null,r)).catch(r.oe)}},{key:"viewShowList",value:function(){return this.viewShowListCards()}},{key:"viewShowListCards",value:function(){var t,n=this;return this.setupLayoutIfNeeded(),t=i.request("get-local-tvshows"),r.e(87).then(function(){var e;return e=r(477),n._loadView(e,t,"tvshow")}.bind(null,r)).catch(r.oe)}},{key:"viewShowListPackery",value:function(){var t,n=this;return this.setupLayoutIfNeeded(),t=i.request("get-local-tvshows"),Promise.all([r.e(0),r.e(100),r.e(90)]).then(function(){var e;return e=r(478),n._loadView(e,t,"tvshow")}.bind(null,r)).catch(r.oe)}},{key:"viewShowListMasonry",value:function(){var t,n=this;return this.setupLayoutIfNeeded(),t=i.request("get-local-tvshows"),Promise.all([r.e(0),r.e(89)]).then(function(){var e;return e=r(483),n._loadView(e,t,"tvshow")}.bind(null,r)).catch(r.oe)}},{key:"viewShowListFlat",value:function(){var n,o=this;return this.setupLayoutIfNeeded(),n=i.request("get-local-tvshows"),window.tvshows=n,r.e(88).then(function(){var t;return t=r(484),n.fetch().done(function(){var e;return e=new t({collection:n}),o.layout.showChildView("content",e)})}.bind(null,r)).catch(r.oe)}},{key:"viewSearchShow",value:function(){var t=this;return this.setupLayoutIfNeeded(),r.e(86).then(function(){var e;return e=new(r(485)),t.layout.showChildView("content",e)}.bind(null,r)).catch(r.oe)}},{key:"viewShow",value:function(n){var o=this;return this.setupLayoutIfNeeded(),r.e(85).then(function(){var e,t;return e=r(486),t=new(i.request("get-local-tvshow-model"))({id:n}),o._loadView(e,t,"tvshow")}.bind(null,r)).catch(r.oe)}},{key:"importSampleData",value:function(){var n=this;return this.setupLayoutIfNeeded(),r.e(82).then(function(){var t,e;return e=i.request("get-all-local-tvshows"),i.request("tv-show-search-collection"),t=r(488),e.fetch().then(function(){var e;return e=new t,n.layout.showChildView("content",e)})}.bind(null,r)).catch(r.oe)}},{key:"viewCalendar",value:function(){var n=this;return this.setupLayoutIfNeeded(),Promise.all([r.e(6),r.e(83)]).then(function(){var t,e;return e=i.request("get-local-tvshows"),i.request("tv-show-search-collection"),t=r(490),e.fetch().then(function(){var e;return e=new t,n.layout.showChildView("content",e)})}.bind(null,r)).catch(r.oe)}}]),t}();return e.prototype.layoutClass=l.ToolbarAppletLayout,e}.call(void 0),t.default=n},function(e,t,n){"use strict";var o,r,i,u,a,l,c,s=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),f=(p(n(4)),p(n(1)));n(104),p(n(41));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(321),n(322),f.default.Radio.channel("global"),o=f.default.Radio.channel("tvmaze"),c="//api.tvmaze.com",l=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,f.default.Model),s(t,[{key:"url",value:function(){var e;return e=this.searchName,c+"/singlesearch/shows?q="+e}}]),t}(),o.reply("single-show-search",function(e){var t;return(t=new l).searchName=e,t}),a=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,f.default.Collection),s(t,[{key:"url",value:function(){return c+"/search/shows"}}]),t}(),o.reply("new-tv-show-search",function(e){return new a(e=e||{})}),o.reply("tv-show-search-collection",function(){return a}),o.reply("search-tv-shows",function(e){return new a}),u=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,f.default.Model),s(t,[{key:"urlRoot",value:function(){return c+"/shows"}}]),t}(),o.reply("get-remote-show",function(e){return new u({id:e})}),r=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,f.default.Model),s(t,[{key:"url",value:function(){return this.get("_links").self.href}}]),t}(),i=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,f.default.Collection),s(t,[{key:"url",value:function(){return c+"/shows/"+this.showId+"/episodes"}}]),t}();return e.prototype.model=r,e}.call(void 0),o.reply("get-remote-episodes",function(e){var t;return(t=new i).showId=e,t})},function(e,t,n){"use strict";var o,r,a,i,u,l,c,s,f,p,d=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),h=b(n(1)),y=n(104),v=b(n(41));function b(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}u=h.default.Radio.channel("global"),r=h.default.Radio.channel("tvmaze"),s=u.request("main:app:dbConn","tvmaze"),l=new y.LoveStore(s,"TVMazeShow"),p=["id","name","url","self","premiered","runtime","network_name","imdb","status","summary","img_med","img_orig","content"],a=function(){var e=function(e){function t(){return _(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,h.default.Model),d(t,[{key:"toJSON",value:function(){var t,n=this;return t={},p.forEach(function(e){return t[e]=n.get(e)}),t}}]),t}();return e.prototype.loveStore=l,e}.call(void 0),i=function(){var e=function(e){function t(){return _(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,v.default),t}();return e.prototype.loveStore=l,e.prototype.model=a,e.prototype.mode="client",e}.call(void 0),o=function(){var e=function(e){function t(){return _(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,h.default.Collection),t}();return e.prototype.loveStore=l,e.prototype.model=a,e}.call(void 0),c=new o,f=new i,r.reply("get-all-local-tvshows",function(){return c}),r.reply("get-local-tvshows",function(){return f}),r.reply("get-local-tvshow-model",function(){return a}),r.reply("get-local-tvshow-collection",function(){return i}),r.reply("save-local-show",function(e){var t,n,o,r,i,u;return t=new a({id:e.id,name:e.name,url:e.url,self:e._links.self.href,premiered:new Date(e.premiered),runtime:(null!=e?e.runtime:void 0)||"",network_name:(null!=e&&null!=(n=e.network)?n.name:void 0)||"NO NETWORK",imdb:(null!=(o=e.externals)?o.imdb:void 0)||"",status:(null!=e?e.status:void 0)||"",summary:(null!=e?e.summary:void 0)||"",img_med:(null!=e&&null!=(r=e.image)?r.medium:void 0)||"",img_orig:(null!=e&&null!=(i=e.image)?i.original:void 0)||"",content:e}),u=!0,t.isNew=function(){return!!u&&!(u=!1)},f.add(t),t.save()})},function(e,t,n){"use strict";var o,r,s,i,u,a,l,c,f,p=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),d=n(1),h=(o=d)&&o.__esModule?o:{default:o},y=n(104);function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}u=h.default.Radio.channel("global"),r=h.default.Radio.channel("tvmaze"),l=u.request("main:app:dbConn","tvmaze"),a=new y.LoveStore(l,"TVMazeEpisode"),c=["id","show_id","name","url","self","season","number","airdate","airtime","runtime","summary","img_med","img_orig","content"],s=function(){var e=function(e){function t(){return v(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _(t,h.default.Model),p(t,[{key:"toJSON",value:function(){var t,n=this;return t={},c.forEach(function(e){return t[e]=n.get(e)}),t}}]),t}();return e.prototype.loveStore=a,e}.call(void 0),i=function(){var e=function(e){function t(){return v(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _(t,h.default.Collection),t}();return e.prototype.loveStore=a,e.prototype.model=s,e}.call(void 0),f=new i,r.reply("get-local-episodes",function(){return f}),r.reply("get-local-episode-model",function(){return s}),r.reply("get-local-episode-collection",function(){return i}),r.reply("save-local-episode",function(e){var t,n,o,r,i,u,a,l,c;return t=new s({id:e.id,show_id:e.show_id,name:e.content.name,url:e.content.url,self:null!=(n=e.content._links)?n.self.href:void 0,season:e.content.season,number:e.content.number,airdate:new Date(e.content.airdate),airtime:e.content.airtime,runtime:(null!=(o=e.content)?o.runtime:void 0)||"",summary:(null!=(r=e.content)?r.summary:void 0)||"",img_med:(null!=(i=e.content)&&null!=(u=i.image)?u.medium:void 0)||"",img_orig:(null!=(a=e.content)&&null!=(l=a.image)?l.original:void 0)||"",content:e.content}),c=!0,t.isNew=function(){return!!c&&!(c=!1)},f.add(t),t.save()})},function(e,t,n){e.exports=function(){return new Worker(n.p+"6f8f6d972c9ebbab919d.worker.js")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),r=(f(n(2)),f(n(38))),i=f(n(88));n(325);var u,a,l,c,s=f(n(327));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Backbone.Radio.channel("global"),u=Backbone.Radio.channel("userprofile"),c=[{label:"Main",url:"#profile"},{label:"Edit Config",url:"#profile/editconfig"},{label:"Change Password",url:"#profile/chpassword"},{label:"View Map",url:"#profile/mapview"}],l=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,r.default),t}();return e.prototype.appRoutes={profile:"show_profile","profile/editconfig":"editConfig","profile/chpassword":"change_password","profile/mapview":"view_map"},e}.call(void 0),a=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,i.default),o(t,[{key:"onBeforeStart",value:function(){var e=this;return function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onBeforeStart",this).call(this,arguments),u.reply("main-controller",function(){return console.warn("Stop using 'main-controller' request on AppChannel"),e.router.controller})}}]),t}();return e.prototype.Controller=s.default,e.prototype.Router=l,e.prototype.appletEntries=[{label:"User Profile",menu:c}],e}.call(void 0),t.default=a},function(e,t,n){"use strict";var o,r,i,u,a,l;o=n(4),n(0),u=n(1),n(2);var c=n(326);c.User,c.CurrentUser,a=u.Radio.channel("global"),u.Radio.channel("messages"),(r=u.Radio.channel("userprofile")).reply("update-user-config",function(){return console.log("update-user-config called")}),i=a.request("main:app:AuthModel"),a.request("main:app:AuthCollection"),l=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),t}();return e.prototype.url="/auth/chpass",e.prototype.validation={password:{required:!0,minLength:8},confirm:function(e){var t;return e===(t=o('input[name="password"]').val())&&o('input[type="submit"]').show(),e!==t}},e}.call(void 0),r.reply("new-password-model",function(){return new l}),e.exports={}},,function(e,t,r){"use strict";var n,i,o,u,a,l,c,s,f,p,d,h,y=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=r(1),l=r(2),p=r(3),f=r(5).default;var w=r(37);a=w.MainController;var m=r(39);c=m.ToolbarAppletLayout,u=i.Radio.channel("global"),i.Radio.channel("messages"),n=i.Radio.channel("userprofile"),d=new i.Model({entries:[{name:"Profile",url:"#profile"},{name:"Map",url:"#profile/mapview"},{name:"Settings",url:"#profile/editconfig"},{name:"Change Password",url:"#profile/chpassword"}]}),h=p.renderable(function(u){return p.div(".btn-group.btn-group-justified",function(){var e,t,n,o,r,i;for(i=[],t=0,o=(r=u.entries).length;t<o;t++)e=r[t],n=(null!=e?e.icon:void 0)||"info",i.push(p.div(".toolbar-button.btn.btn-default",{"button-url":e.url},function(){return p.span(".fa.fa-"+n," "+e.name)}));return i})}),s=function(){var e=function(e){function t(){return v(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _(t,l.View),y(t,[{key:"toolbarButtonPressed",value:function(e){var t;return console.log("toolbarButtonPressed",e),t=e.currentTarget.getAttribute("button-url"),f(t)}}]),t}();return e.prototype.template=h,e.prototype.ui={toolbarButton:".toolbar-button"},e.prototype.events={"click @ui.toolbarButton":"toolbarButtonPressed"},e}.call(void 0),o=function(){var e=function(e){function t(){return v(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _(t,a),y(t,[{key:"setupLayoutIfNeeded",value:function(){var e;return function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setupLayoutIfNeeded",this).call(this),e=new s({model:d}),this.layout.showChildView("toolbar",e)}},{key:"show_profile",value:function(){var o=this;return this.setupLayoutIfNeeded(),r.e(96).then(function(){var e,t,n;return e=r(491),t=u.request("main:app:decode-auth-token"),n=new e({model:new i.Model(t)}),o.layout.showChildView("content",n)}.bind(null,r)).catch(r.oe)}},{key:"view_map",value:function(){var o=this;return this.setupLayoutIfNeeded(),Promise.all([r.e(101),r.e(95)]).then(function(){var e,t,n;return e=r(492),t=u.request("main:app:decode-auth-token"),n=new e({model:new i.Model(t)}),o.layout.showChildView("content",n)}.bind(null,r)).catch(r.oe)}},{key:"editConfig",value:function(){var o=this;return this.setupLayoutIfNeeded(),r.e(94).then(function(){var e,t,n;return e=r(499).default,t=u.request("main:app:decode-auth-token"),n=new e({model:new i.Model(t)}),o.layout.showChildView("content",n)}.bind(null,r)).catch(r.oe)}},{key:"change_password",value:function(){var t=this;return this.setupLayoutIfNeeded(),r.e(93).then(function(){var e;return e=new(r(500).default)({model:n.request("new-password-model")}),t.layout.showChildView("content",e)}.bind(null,r)).catch(r.oe)}}]),t}();return e.prototype.layoutClass=c,e}.call(void 0),e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u=f(n(1)),a=(f(n(2)),f(n(38))),l=f(n(88)),c=f(n(21)),s=f(n(329));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}u.default.Radio.channel("global"),u.default.Radio.channel("usgov"),i=[{button:"#list-button",label:"List",url:"#usgov",icon:".fa.fa-list"},{button:"#calendar-button",label:"Calendar",url:"#usgov/calendar",icon:".fa.fa-calendar"}],r=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,a.default),t}();return e.prototype.appRoutes={usgov:"view_index"},e}.call(void 0),o=function(){var e=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,l.default),t}();return e.prototype.Controller=s.default,e.prototype.Router=r,e.prototype.appletEntries=[{label:(0,c.default)("usgov")+" Menu",menu:i}],e}.call(void 0),t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,n,o=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),u=c(r(1)),a=(c(r(2)),c(r(3)),c(r(6)),c(r(89)),r(37)),l=r(39);function c(e){return e&&e.__esModule?e:{default:e}}r(330),r(5),r(40),u.default.Radio.channel("global"),u.default.Radio.channel("messages"),u.default.Radio.channel("resources"),i=u.default.Radio.channel("usgov"),n=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.MainController),o(t,[{key:"view_index",value:function(){var o=this;return this.setupLayoutIfNeeded(),0,r.e(97).then(function(){var t,n;return t=r(501),(n=i.request("get-roles-collection")).fetch().done(function(){var e;return e=new t({collection:n}),o.layout.showChildView("content",e)})}.bind(null,r)).catch(r.oe)}}]),t}();return e.prototype.layoutClass=l.ToolbarAppletLayout,e}.call(void 0),t.default=n},function(e,t,n){"use strict";var o,r,i,u,a,l,c,s,f,p,d=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),h=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0},y=(_(n(4)),_(n(1))),v=n(104),b=_(n(41));function _(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}u=y.default.Radio.channel("global"),o=y.default.Radio.channel("usgov"),s=u.request("main:app:dbConn","usgov"),a=new v.LoveStore(s,"Role"),r=function(){var e=function(e){function t(){return w(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,y.default.Model),t}();return e.prototype.loveStore=a,e}.call(void 0),i=function(){var e=function(e){function t(){return w(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,y.default.Collection),t}();return e.prototype.loveStore=a,e.prototype.model=r,e}.call(void 0),f=new i,o.reply("get_local_roles",function(){return f}),o.reply("get-role-model",function(){return r}),o.reply("get-role-collection",function(){return i}),c="https://www.govtrack.us/api/v2",l=function(){var e=function(e){function n(){return w(this,n),m(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return g(n,b.default),d(n,[{key:"url",value:function(){return c+"/role?current=true"}},{key:"fetcher",value:function(e){var t;return e=e||{},t=this.state.currentPage*this.state.pageSize,e.offset=t,e.dataType="jsonp",h(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"fetcher",this).call(this,e)}},{key:"parse",value:function(e){return console.log("parse(response)",e),this.state.pageSize=e.meta.limit,this.state.totalRecords=e.meta.total_count,this.state.totalPages=Math.ceil(this.state.totalRecords/this.state.pageSize),this.state.lastPage=this.state.totalPages-1,h(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"parse",this).call(this,e.objects)}}]),n}();return e.prototype.mode="server",e.prototype.full=!0,e.prototype.baseURL=c,e.prototype.state={firstPage:0,pageSize:20},e.prototype.queryParams={pageSize:"limit",offset:function(){return this.state.currentPage*this.state.pageSize},currentPage:"offset"},e}.call(void 0),p=new l,o.reply("get-roles-collection",function(){return p})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(1)),r=(s(n(2)),s(n(38))),i=s(n(88));n(332);var u,a,l,c=s(n(333));function s(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}o.default.Radio.channel("global"),o.default.Radio.channel("wikipages"),a=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,r.default),t}();return e.prototype.appRoutes={wikipages:"list_wikipages","wikipages/view/:name":"view_wikipage"},e}.call(void 0),l=[{button:"#list-button",label:"List",url:"#wikipages",icon:".fa.fa-list"}],u=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,i.default),t}();return e.prototype.Controller=c.default,e.prototype.Router=a,e.prototype.appletEntries=[{label:"Wikipages Menu",menu:l}],e}.call(void 0),t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WikiPageCollection=void 0;var o,r,i,u,a,l,c,s,f=n(1),p=(o=f)&&o.__esModule?o:{default:o},d=n(132);function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a=p.default.Radio.channel("global"),r=p.default.Radio.channel("wikipages"),u=a.request("main:app:AuthModel"),i=a.request("main:app:AuthCollection"),s="/api/dev/bsapi/main/wikipages",l=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,u),t}();return e.prototype.urlRoot=s,e}.call(void 0),t.WikiPageCollection=c=function(){var e=function(e){function t(){return h(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,i),t}();return e.prototype.url=s,e.prototype.model=l,e}.call(void 0),new c,(0,d.make_dbchannel)(r,"wikipage",l,c),t.WikiPageCollection=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,n,u,a,o,l,c=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),s=y(r(1)),f=(y(r(2)),y(r(3)),y(r(6)),y(r(89))),p=r(37),d=r(39),h=(y(r(5)),y(r(40)));function y(e){return e&&e.__esModule?e:{default:e}}u=s.default.Radio.channel("global"),a=s.default.Radio.channel("messages"),i=s.default.Radio.channel("wikipages"),o=[],l=new s.default.Collection(o),i.reply("get-toolbar-entries",function(){return l}),n=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p.MainController),c(t,[{key:"setupLayoutIfNeeded",value:function(){var e;return function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setupLayoutIfNeeded",this).call(this),e=new f.default({collection:l}),this.layout.showChildView("toolbar",e)}},{key:"_load_view",value:function(e,t,n){var o,r=this;return t.isEmpty()||!t.has("created_at")?((o=t.fetch()).done(function(){return r._show_view(e,t),(0,h.default)()}),o.fail(function(){var e;return e="Failed to load "+n+" data.",a.request("danger",e)})):this._show_view(e,t)}},{key:"list_wikipages",value:function(){var o=this;return this.setupLayoutIfNeeded(),r.e(102).then(function(){var e,t,n;return e=r(502).default,n=new e({collection:o.collection}),(t=o.collection.fetch()).done(function(){var e;if(o.layout.showChildView("content",n),!o.collection.length)return a.request("warning","adding initial page"),(e=new(u.request("main:app:AuthModel"))).url="/api/dev/bsapi/main/wikipages/X32_ABI",e.fetch().done(function(){return window.location.hash="#"})}),t.fail(function(){return a.request("danger","Failed to load wikipages.")})}.bind(null,r)).catch(r.oe)}},{key:"view_wikipage",value:function(n){var o=this;return this.setupLayoutIfNeeded(),r.e(103).then(function(){var e,t;return e=r(505),t=i.request("get-wikipage",n),console.log("MODEL",t),o._load_view(e,t,"wikipage")}.bind(null,r)).catch(r.oe)}}]),t}();return e.prototype.layoutClass=d.ToolbarAppletLayout,e.prototype.collection=i.request("wikipage-collection"),e}.call(void 0),t.default=n}])]);
//# sourceMappingURL=20-543ffd410cd9ba4ce011.js.map